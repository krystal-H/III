(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"0eIn":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAOCAYAAAAmL5yKAAACB0lEQVQ4T32ST2sTQRjGn9nZTTEKBeOtbv1T7zUHi8vmZMCw/QCBYsGT+DH88wEUeoseVTx4USyJFWpVYldaEJQEFROxCVqbi1Q0oWZnXpmZ3XRz0IXd2d2Z9/c+7/s+7HmzFzBChUi4RACZBwgYX6X6p/bQJViXS2fcmjrCXjS+d6QkdywoDdBAA44BitwtzZ2Y1oC1d9uUZDVJyagAYDGrcC4/9Up/AHi6ueVLIepqNzh7kmnAs7ffVISWTFI/RxDObb+Yn1pPA4QCEGHem0kAXzskyTWZk7pjFUlP0srUIYbuvHfKlLD6ZjsgiAqRdEe1GpIGDiWwvjOJ97uHMIhsHJ6IkJsYLu9QtvygzAZaxr8u7wYdsA5i1bbgZSzAYYATrxmOcJhB8b+Awm26agNXksCFWeBRA9Awc19jK5tfAoBVSKoS4mbGXrj1aRq/hw4cbrI/vAhcuLuvwrHQZisbWx1Vf9pAyfvSxxlwMCzmgYXT+4U+bgC1plbyhz15/Vm3jBMvnPeOjWZeDVv+nZZb74uMzq5k31sELt03CjKqHxxtVg3b2jWcc780d3w08+rLD/7Gj1y9uXtk1LzyLLDcMOUooK16UAvb2srGpuPzjyTDWu8ofkbZ8QmY4HBPoMiqYSsgQRWpfBAbJu0HQQytXzn09iYhyEaWiz5jfKkfWddvltngL3uXRG6qfr/OAAAAAElFTkSuQmCC"},"5jjE":function(e,t,a){},Hg3J:function(e,t,a){},"OBs/":function(e,t,a){},aIR0:function(e,t,a){},gyoc:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return X}));a("AUBz");var n=a("ZTPi"),r=(a("rB9j"),a("Rm1S"),a("q1tI")),l=a.n(r),c=a("MeRu"),i=(a("aIR0"),a("pNMO"),a("4Brf"),a("07d7"),a("0oug"),a("4mDm"),a("PKPk"),a("3bBZ"),a("+2oP"),a("sMBO"),a("pjDv"),a("qNb/"),a("PArb")),o=(a("OrB1"),a("gFTJ")),u=a("Nlzp"),d=a("DgvE"),s=a("739K"),m=a("DeUx");a("5jjE");function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,l=[],c=!0,i=!1;try{for(a=a.call(e);!(c=(n=a.next()).done)&&(l.push(n.value),!t||l.length!==t);c=!0);}catch(e){i=!0,r=e}finally{try{c||null==a.return||a.return()}finally{if(i)throw r}}return l}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function v(e){var t=e.devceId,a=f(Object(r.useState)({}),2),n=a[0],c=a[1];Object(r.useEffect)((function(){p()}),[]);var b,v,p=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];Object(u.c)(u.a.getDeviceInfo,{deviceId:t},{loading:e}).then((function(e){c(e.data)}))},y=f(Object(r.useState)(!1),2),E=y[0],I=y[1],g=function(){I(!E)},h=function(e){return e=E?e:Object(d.m)(e,10)};return l.a.createElement("div",{id:"device-info"},l.a.createElement(o.b,{title:"设备信息"},l.a.createElement(o.b.Item,{label:"设备ID"},n.deviceUniqueId),l.a.createElement(o.b.Item,{label:"设备秘钥"},h(n.deviceSecret),l.a.createElement("span",{onClick:g},E?l.a.createElement(s.a,null):l.a.createElement(m.a,null))),l.a.createElement(o.b.Item,{label:"物理地址"},n.deviceMac),l.a.createElement(o.b.Item,{label:"入网时间"},n.connectTime),l.a.createElement(o.b.Item,{label:"模组固件版本"},n.moduleVersion),l.a.createElement(o.b.Item,{label:"MCU固件版本"},n.pcbVersion),l.a.createElement(o.b.Item,{label:"绑定网关"},n.gateWay),l.a.createElement(o.b.Item,{label:"设备名称"},n.deviceName),l.a.createElement(o.b.Item,{label:"设备位置"},n.deviceSite),l.a.createElement(o.b.Item,{label:"绑定C端用户"},n.bindCUser),l.a.createElement(o.b.Item,{label:"SIM卡号"},n.simNumber),l.a.createElement(o.b.Item,{label:"IMEI"},n.deviceIdentifier)),l.a.createElement(i.a,null),l.a.createElement(o.b,{title:"产品信息"},l.a.createElement(o.b.Item,{label:"产品名称"},n.productName),l.a.createElement(o.b.Item,{label:"产品ID"},n.productId),l.a.createElement(o.b.Item,{label:"所属分类"},n.productType),l.a.createElement(o.b.Item,{label:"产品类型"},(b=n.productClass,v=null,"number"==typeof b&&(v=1==b?"网关设备":"普通设备"),v)),l.a.createElement(o.b.Item,{label:"产品编码"},n.productCode),l.a.createElement(o.b.Item,{label:"产品密钥"},h(n.productKey),l.a.createElement("span",{onClick:g},E?l.a.createElement(s.a,null):l.a.createElement(m.a,null)))))}a("tkto"),a("TeQF"),a("5DmW"),a("FZtP"),a("27RR"),a("5s+n"),a("L/Qf");var p=a("2/Rp"),y=(a("mbEz"),a("wCAj")),E=(a("Y2jk"),a("zeV3")),I=(a("O+5t"),a("wFql")),g=(a("tULf"),a("Vl3Y")),h=(a("1vPl"),a("5rEg")),A=(a("QCje"),a("fyUT")),O=(a("2B1R"),a("ls82"),a("FC04"));function j(e){var t=e.operate,a=e.visible,n=e.updateOkHandle,r=e.updateCancelHandle,c=null;switch(t){case 1:c={title:"发布云端定时功能",desc:"即将发布的功能",tip:"功能发布后，APP上可以看到并启用，是否确认发布？",needWarnIcon:!1};break;case 2:c={title:"删除云端定时功能",desc:"即将删除的功能",tip:"功能删除后将无法找回，是否确认删除？",needWarnIcon:!0};break;case 3:c={title:"下线云端定时功能",desc:"即将下线的功能",tip:"功能下线后将无法看到，是否确认下线？",needWarnIcon:!0}}return l.a.createElement(O.a,{visible:a,modalOKHandle:function(){return n(t)},modalCancelHandle:r,targetName:"test",title:c.title,descGray:!0,needWarnIcon:c.needWarnIcon,descText:c.desc,tipText:c.tip})}a("OBs/");var w=["editing","dataIndex","title","inputType","record","index","children"];function x(e,t,a,n,r,l,c){try{var i=e[l](c),o=i.value}catch(e){return void a(e)}i.done?t(o):Promise.resolve(o).then(n,r)}function k(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function S(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?k(Object(a),!0).forEach((function(t){C(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):k(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function C(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function N(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,l=[],c=!0,i=!1;try{for(a=a.call(e);!(c=(n=a.next()).done)&&(l.push(n.value),!t||l.length!==t);c=!0);}catch(e){i=!0,r=e}finally{try{c||null==a.return||a.return()}finally{if(i)throw r}}return l}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return T(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return T(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function P(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var D=function(e){var t=e.editing,a=e.dataIndex,n=e.title,r=e.inputType,c=(e.record,e.index,e.children),i=P(e,w),o="number"===r?l.a.createElement(A.a,null):l.a.createElement(h.a,null);return l.a.createElement("td",i,t?l.a.createElement(g.a.Item,{name:a,style:{margin:0,style:"100%"},rules:[{required:!0,message:"Please Input ".concat(n,"!")}]},o):c)};function B(e){var t=e.devceId,a=N(g.a.useForm(),1)[0],n=N(Object(r.useState)([]),2),c=n[0],i=n[1],o=N(Object(r.useState)(null),2),d=o[0],s=o[1],m=N(Object(r.useState)(""),2),f=m[0],b=m[1],v=N(Object(r.useState)(null),2),h=v[0],A=v[1],O=function(e){return e.id===f},w=N(Object(r.useState)(!1),2),k=w[0],C=w[1];Object(r.useEffect)((function(){V()}),[]);var T=function(e){a.setFieldsValue(S({name:"",age:""},e)),b(e.id)},P=function(e){var a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.deviceId=t,Object(u.c)(u.a.addDeviceLabel,e,{loading:a}).then((function(e){b(""),V()})).catch((function(e){b(""),V()}))},B=function(e){var a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.deviceId=t,Object(u.c)(u.a.updateDeviceLabel,e,{loading:a}).then((function(e){b(""),V()})).catch((function(e){b(""),V()}))},R=function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.validateFields();case 3:n=e.sent,t.id?(n.labelId=t.id,B(n)):P(n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("Validate Failed:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})),function(){var t=this,a=arguments;return new Promise((function(n,r){var l=e.apply(t,a);function c(e){x(l,n,r,c,i,"next",e)}function i(e){x(l,n,r,c,i,"throw",e)}c(void 0)}))});return function(e){return t.apply(this,arguments)}}(),U=[{title:"标签Key",dataIndex:"labelKey",editable:!0},{title:"标签Value",dataIndex:"labelValue",editable:!0},{title:"操作",dataIndex:"operation",render:function(e,t){return O(t)?l.a.createElement("span",null,l.a.createElement("a",{onClick:function(){return R(t)},style:{marginRight:8}},"保存")):l.a.createElement(E.b,null,l.a.createElement(I.a.Link,{disabled:""!==f,onClick:function(){return T(t)}},"编辑"),l.a.createElement(I.a.Link,{disabled:""!==f,onClick:function(){var e,a;e=2,a=t.id,C(!0),A(a),s(e)}},"删除"))}}].map((function(e){return e.editable?S(S({},e),{},{onCell:function(t){return{record:t,inputType:"text",dataIndex:e.dataIndex,title:e.title,editing:O(t)}}}):e})),V=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];Object(u.c)(u.a.getDeviceLabelList,{deviceId:t},{loading:e}).then((function(e){i(e.data.list)}))};return l.a.createElement("div",{id:"device-tag"},l.a.createElement(g.a,{form:a,component:!1},l.a.createElement(y.a,{components:{body:{cell:D}},dataSource:c,columns:U,rowClassName:"editable-row",rowKey:"id",pagination:!1})),l.a.createElement(p.a,{type:"primary",ghost:!0,className:"edit-table-btn",onClick:function(){!function(){var e=!1;if(f&&(e=!0),c.map((function(t){t.id||(e=!0)})),!e){var t=JSON.parse(JSON.stringify(c)),a={key:"".concat(t.length+1),labelKey:"",labelValue:"",id:0};t.push(a),i(t),T(a)}}()}},"添加标签"),k&&l.a.createElement(j,{visible:k,operate:d,updateOkHandle:function(){Object(u.c)(u.a.deleteDeviceLabel,{labelId:h}).then((function(e){C(!1),V()}))},updateCancelHandle:function(){C(!1)}}))}a("K4yd");var R=a("9yH6"),U=(a("t7Rh"),a("TL2v"));function V(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,l=[],c=!0,i=!1;try{for(a=a.call(e);!(c=(n=a.next()).done)&&(l.push(n.value),!t||l.length!==t);c=!0);}catch(e){i=!0,r=e}finally{try{c||null==a.return||a.return()}finally{if(i)throw r}}return l}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return K(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return K(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var L=n.a.TabPane;function z(){var e=V(Object(r.useState)([]),2),t=e[0];e[1];return l.a.createElement("div",{id:"device-shadow"},l.a.createElement(U.a,{style:{marginBottom:8,width:"100%",display:"flex"},desc:["设备影子是设备最新状态在平台的缓存信息，您可以在平台实时查询设备的运行和状态信息，也可以通过API获取设备状态信息。详细说明可参考",l.a.createElement("a",{onClick:function(){}},"帮助文档")]}),l.a.createElement(n.a,{defaultActiveKey:"1",className:"shadow-tab"},l.a.createElement(L,{key:"1",tab:"表单模式"},l.a.createElement("div",null,l.a.createElement(R.a.Group,{defaultValue:"a",size:"middle",onChange:function(e){},style:{margin:"6px 0  22px 0"}},l.a.createElement(R.a.Button,{value:"a"},"属性"),l.a.createElement(R.a.Button,{value:"b"},"事件"),l.a.createElement(R.a.Button,{value:"c"},"服务")),l.a.createElement(y.a,{dataSource:t,columns:[{title:"数据名称",dataIndex:"name",key:"name"},{title:"数据标识",dataIndex:"age",key:"age"},{title:"数据类型",dataIndex:"address",key:"address"},{title:"单位",dataIndex:"address",key:"address"},{title:"数据属性",dataIndex:"address",key:"address"},{title:"最新数据",dataIndex:"address",key:"address"},{title:"操作",dataIndex:"address",key:"address"}]}),";")),l.a.createElement(L,{key:"2",tab:"Json模式"})))}a("RKNx");var H=a("L41K"),W=(a("Hg3J"),a("0eIn")),Z=a.n(W);function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,l=[],c=!0,i=!1;try{for(a=a.call(e);!(c=(n=a.next()).done)&&(l.push(n.value),!t||l.length!==t);c=!0);}catch(e){i=!0,r=e}finally{try{c||null==a.return||a.return()}finally{if(i)throw r}}return l}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Q(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Q(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var Y=H.a.Step;function J(){var e=M(Object(r.useState)([]),2),t=e[0];e[1];return l.a.createElement("div",{id:"device-online-set"},l.a.createElement("div",{className:"comm-shadowbox device-setp-ttip"},l.a.createElement("div",{className:"step-title"},l.a.createElement("img",{src:Z.a}),l.a.createElement("span",null,"远程配置步骤")),l.a.createElement(U.a,{desc:["设备影子是设备最新状态在平台的缓存信息，您可以在平台实时查询设备的运行和状态信息，也可以通过API获取设备状态信息。详细说明可参考",l.a.createElement("a",{onClick:function(){}},"帮助文档")]}),l.a.createElement(H.a,{current:-1,initial:0},l.a.createElement(Y,{title:"创建远程配置任务",description:"创建远程配置任务，填写任务的目的或备注信息。"}),l.a.createElement(Y,{title:"添加配置数据",description:"添加要更新的产品配置数据字段和更新的数值。"}),l.a.createElement(Y,{title:"执行任务",description:"提交执行远程配置任务，设备更新结果实时可见。"}))),l.a.createElement("div",{className:"device-online-btn"},l.a.createElement(p.a,{type:"primary"},"创建任务")),l.a.createElement(y.a,{dataSource:t,columns:[{title:"任务ID",dataIndex:"name",key:"name"},{title:"任务名称",dataIndex:"age",key:"age"},{title:"任务说明",dataIndex:"address",key:"address"},{title:"任务状态",dataIndex:"address",key:"address"},{title:"执行时间",dataIndex:"address",key:"address"},{title:"操作",dataIndex:"address",key:"address"}]}),";")}var F=n.a.TabPane;function X(e){var t=e.match,a=e.history,i=Object(r.useMemo)((function(){return Object(d.h)("step")||"1"}),[]),o=t.params.id;return l.a.createElement("div",{id:"device-detail"},l.a.createElement(c.a,{backTitle:"设备详情"},l.a.createElement("div",{className:"device-top"},l.a.createElement("div",{className:"device-top-item"},l.a.createElement("label",{className:"device-label"},"设备ID："),l.a.createElement("span",{className:"device-text"},"405EE1100371"),l.a.createElement("span",{className:"device-status"},"离线")),l.a.createElement("div",{className:"device-top-item"},l.a.createElement("label",{className:"device-label"},"物理地址ID："),l.a.createElement("span",{className:"device-text"},"405EE1100371")),l.a.createElement("div",{className:"device-top-item"},l.a.createElement("label",{className:"device-label"},"产品名称："),l.a.createElement("span",{className:"device-text"},"405EE1100371")),l.a.createElement("div",{className:"device-top-item"},l.a.createElement("label",{className:"device-label"},"所属分类："),l.a.createElement("span",{className:"device-text"},"405EE1100371")))),l.a.createElement("div",{className:"comm-shadowbox common-tab device-content"},l.a.createElement(n.a,{defaultActiveKey:i,onChange:function(e){a.push(t.url+"?"+"step=".concat(e))}},l.a.createElement(F,{key:"1",tab:"基本信息"},l.a.createElement(v,{devceId:o})),l.a.createElement(F,{key:"2",tab:"设备标签"},l.a.createElement(B,{devceId:o})),l.a.createElement(F,{key:"3",tab:"设备影子"},l.a.createElement(z,{devceId:o})),l.a.createElement(F,{key:"4",tab:"远程配置"},l.a.createElement(J,{devceId:o})))))}},t7Rh:function(e,t,a){}}]);
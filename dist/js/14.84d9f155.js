(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{"0eIn":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAOCAYAAAAmL5yKAAACB0lEQVQ4T32ST2sTQRjGn9nZTTEKBeOtbv1T7zUHi8vmZMCw/QCBYsGT+DH88wEUeoseVTx4USyJFWpVYldaEJQEFROxCVqbi1Q0oWZnXpmZ3XRz0IXd2d2Z9/c+7/s+7HmzFzBChUi4RACZBwgYX6X6p/bQJViXS2fcmjrCXjS+d6QkdywoDdBAA44BitwtzZ2Y1oC1d9uUZDVJyagAYDGrcC4/9Up/AHi6ueVLIepqNzh7kmnAs7ffVISWTFI/RxDObb+Yn1pPA4QCEGHem0kAXzskyTWZk7pjFUlP0srUIYbuvHfKlLD6ZjsgiAqRdEe1GpIGDiWwvjOJ97uHMIhsHJ6IkJsYLu9QtvygzAZaxr8u7wYdsA5i1bbgZSzAYYATrxmOcJhB8b+Awm26agNXksCFWeBRA9Awc19jK5tfAoBVSKoS4mbGXrj1aRq/hw4cbrI/vAhcuLuvwrHQZisbWx1Vf9pAyfvSxxlwMCzmgYXT+4U+bgC1plbyhz15/Vm3jBMvnPeOjWZeDVv+nZZb74uMzq5k31sELt03CjKqHxxtVg3b2jWcc780d3w08+rLD/7Gj1y9uXtk1LzyLLDcMOUooK16UAvb2srGpuPzjyTDWu8ofkbZ8QmY4HBPoMiqYSsgQRWpfBAbJu0HQQytXzn09iYhyEaWiz5jfKkfWddvltngL3uXRG6qfr/OAAAAAElFTkSuQmCC"},"4ZAH":function(e,t,a){},RGxR:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return R}));a("pNMO"),a("4Brf"),a("07d7"),a("0oug"),a("4mDm"),a("PKPk"),a("3bBZ"),a("+2oP"),a("sMBO"),a("pjDv"),a("mbEz");var n=a("wCAj"),r=(a("L/Qf"),a("2/Rp")),l=(a("Y2jk"),a("zeV3")),c=(a("tULf"),a("Vl3Y")),i=(a("1vPl"),a("5rEg")),u=(a("RKNx"),a("L41K")),o=(a("8QGh"),a("2fM7")),m=a("q1tI"),s=a.n(m),d=a("MeRu"),f=a("0eIn"),b=a.n(f),E=(a("K4yd"),a("9yH6")),p=(a("k3Gp"),a("kLXV")),y=(a("AUBz"),a("ZTPi")),v=(a("4ZAH"),a("rwTb"));function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,l=[],c=!0,i=!1;try{for(a=a.call(e);!(c=(n=a.next()).done)&&(l.push(n.value),!t||l.length!==t);c=!0);}catch(e){i=!0,r=e}finally{try{c||null==a.return||a.return()}finally{if(i)throw r}}return l}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var g=u.a.Step,I=y.a.TabPane;function w(e){var t=e.isModalVisible,a=(e.colseMoadl,e.cancelModel),n=A(Object(m.useState)(0),2),l=n[0],c=n[1],i=Object(m.useRef)(null),o=Object(m.useRef)(null),d=Object(m.useRef)(null),f=[s.a.createElement("div",{key:"1"},l>0&&s.a.createElement(r.a,{style:{margin:"0 8px"},onClick:function(){c(l-1)}},"上一步"),l<2&&s.a.createElement(r.a,{type:"primary",onClick:function(){c(l+1)}},"下一步"),2===l&&s.a.createElement(r.a,{type:"primary",onClick:function(){return message.success("Processing complete!")}},"完成"))];return s.a.createElement(p.a,{title:"新增订阅",visible:t,onOk:function(){},onCancel:a,width:"900px",wrapClassName:"add-subscribe-modal",footer:f},s.a.createElement("div",{className:"add-subscribe"},s.a.createElement(u.a,{current:l},s.a.createElement(g,{title:"选择订阅对象"}),s.a.createElement(g,{title:"配置订阅内容"}),s.a.createElement(g,{title:"确定订阅方式"})),s.a.createElement("div",{className:"add-subscribe-main"},0===l&&s.a.createElement(j,{ref:i}),1===l&&s.a.createElement(C,{ref:o}),2===l&&s.a.createElement(S,{ref:d}))))}function j(e,t){var a=A(c.a.useForm(),1)[0];return Object(m.useImperativeHandle)(t,(function(){return{}})),s.a.createElement("div",{className:"step-one"},s.a.createElement(c.a,{form:a,labelAlign:"right"},s.a.createElement(c.a.Item,{name:"select",label:"订阅名称",rules:[{required:!0}]},s.a.createElement(i.a,null)),s.a.createElement(c.a.Item,{name:"select",label:"归属产品",rules:[{required:!0}]},s.a.createElement(o.a,null,s.a.createElement(o.a.Option,{value:"china"},"China"))),s.a.createElement(c.a.Item,{name:"radio-group",label:"选择设备"},s.a.createElement(E.a.Group,null,s.a.createElement(E.a,{value:"a"},"全部设备"),s.a.createElement(E.a,{value:"b"},"根据标签筛选设备"))),"a"===a.getFieldValue("radio-group")&&s.a.createElement(c.a.Item,{name:"address",label:""},s.a.createElement("div",null,s.a.createElement("div",null,"标签")))))}function C(e,t){return Object(m.useImperativeHandle)(t,(function(){return{}})),s.a.createElement("div",{className:"step-two"},s.a.createElement("div",{className:"product-title"},"已选择产品：睡眠监测器Light2.0"),s.a.createElement("div",{className:"select-tip"},"选择协议类型"),s.a.createElement(y.a,{defaultActiveKey:"1"},s.a.createElement(I,{tab:"免开发方案",key:"1"},"Content of Tab Pane 1"),s.a.createElement(I,{tab:"独立MCU方案",key:"2"},"Content of Tab Pane 2"),s.a.createElement(I,{tab:"SoC方案",key:"3"},"Content of Tab Pane 3")))}function S(e,t){var a=A(c.a.useForm(),1)[0];return Object(m.useImperativeHandle)(t,(function(){return{}})),s.a.createElement("div",{className:"step-one"},s.a.createElement(c.a,{form:a,labelAlign:"right"},s.a.createElement(c.a.Item,{name:"radio-group",label:"订阅方式",rules:[{required:!0}]},s.a.createElement(E.a.Group,null,s.a.createElement(E.a,{value:"a"},"API数据PUSH形式"),s.a.createElement(E.a,{value:"b"},"MQTT主题订阅"))),s.a.createElement(c.a.Item,{name:"select",label:s.a.createElement(v.a,{label:"数据订阅URL",tip:"第三方云服务接口的唯一标识，供C-life云推送服务给第三方云推送数据使用，现仅支持http方式"}),rules:[{required:!0}]},s.a.createElement(i.a,null)),s.a.createElement(c.a.Item,{name:"select",label:s.a.createElement(v.a,{label:"Token",tip:"第三方云服务接口对接C-life云推送服务的凭证，用来验证厂商服务接口的合法性"}),rules:[{required:!0}]},s.a.createElement(i.a,null)),s.a.createElement(c.a.Item,{label:" ",colon:!1},s.a.createElement("a",null,"订阅帮助文档"))))}j=Object(m.forwardRef)(j),C=Object(m.forwardRef)(C),S=Object(m.forwardRef)(S);var k=a("Nlzp");a("rvOk");function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,l=[],c=!0,i=!1;try{for(a=a.call(e);!(c=(n=a.next()).done)&&(l.push(n.value),!t||l.length!==t);c=!0);}catch(e){i=!0,r=e}finally{try{c||null==a.return||a.return()}finally{if(i)throw r}}return l}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return T(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return T(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var x=o.a.Option,M=u.a.Step;i.a.Search;function R(){var e=O(c.a.useForm(),1)[0],t=O(Object(m.useState)([]),2),a=(t[0],t[1],O(Object(m.useState)({}),2)),f=(a[0],a[1],O(Object(m.useState)([]),2)),E=f[0],p=f[1],y=[{title:"订阅ID",dataIndex:"urlConfId",key:"urlConfId"},{title:"订阅名称",dataIndex:"subscription",key:"subscription"},{title:"订阅方式",dataIndex:"pushWay",key:"pushWay",render:function(e){return s.a.createElement("span",null,e?"MQTT主题订阅":"API数据PUSH形")}},{title:"归属产品名称",dataIndex:"address",key:"address"},{title:"订阅更新时间",dataIndex:"updateTime",key:"updateTime"},{title:"状态",dataIndex:"pushState",key:"pushState",render:function(e){return s.a.createElement("span",null,e?"正常":"停用")}},{title:"操作",render:function(e,t){return s.a.createElement(l.b,{size:"middle"},s.a.createElement("a",null,"查看"),s.a.createElement("a",null,"编辑"),s.a.createElement("a",null,"停用"),s.a.createElement("a",null,"启动"))}}];Object(m.useEffect)((function(){v()}),[]);var v=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],a=e.getFieldsValue();Object(k.c)(k.a.subscribeList,a,{load:t}).then((function(e){p(e.data.list)}))},A=O(Object(m.useState)(!1),2),h=A[0],g=A[1];return s.a.createElement("div",{id:"subscribe-data"},s.a.createElement(d.a,{title:"数据订阅"},s.a.createElement("div",{className:"top-select"},s.a.createElement(o.a,{defaultValue:"lucy",style:{width:200},allowClear:!0},s.a.createElement(x,{value:"0"},"API数据PUSH形式 "),s.a.createElement(x,{value:"1"},"MQTT主题订阅")))),s.a.createElement("div",{className:"comm-shadowbox setp-ttip"},s.a.createElement("div",{className:"step-title"},s.a.createElement("img",{src:b.a}),s.a.createElement("span",null,"数据订阅步骤")),s.a.createElement(u.a,{current:-1,initial:0},s.a.createElement(M,{title:"选择产品",description:"可根据产品订阅以及设备性能标签，选择需要的数据对象。"}),s.a.createElement(M,{title:"配置订阅内容",description:"可知产品或设备的物模型，订阅详细的功能点数据信息。"}),s.a.createElement(M,{title:"确定订阅方式",description:"支持数据发送服务或MQTT订阅，两种不同的方式。"}))),s.a.createElement("div",{className:"comm-shadowbox device-content"},s.a.createElement("div",{className:"content-top"},s.a.createElement("div",{className:"content-top-left"},s.a.createElement(c.a,{className:"device-filter-form",form:e,layout:"inline"},s.a.createElement(c.a.Item,{name:"push_way",label:"订阅方式"},s.a.createElement(o.a,{allowClear:!0,style:{width:"200px"}},s.a.createElement(x,{value:"1"},"API数据PUSH形式"),s.a.createElement(x,{value:"0"},"MQTT主题订阅"))),s.a.createElement(c.a.Item,{name:"subscription",label:"订阅名称"},s.a.createElement(i.a,{style:{width:"228px"}})),s.a.createElement(c.a.Item,{label:" ",colon:!1,style:{marginRight:"2px"}},s.a.createElement(r.a,{type:"primary",onClick:function(){v()}},"查询")))),s.a.createElement(r.a,{type:"primary",onClick:function(){g(!0)}},"添加订阅")),s.a.createElement(n.a,{rowKey:"urlConfId",dataSource:E,columns:y})),h&&s.a.createElement(w,{isModalVisible:h,cancelModel:function(){g(!1)},colseMoadl:function(){g(!1)}}))}},rvOk:function(e,t,a){}}]);
(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"0eIn":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAOCAYAAAAmL5yKAAACB0lEQVQ4T32ST2sTQRjGn9nZTTEKBeOtbv1T7zUHi8vmZMCw/QCBYsGT+DH88wEUeoseVTx4USyJFWpVYldaEJQEFROxCVqbi1Q0oWZnXpmZ3XRz0IXd2d2Z9/c+7/s+7HmzFzBChUi4RACZBwgYX6X6p/bQJViXS2fcmjrCXjS+d6QkdywoDdBAA44BitwtzZ2Y1oC1d9uUZDVJyagAYDGrcC4/9Up/AHi6ueVLIepqNzh7kmnAs7ffVISWTFI/RxDObb+Yn1pPA4QCEGHem0kAXzskyTWZk7pjFUlP0srUIYbuvHfKlLD6ZjsgiAqRdEe1GpIGDiWwvjOJ97uHMIhsHJ6IkJsYLu9QtvygzAZaxr8u7wYdsA5i1bbgZSzAYYATrxmOcJhB8b+Awm26agNXksCFWeBRA9Awc19jK5tfAoBVSKoS4mbGXrj1aRq/hw4cbrI/vAhcuLuvwrHQZisbWx1Vf9pAyfvSxxlwMCzmgYXT+4U+bgC1plbyhz15/Vm3jBMvnPeOjWZeDVv+nZZb74uMzq5k31sELt03CjKqHxxtVg3b2jWcc780d3w08+rLD/7Gj1y9uXtk1LzyLLDcMOUooK16UAvb2srGpuPzjyTDWu8ofkbZ8QmY4HBPoMiqYSsgQRWpfBAbJu0HQQytXzn09iYhyEaWiz5jfKkfWddvltngL3uXRG6qfr/OAAAAAElFTkSuQmCC"},"5jjE":function(e,t,a){},Hg3J:function(e,t,a){},"OBs/":function(e,t,a){},aIR0:function(e,t,a){},gyoc:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return q}));a("AUBz");var n=a("ZTPi"),r=(a("rB9j"),a("Rm1S"),a("pNMO"),a("4Brf"),a("07d7"),a("0oug"),a("4mDm"),a("PKPk"),a("3bBZ"),a("+2oP"),a("sMBO"),a("pjDv"),a("qNb/"),a("PArb")),l=(a("OrB1"),a("gFTJ")),c=a("q1tI"),i=a.n(c),o=a("Nlzp"),u=a("DgvE"),d=a("739K"),s=a("DeUx");a("5jjE");function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,l=[],c=!0,i=!1;try{for(a=a.call(e);!(c=(n=a.next()).done)&&(l.push(n.value),!t||l.length!==t);c=!0);}catch(e){i=!0,r=e}finally{try{c||null==a.return||a.return()}finally{if(i)throw r}}return l}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function f(e){var t=e.devceId,a=m(Object(c.useState)({}),2),n=a[0],b=a[1];Object(c.useEffect)((function(){v()}),[]);var f,p,v=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];Object(o.c)(o.a.getDeviceInfo,{deviceId:t},{loading:e}).then((function(e){b(e.data)}))},y=m(Object(c.useState)(!1),2),E=y[0],I=y[1],g=function(){I(!E)},h=function(e){return e=E?e:Object(u.l)(e,10)};return i.a.createElement("div",{id:"device-info"},i.a.createElement(l.b,{title:"设备信息"},i.a.createElement(l.b.Item,{label:"设备ID"},n.deviceUniqueId),i.a.createElement(l.b.Item,{label:"设备秘钥"},h(n.deviceSecret),i.a.createElement("span",{onClick:g},E?i.a.createElement(d.a,null):i.a.createElement(s.a,null))),i.a.createElement(l.b.Item,{label:"物理地址"},n.deviceMac),i.a.createElement(l.b.Item,{label:"入网时间"},n.connectTime),i.a.createElement(l.b.Item,{label:"模组固件版本"},n.moduleVersion),i.a.createElement(l.b.Item,{label:"MCU固件版本"},n.pcbVersion),i.a.createElement(l.b.Item,{label:"绑定网关"},n.gateWay),i.a.createElement(l.b.Item,{label:"设备名称"},n.deviceName),i.a.createElement(l.b.Item,{label:"设备位置"},n.deviceSite),i.a.createElement(l.b.Item,{label:"绑定C端用户"},n.bindCUser),i.a.createElement(l.b.Item,{label:"SIM卡号"},n.simNumber),i.a.createElement(l.b.Item,{label:"IMEI"},n.deviceIdentifier)),i.a.createElement(r.a,null),i.a.createElement(l.b,{title:"产品信息"},i.a.createElement(l.b.Item,{label:"产品名称"},n.productName),i.a.createElement(l.b.Item,{label:"产品ID"},n.productId),i.a.createElement(l.b.Item,{label:"所属分类"},n.productType),i.a.createElement(l.b.Item,{label:"产品类型"},(f=n.productClass,p=null,"number"==typeof f&&(p=1==f?"网关设备":"普通设备"),p)),i.a.createElement(l.b.Item,{label:"产品编码"},n.productCode),i.a.createElement(l.b.Item,{label:"产品密钥"},h(n.productKey),i.a.createElement("span",{onClick:g},E?i.a.createElement(d.a,null):i.a.createElement(s.a,null)))))}a("tkto"),a("TeQF"),a("5DmW"),a("FZtP"),a("27RR"),a("5s+n"),a("L/Qf");var p=a("2/Rp"),v=(a("mbEz"),a("wCAj")),y=(a("Y2jk"),a("zeV3")),E=(a("O+5t"),a("wFql")),I=(a("tULf"),a("Vl3Y")),g=(a("1vPl"),a("5rEg")),h=(a("QCje"),a("fyUT")),A=(a("2B1R"),a("ls82"),a("FC04"));function O(e){var t=e.operate,a=e.visible,n=e.updateOkHandle,r=e.updateCancelHandle,l=null;switch(t){case 1:l={title:"发布云端定时功能",desc:"即将发布的功能",tip:"功能发布后，APP上可以看到并启用，是否确认发布？",needWarnIcon:!1};break;case 2:l={title:"删除云端定时功能",desc:"即将删除的功能",tip:"功能删除后将无法找回，是否确认删除？",needWarnIcon:!0};break;case 3:l={title:"下线云端定时功能",desc:"即将下线的功能",tip:"功能下线后将无法看到，是否确认下线？",needWarnIcon:!0}}return i.a.createElement(A.a,{visible:a,modalOKHandle:function(){return n(t)},modalCancelHandle:r,targetName:"test",title:l.title,descGray:!0,needWarnIcon:l.needWarnIcon,descText:l.desc,tipText:l.tip})}a("OBs/");var j=a("P2RN"),S=["editing","dataIndex","title","inputType","record","index","children"];function w(e,t,a,n,r,l,c){try{var i=e[l](c),o=i.value}catch(e){return void a(e)}i.done?t(o):Promise.resolve(o).then(n,r)}function x(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function k(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?x(Object(a),!0).forEach((function(t){C(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):x(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function C(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function N(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,l=[],c=!0,i=!1;try{for(a=a.call(e);!(c=(n=a.next()).done)&&(l.push(n.value),!t||l.length!==t);c=!0);}catch(e){i=!0,r=e}finally{try{c||null==a.return||a.return()}finally{if(i)throw r}}return l}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return T(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return T(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function D(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var P=function(e){var t=e.editing,a=e.dataIndex,n=e.title,r=e.inputType,l=(e.record,e.index,e.children),c=D(e,S),o="number"===r?i.a.createElement(h.a,null):i.a.createElement(g.a,null);return i.a.createElement("td",c,t?i.a.createElement(I.a.Item,{name:a,style:{margin:0,style:"100%"},rules:[{required:!0,message:"Please Input ".concat(n,"!")}]},o):l)};function B(e){var t=e.devceId,a=N(I.a.useForm(),1)[0],n=N(Object(c.useState)([]),2),r=n[0],l=n[1],u=N(Object(c.useState)(null),2),d=u[0],s=u[1],m=N(Object(c.useState)(""),2),b=m[0],f=m[1],g=N(Object(c.useState)(null),2),h=g[0],A=g[1],S=function(e){return e.id===b},x=N(Object(c.useState)(!1),2),C=x[0],T=x[1];Object(c.useEffect)((function(){U()}),[]);var D=function(e){a.setFieldsValue(k({name:"",age:""},e)),f(e.id)},B=function(e){var a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.deviceId=t,Object(o.c)(o.a.addDeviceLabel,e,{loading:a}).then((function(e){f(""),Object(j.a)({type:"success",description:"新增成功！"}),U()})).catch((function(e){f(""),U()}))},R=function(e){var a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.deviceId=t,Object(o.c)(o.a.updateDeviceLabel,e,{loading:a}).then((function(e){f(""),Object(j.a)({type:"success",description:"编辑成功！"}),U()})).catch((function(e){f(""),U()}))},V=function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.validateFields();case 3:n=e.sent,t.id?(n.labelId=t.id,R(n)):B(n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("Validate Failed:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})),function(){var t=this,a=arguments;return new Promise((function(n,r){var l=e.apply(t,a);function c(e){w(l,n,r,c,i,"next",e)}function i(e){w(l,n,r,c,i,"throw",e)}c(void 0)}))});return function(e){return t.apply(this,arguments)}}(),L=[{title:"标签Key",dataIndex:"labelKey",editable:!0},{title:"标签Value",dataIndex:"labelValue",editable:!0},{title:"操作",dataIndex:"operation",render:function(e,t){return S(t)?i.a.createElement("span",null,i.a.createElement("a",{onClick:function(){return V(t)},style:{marginRight:8}},"保存")):i.a.createElement(y.b,null,i.a.createElement(E.a.Link,{disabled:""!==b,onClick:function(){return D(t)}},"编辑"),i.a.createElement(E.a.Link,{disabled:""!==b,onClick:function(){var e,a;e=2,a=t.id,T(!0),A(a),s(e)}},"删除"))}}].map((function(e){return e.editable?k(k({},e),{},{onCell:function(t){return{record:t,inputType:"text",dataIndex:e.dataIndex,title:e.title,editing:S(t)}}}):e})),U=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];Object(o.c)(o.a.getDeviceLabelList,{deviceId:t},{loading:e}).then((function(e){l(e.data.list)}))};return i.a.createElement("div",{id:"device-tag"},i.a.createElement(I.a,{form:a,component:!1},i.a.createElement(v.a,{components:{body:{cell:P}},dataSource:r,columns:L,rowClassName:"editable-row",rowKey:"id",pagination:!1})),i.a.createElement(p.a,{type:"primary",ghost:!0,className:"edit-table-btn",onClick:function(){!function(){var e=!1;if(b&&(e=!0),r.map((function(t){t.id||(e=!0)})),!e){var t=JSON.parse(JSON.stringify(r)),a={key:"".concat(t.length+1),labelKey:"",labelValue:"",id:0};t.push(a),l(t),D(a)}}()}},"添加标签"),C&&i.a.createElement(O,{visible:C,operate:d,updateOkHandle:function(){Object(o.c)(o.a.deleteDeviceLabel,{labelId:h}).then((function(e){T(!1),Object(j.a)({type:"success",description:"删除成功！"}),U()}))},updateCancelHandle:function(){T(!1)}}))}a("K4yd");var R=a("9yH6"),V=(a("t7Rh"),a("TL2v"));function L(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,l=[],c=!0,i=!1;try{for(a=a.call(e);!(c=(n=a.next()).done)&&(l.push(n.value),!t||l.length!==t);c=!0);}catch(e){i=!0,r=e}finally{try{c||null==a.return||a.return()}finally{if(i)throw r}}return l}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return U(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return U(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var K=n.a.TabPane;function z(){var e=L(Object(c.useState)([]),2),t=e[0];e[1];return i.a.createElement("div",{id:"device-shadow"},i.a.createElement(V.a,{style:{marginBottom:8,width:"100%",display:"flex"},desc:["设备影子是设备最新状态在平台的缓存信息，您可以在平台实时查询设备的运行和状态信息，也可以通过API获取设备状态信息。详细说明可参考",i.a.createElement("a",{onClick:function(){}},"帮助文档")]}),i.a.createElement(n.a,{defaultActiveKey:"1",className:"shadow-tab"},i.a.createElement(K,{key:"1",tab:"表单模式"},i.a.createElement("div",null,i.a.createElement(R.a.Group,{defaultValue:"a",size:"middle",onChange:function(e){},style:{margin:"6px 0  22px 0"}},i.a.createElement(R.a.Button,{value:"a"},"属性"),i.a.createElement(R.a.Button,{value:"b"},"事件"),i.a.createElement(R.a.Button,{value:"c"},"服务")),i.a.createElement(v.a,{dataSource:t,columns:[{title:"数据名称",dataIndex:"name",key:"name"},{title:"数据标识",dataIndex:"age",key:"age"},{title:"数据类型",dataIndex:"address",key:"address"},{title:"单位",dataIndex:"address",key:"address"},{title:"数据属性",dataIndex:"address",key:"address"},{title:"最新数据",dataIndex:"address",key:"address"},{title:"操作",dataIndex:"address",key:"address"}]}),";")),i.a.createElement(K,{key:"2",tab:"Json模式"})))}a("RKNx");var H=a("L41K"),M=(a("Hg3J"),a("0eIn")),W=a.n(M);function Z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,l=[],c=!0,i=!1;try{for(a=a.call(e);!(c=(n=a.next()).done)&&(l.push(n.value),!t||l.length!==t);c=!0);}catch(e){i=!0,r=e}finally{try{c||null==a.return||a.return()}finally{if(i)throw r}}return l}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Q(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Q(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var J=H.a.Step;function Y(){var e=Z(Object(c.useState)([]),2),t=e[0];e[1];return i.a.createElement("div",{id:"device-online-set"},i.a.createElement("div",{className:"comm-shadowbox device-setp-ttip"},i.a.createElement("div",{className:"step-title"},i.a.createElement("img",{src:W.a}),i.a.createElement("span",null,"远程配置步骤")),i.a.createElement(V.a,{desc:["设备影子是设备最新状态在平台的缓存信息，您可以在平台实时查询设备的运行和状态信息，也可以通过API获取设备状态信息。详细说明可参考",i.a.createElement("a",{onClick:function(){}},"帮助文档")]}),i.a.createElement(H.a,{current:-1,initial:0},i.a.createElement(J,{title:"创建远程配置任务",description:"创建远程配置任务，填写任务的目的或备注信息。"}),i.a.createElement(J,{title:"添加配置数据",description:"添加要更新的产品配置数据字段和更新的数值。"}),i.a.createElement(J,{title:"执行任务",description:"提交执行远程配置任务，设备更新结果实时可见。"}))),i.a.createElement("div",{className:"device-online-btn"},i.a.createElement(p.a,{type:"primary"},"创建任务")),i.a.createElement(v.a,{dataSource:t,columns:[{title:"任务ID",dataIndex:"name",key:"name"},{title:"任务名称",dataIndex:"age",key:"age"},{title:"任务说明",dataIndex:"address",key:"address"},{title:"任务状态",dataIndex:"address",key:"address"},{title:"执行时间",dataIndex:"address",key:"address"},{title:"操作",dataIndex:"address",key:"address"}]}),";")}var F=a("MeRu"),X=(a("aIR0"),n.a.TabPane);function q(e){var t=e.match,a=e.history,r=Object(c.useMemo)((function(){return Object(u.g)("step")||"1"}),[]),l=t.params.id,o={};return sessionStorage.DEVICE_DETAIL_BASE&&(o=JSON.parse(sessionStorage.DEVICE_DETAIL_BASE)),i.a.createElement("div",{id:"device-detail"},i.a.createElement(F.a,{backTitle:"设备详情"},i.a.createElement("div",{className:"device-top"},i.a.createElement("div",{className:"device-top-item"},i.a.createElement("label",{className:"device-label"},"设备ID："),i.a.createElement("span",{className:"device-text"},o.deviceId),i.a.createElement("span",{className:"device-status"},1==o.onlineStatus?"在线":"离线")),i.a.createElement("div",{className:"device-top-item"},i.a.createElement("label",{className:"device-label"},"物理地址ID："),i.a.createElement("span",{className:"device-text"}),o.deviceMac),i.a.createElement("div",{className:"device-top-item"},i.a.createElement("label",{className:"device-label"},"产品名称："),i.a.createElement("span",{className:"device-text"},o.productName)),i.a.createElement("div",{className:"device-top-item"},i.a.createElement("label",{className:"device-label"},"所属分类："),i.a.createElement("span",{className:"device-text"},o.productType)))),i.a.createElement("div",{className:"comm-shadowbox common-tab device-content"},i.a.createElement(n.a,{defaultActiveKey:r,onChange:function(e){a.push(t.url+"?"+"step=".concat(e))}},i.a.createElement(X,{key:"1",tab:"基本信息"},i.a.createElement(f,{devceId:l})),i.a.createElement(X,{key:"2",tab:"设备标签"},i.a.createElement(B,{devceId:l})),i.a.createElement(X,{key:"3",tab:"设备影子"},i.a.createElement(z,{devceId:l})),i.a.createElement(X,{key:"4",tab:"远程配置"},i.a.createElement(Y,{devceId:l})))))}},t7Rh:function(e,t,a){}}]);
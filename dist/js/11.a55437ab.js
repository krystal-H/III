(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"0eIn":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAOCAYAAAAmL5yKAAACB0lEQVQ4T32ST2sTQRjGn9nZTTEKBeOtbv1T7zUHi8vmZMCw/QCBYsGT+DH88wEUeoseVTx4USyJFWpVYldaEJQEFROxCVqbi1Q0oWZnXpmZ3XRz0IXd2d2Z9/c+7/s+7HmzFzBChUi4RACZBwgYX6X6p/bQJViXS2fcmjrCXjS+d6QkdywoDdBAA44BitwtzZ2Y1oC1d9uUZDVJyagAYDGrcC4/9Up/AHi6ueVLIepqNzh7kmnAs7ffVISWTFI/RxDObb+Yn1pPA4QCEGHem0kAXzskyTWZk7pjFUlP0srUIYbuvHfKlLD6ZjsgiAqRdEe1GpIGDiWwvjOJ97uHMIhsHJ6IkJsYLu9QtvygzAZaxr8u7wYdsA5i1bbgZSzAYYATrxmOcJhB8b+Awm26agNXksCFWeBRA9Awc19jK5tfAoBVSKoS4mbGXrj1aRq/hw4cbrI/vAhcuLuvwrHQZisbWx1Vf9pAyfvSxxlwMCzmgYXT+4U+bgC1plbyhz15/Vm3jBMvnPeOjWZeDVv+nZZb74uMzq5k31sELt03CjKqHxxtVg3b2jWcc780d3w08+rLD/7Gj1y9uXtk1LzyLLDcMOUooK16UAvb2srGpuPzjyTDWu8ofkbZ8QmY4HBPoMiqYSsgQRWpfBAbJu0HQQytXzn09iYhyEaWiz5jfKkfWddvltngL3uXRG6qfr/OAAAAAElFTkSuQmCC"},"5pZq":function(e,t,a){},Dldd:function(e,t,a){},"WO/V":function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return H}));a("pNMO"),a("4Brf"),a("07d7"),a("0oug"),a("4mDm"),a("PKPk"),a("3bBZ"),a("+2oP"),a("sMBO"),a("pjDv"),a("mbEz");var n=a("wCAj"),r=(a("L/Qf"),a("2/Rp")),l=(a("qNb/"),a("PArb")),c=(a("1vPl"),a("5rEg")),o=(a("RKNx"),a("L41K")),i=(a("8QGh"),a("2fM7")),u=(a("2B1R"),a("q1tI")),s=a.n(u),m=a("MeRu"),d=a("0eIn"),p=a.n(d),f=a("mU7p"),v=a("DgvE"),y=(a("Nlzp"),a("k3Gp"),a("kLXV")),b=(a("TfFZ"),a("3S7+")),E=(a("tULf"),a("Vl3Y")),A=a("zqxM"),k=a.n(A),g=a("BkRI"),h=a.n(g),C=(a("TeQF"),a("ma9I"),a("pDQq"),a("Lyp1")),w=a("/MfK"),S=a("Ue1A"),O=a("P2RN");a("5pZq");function j(e){return function(e){if(Array.isArray(e))return x(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||N(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,l=[],c=!0,o=!1;try{for(a=a.call(e);!(c=(n=a.next()).done)&&(l.push(n.value),!t||l.length!==t);c=!0);}catch(e){o=!0,r=e}finally{try{c||null==a.return||a.return()}finally{if(o)throw r}}return l}(e,t)||N(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){if(e){if("string"==typeof e)return x(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?x(e,t):void 0}}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var D=i.a.Option;function T(e){var t=e.visible,a=e.onCancel,n=e.type,l=I(E.a.useForm(),1)[0],o=I(Object(u.useState)(!1),2),m=o[0],d=o[1],p=I(Object(u.useState)(""),2),f=p[0],v=p[1],A=I(Object(u.useState)([]),2),g=A[0],N=A[1],x=[{key:1,value:"aaa"},{key:2,value:"bbb"},{key:3,value:"ccc"},{key:4,value:"ddd"}];Object(u.useEffect)((function(){"edit"===n&&N(x)}),[]),Object(u.useEffect)((function(){console.log(g)}),[g]),Object(u.useEffect)((function(){console.log(f,"protocolItemIndex--------")}),[f]);var T,B=function(){var e=h()(x).map((function(e){return e.value})),t=h()(g).map((function(e){return e.value}));return k()(e,t)};return s.a.createElement(y.a,{title:"add"===n?"添加云端定时功能":"编辑云端定时功能",width:655,visible:t,onOk:function(){l.submit()},onCancel:a,maskClosable:!1,destroyOnClose:!0,wrapClassName:"replace-module-modal"},s.a.createElement("div",{className:"cloud-manage-modal"},s.a.createElement(E.a,{form:l,onFinish:function(e){console.log("Received values of form: ",e),console.log(g,"******")},labelCol:{span:4},wrapperCol:{span:19}},s.a.createElement(E.a.Item,{label:"功能名称",name:"serviceName",rules:[{required:!0,message:"请输入功能名称"},{max:20,message:"最大输入长度为20"}]},s.a.createElement(c.a,{placeholder:"不超过20个字符"})),s.a.createElement(E.a.Item,{label:"归属产品",name:"username",rules:[{required:!0,message:"请选择归属产品"}]},s.a.createElement(i.a,null,s.a.createElement(D,{value:"Option1-1"},"Option1-1"),s.a.createElement(D,{value:"Option1-2"},"Option1-2"))),s.a.createElement(E.a.Item,{label:s.a.createElement(s.a.Fragment,null,"关联协议",s.a.createElement(b.a,{title:"仅支持可下发类型数据",placement:"top"}," ",s.a.createElement(C.a,null)," "))},g.length>0&&s.a.createElement("div",{className:"show-protocol-box"},g.map((function(e,t){return s.a.createElement("div",{className:"protocol-bar",key:t},s.a.createElement("p",{className:"protocol-bar-title"},"选择的选项-----",e.value),s.a.createElement("div",null,s.a.createElement("span",null,"CO_Null_Reset_asdfasdfdsafasdfklas"),s.a.createElement("span",null,"布尔型"),s.a.createElement("span",null,"0-1|1-2")),s.a.createElement("span",{className:"protocol-bar-del",onClick:function(){return function(e){var t=h()(g);t.splice(e,1),N(t)}(t)}},s.a.createElement(w.a,null)," 删除"))}))),m&&s.a.createElement("div",{className:"select-protocol-box"},s.a.createElement("div",null,s.a.createElement(i.a,{value:f,onChange:function(e){v(e)},style:{width:365}},s.a.createElement(D,{key:"",value:""},"请选择需要相关的协议"),(T=B(),console.log(T,"protocolNames"),T.map((function(e,t){return s.a.createElement(D,{key:t,value:e},e)}))))),s.a.createElement("div",{className:"control-btns"},s.a.createElement("div",{className:"confirm-btn",onClick:function(){return function(){if(""===f)return Object(O.a)({type:"error",message:"参数缺失",description:"请先选择一个控制协议字段"});N((function(e){var t=h()(e),a=x.filter((function(e){return e.value===f}));return console.log([].concat(j(t),j(a)),"*************"),[].concat(j(t),j(a))})),d(!1),v("")}()}},s.a.createElement(S.a,null)," 确定"),s.a.createElement("div",{className:"del-btn",onClick:function(){return d(!1),void v("")}},s.a.createElement(w.a,null)," 删除"))),s.a.createElement(r.a,{className:"add-btn",onClick:function(){d(!0)}},"添加功能点")))))}var B=a("FC04");function Z(e){var t=e.operate,a=e.visible,n=e.updateOkHandle,r=e.updateCancelHandle,l=null;switch(t){case 1:l={title:"发布云端定时功能",desc:"即将发布的功能",tip:"功能发布后，APP上可以看到并启用，是否确认发布？",needWarnIcon:!1};break;case 2:l={title:"删除云端定时功能",desc:"即将删除的功能",tip:"功能删除后将无法找回，是否确认删除？",needWarnIcon:!0};break;case 3:l={title:"下线云端定时功能",desc:"即将下线的功能",tip:"功能下线后将无法看到，是否确认下线？",needWarnIcon:!0}}return s.a.createElement(B.a,{visible:a,modalOKHandle:function(){return n(t)},modalCancelHandle:r,targetName:"test",title:l.title,descGray:!0,needWarnIcon:l.needWarnIcon,descText:l.desc,tipText:l.tip})}a("Dldd");function Q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,l=[],c=!0,o=!1;try{for(a=a.call(e);!(c=(n=a.next()).done)&&(l.push(n.value),!t||l.length!==t);c=!0);}catch(e){o=!0,r=e}finally{try{c||null==a.return||a.return()}finally{if(o)throw r}}return l}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return z(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return z(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var R=i.a.Option,U=o.a.Step,W=c.a.Search;function H(){var e=Q(Object(u.useState)(null),2),t=e[0],a=e[1],c=Q(Object(u.useState)(!1),2),d=c[0],y=c[1],b=Q(Object(u.useState)(!1),2),E=b[0],A=b[1],k=Q(Object(u.useState)(!1),2),g=k[0],h=k[1],C=Q(Object(u.useState)([]),2),w=C[0],S=(C[1],Q(Object(u.useState)([{key:1,name:"a",age:1,address:"aaaaa",status:"0"},{key:2,name:"b",age:11,address:"111aaaaa",status:"1"},{key:21,name:"1b",age:111,address:"111aaaaa",status:"2"}]),2)),O=S[0],j=(S[1],[{title:"功能名称",dataIndex:"serviceName",key:"serviceName"},{title:"关联协议",dataIndex:"propertyName",key:"propertyName",render:function(e,t){return s.a.createElement("div",null,t.timerServiceDetails&&t.timerServiceDetails.map((function(e,t){return s.a.createElement("div",{key:t},e.propertyName)})))}},{title:"协议数据标识",dataIndex:"property",key:"property",render:function(e,t){return s.a.createElement("div",null,t.timerServiceDetails&&t.timerServiceDetails.map((function(e,t){return s.a.createElement("div",{key:t},e.property)})))}},{title:"归属产品名称",dataIndex:"address",key:"address"},{title:"协议数据类型",dataIndex:"functionDataType",key:"functionDataType",width:160,render:function(e,t){return s.a.createElement("div",null,t.timerServiceDetails&&t.timerServiceDetails.map((function(e,t){return s.a.createElement("div",{key:t},Object(v.l)(e))})))}},{title:"状态",dataIndex:"status",key:"status",width:120,render:function(e,t){return s.a.createElement("span",null,f.a[t.status])}},{title:"操作",key:"action",width:200,render:function(e,t){return s.a.createElement("span",null,"1"!==t.status?s.a.createElement(s.a.Fragment,null,s.a.createElement("a",{onClick:function(){h(!0)}},"编辑"),s.a.createElement(l.a,{type:"vertical"}),s.a.createElement("a",{onClick:function(){N(1)}},"发布"),s.a.createElement(l.a,{type:"vertical"}),s.a.createElement("a",{onClick:function(){N(2)}},"删除")):s.a.createElement("a",{onClick:function(){N(3)}},"下线"))}}]);Object(u.useEffect)((function(){I()}),[]);var I=function(){},N=function(e){A(!0),a(e)};return s.a.createElement("div",{id:"cloud-time"},s.a.createElement(m.a,{title:"云端定时"},s.a.createElement("div",{className:"top-select"},s.a.createElement(i.a,{defaultValue:"all",style:{width:200},allowClear:!0},s.a.createElement(R,{value:"all"},"全部产品")))),s.a.createElement("div",{className:"comm-shadowbox setp-ttip"},s.a.createElement("div",{className:"step-title"},s.a.createElement("img",{src:p.a,alt:""}),s.a.createElement("span",null,"云端定时步骤")),s.a.createElement(o.a,{current:-1,initial:0},s.a.createElement(U,{title:"创建定时功能",description:"可以使用产品的控制数据功能的点，创建定时功能。"}),s.a.createElement(U,{title:"发布定时功能",description:"定时功能确认无误后，可以发布到Clife或您创建的App上。"}),s.a.createElement(U,{title:"App端配置",description:"在App端基于已经发布的定时功能，配置定时任务。"}),s.a.createElement(U,{title:"App端应用",description:"满足定时任务的触发条件后，自动发送指令控制设备。"}))),s.a.createElement("div",{className:"comm-shadowbox device-content"},s.a.createElement("div",{className:"content-top"},s.a.createElement("div",{className:"content-top-left"},s.a.createElement(W,{placeholder:"请输入功能名称",onSearch:function(e){return console.log(e)},enterButton:!0,style:{width:465}})),s.a.createElement(r.a,{type:"primary",onClick:function(){return y(!0)}},"创 建")),s.a.createElement(n.a,{dataSource:O,columns:j})),d&&s.a.createElement(T,{visible:d,type:"add",usedPropertys:w,onCancel:function(){return y(!1)}}),g&&s.a.createElement(T,{visible:g,type:"edit",onCancel:function(){return h(!1)}}),E&&s.a.createElement(Z,{visible:E,operate:t,updateOkHandle:function(){return console.log("确定-调接口"),alert("确定-调接口"),void A(!1)},updateCancelHandle:function(){A(!1)}}))}},mU7p:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return r}));var n={0:"开发中",1:"已发布",2:"审核中"},r={0:"草稿",1:"已发布",2:"删除"}}}]);
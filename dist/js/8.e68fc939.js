(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"5jjE":function(e,t,a){},"7EV8":function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));a("62KB"),a("av3G"),a("I9ul");var n=function(e,t,a,n,r){if(!Array.isArray(e))return 1;for(var c=e.map((function(e){return e[r]})),i=e.map((function(e){return e[t]})),l=c[0],o=[[l]],u=0,s=1;s<c.length;s++)c[s]===l?o[u].push(c[s]):(o[u+=1]=[],o[u].push(c[s]),l=c[s]);var d=[];o.forEach((function(e,t){d[t]=[],d[t]=i.splice(0,e.length)}));var f=[];d.forEach((function(e,t){var a=d[t][0],n=0;f[t]=[],f[t][n]=[],e.forEach((function(e,r){a===e?f[t][n].push(e):(n+=1,f[t][n]=[],f[t][n].push(e),a=e)}))}));var m=[];f.forEach((function(e){e.forEach((function(e){m.push(e)}))}));var p=[];m.forEach((function(e){for(var t=e.length,a=0;a<t;a++)p.push(0===a?t:0)}));var b={children:n,props:{}};return b.props.rowSpan=p[a],b}},Hg3J:function(e,t,a){},"OBs/":function(e,t,a){},aIR0:function(e,t,a){},gyoc:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return Ve}));a("59iL");var n=a("f6Fh"),r=(a("J2lP"),a("DJj6"),a("ef1R"),a("Ra8s"),a("sfoS"),a("HsXu"),a("bs69"),a("Lm8M"),a("ryEf"),a("qgAm"),a("9b3Y"),a("Ck9u"),a("SmMv"),a("DTgQ")),c=(a("miF7"),a("QnTe")),i=a("T9Mk"),l=a.n(i),o=a("Nlzp"),u=a("DgvE"),s=a("S18n");a("5jjE");function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,c=[],i=!0,l=!1;try{for(a=a.call(e);!(i=(n=a.next()).done)&&(c.push(n.value),!t||c.length!==t);i=!0);}catch(e){l=!0,r=e}finally{try{i||null==a.return||a.return()}finally{if(l)throw r}}return c}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function m(e){var t=e.devceId,a=d(Object(i.useState)({}),2),n=a[0],u=a[1];Object(i.useEffect)((function(){p()}),[]);var f,m,p=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];Object(o.c)(o.a.getDeviceInfo,{deviceId:t},{loading:e}).then((function(e){u(e.data)}))};return l.a.createElement("div",{id:"device-info"},l.a.createElement(c.b,{title:"设备信息"},l.a.createElement(c.b.Item,{label:"设备ID"},n.deviceUniqueId),l.a.createElement(c.b.Item,{label:"设备秘钥"},l.a.createElement("span",null,l.a.createElement(s.a,{label:n.deviceSecret,tip:"点击复制",copy:!0}))),l.a.createElement(c.b.Item,{label:"物理地址"},n.deviceMac),l.a.createElement(c.b.Item,{label:"入网时间"},n.connectTime),l.a.createElement(c.b.Item,{label:"模组固件版本"},n.moduleVersion),l.a.createElement(c.b.Item,{label:"MCU固件版本"},n.pcbVersion),l.a.createElement(c.b.Item,{label:"绑定网关"},n.gateWay),l.a.createElement(c.b.Item,{label:"设备名称"},n.deviceName),l.a.createElement(c.b.Item,{label:"设备位置"},n.deviceSite),l.a.createElement(c.b.Item,{label:"绑定C端用户"},n.bindCUser),l.a.createElement(c.b.Item,{label:"SIM卡号"},n.simNumber),l.a.createElement(c.b.Item,{label:"IMEI"},n.deviceIdentifier)),l.a.createElement(r.a,null),l.a.createElement(c.b,{title:"产品信息"},l.a.createElement(c.b.Item,{label:"产品名称"},n.productName),l.a.createElement(c.b.Item,{label:"产品ID"},n.productId),l.a.createElement(c.b.Item,{label:"所属分类"},n.productType),l.a.createElement(c.b.Item,{label:"产品类型"},(f=n.productClass,m=null,"number"==typeof f&&(m=1==f?"网关设备":"普通设备"),m)),l.a.createElement(c.b.Item,{label:"产品编码"},n.productCode),l.a.createElement(c.b.Item,{label:"产品密钥"},l.a.createElement("span",null,l.a.createElement(s.a,{label:n.productKey,tip:"点击复制",copy:!0})))))}a("IHDg"),a("P37N"),a("vV4J"),a("av3G"),a("RfWx"),a("gAA8"),a("MNU5");var p=a("YeX6"),b=(a("QcZr"),a("b+L2")),y=(a("SiC7"),a("AePH")),v=(a("yIop"),a("jGbM")),h=(a("6IzV"),a("QFmM")),g=(a("UdMA"),a("ViyK")),E=(a("8OUX"),a("KCXd")),O=(a("62KB"),a("amE0"),a("FC04"));function I(e){var t=e.operate,a=e.visible,n=e.updateOkHandle,r=e.updateCancelHandle,c=null;switch(t){case 1:c={title:"发布云端定时功能",desc:"即将发布的功能",tip:"功能发布后，APP上可以看到并启用，是否确认发布？",needWarnIcon:!1};break;case 2:c={title:"删除标签",tip:"标签删除后将无法找回，是否确认删除？",needWarnIcon:!0};break;case 3:c={title:"下线云端定时功能",desc:"即将下线的功能",tip:"功能下线后将无法看到，是否确认下线？",needWarnIcon:!0}}return l.a.createElement(O.a,{visible:a,modalOKHandle:function(){return n(t)},modalCancelHandle:r,targetName:"test",title:c.title,descGray:!0,needWarnIcon:c.needWarnIcon,descText:c.desc,tipText:c.tip})}a("OBs/");var j=a("P2RN"),w=["editing","dataIndex","title","inputType","record","index","children"];function S(e,t,a,n,r,c,i){try{var l=e[c](i),o=l.value}catch(e){return void a(e)}l.done?t(o):Promise.resolve(o).then(n,r)}function x(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function k(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?x(Object(a),!0).forEach((function(t){A(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):x(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function A(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,c=[],i=!0,l=!1;try{for(a=a.call(e);!(i=(n=a.next()).done)&&(c.push(n.value),!t||c.length!==t);i=!0);}catch(e){l=!0,r=e}finally{try{i||null==a.return||a.return()}finally{if(l)throw r}}return c}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return T(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return T(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function N(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var D=function(e){var t=e.editing,a=e.dataIndex,n=e.title,r=e.inputType,c=(e.record,e.index,e.children),i=N(e,w),o="number"===r?l.a.createElement(E.a,null):l.a.createElement(g.a,{maxLength:50});return l.a.createElement("td",i,t?l.a.createElement(h.a.Item,{name:a,style:{margin:0,style:"100%"},rules:[{required:!0,message:"Please Input ".concat(n,"!")}]},o):c)};function P(e){var t=e.devceId,a=C(h.a.useForm(),1)[0],n=C(Object(i.useState)([]),2),r=n[0],c=n[1],u=C(Object(i.useState)(null),2),s=u[0],d=u[1],f=C(Object(i.useState)(""),2),m=f[0],g=f[1],E=C(Object(i.useState)(null),2),O=E[0],w=E[1],x=function(e){return e.id===m},A=C(Object(i.useState)(!1),2),T=A[0],N=A[1];Object(i.useEffect)((function(){K()}),[]);var P=function(e){a.setFieldsValue(k({name:"",age:""},e)),g(e.id)},M=function(e){var a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.deviceId=t,Object(o.c)(o.a.addDeviceLabel,e,{loading:a}).then((function(e){g(""),Object(j.a)({type:"success",description:"新增成功！"}),K()})).catch((function(e){g(""),K()}))},R=function(e){var a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.deviceId=t,Object(o.c)(o.a.updateDeviceLabel,e,{loading:a}).then((function(e){g(""),Object(j.a)({type:"success",description:"编辑成功！"}),K()})).catch((function(e){g(""),K()}))},J=function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.validateFields();case 3:n=e.sent,t.id?(n.labelId=t.id,R(n)):M(n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("Validate Failed:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})),function(){var t=this,a=arguments;return new Promise((function(n,r){var c=e.apply(t,a);function i(e){S(c,n,r,i,l,"next",e)}function l(e){S(c,n,r,i,l,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}(),V=[{title:"标签Key",dataIndex:"labelKey",editable:!0},{title:"标签Value",dataIndex:"labelValue",editable:!0},{title:"操作",dataIndex:"operation",render:function(e,t){return x(t)?l.a.createElement("span",null,l.a.createElement("a",{onClick:function(){return J(t)},style:{marginRight:8}},"保存")):l.a.createElement(y.b,null,l.a.createElement(v.a.Link,{disabled:""!==m,onClick:function(){return P(t)}},"编辑"),l.a.createElement(v.a.Link,{disabled:""!==m,onClick:function(){var e,a;e=2,a=t.id,N(!0),w(a),d(e)}},"删除"))}}].map((function(e){return e.editable?k(k({},e),{},{onCell:function(t){return{record:t,inputType:"text",dataIndex:e.dataIndex,title:e.title,editing:x(t)}}}):e})),K=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];Object(o.c)(o.a.getDeviceLabelList,{deviceId:t},{loading:e}).then((function(e){c(e.data.list)}))};return l.a.createElement("div",{id:"device-tag"},l.a.createElement(h.a,{form:a,component:!1},l.a.createElement(b.a,{components:{body:{cell:D}},dataSource:r,columns:V,rowClassName:"editable-row",rowKey:"id",pagination:!1})),l.a.createElement(p.a,{type:"primary",ghost:!0,className:"edit-table-btn",onClick:function(){!function(){var e=!1;if(m&&(e=!0),r.map((function(t){t.id||(e=!0)})),!e){var t=JSON.parse(JSON.stringify(r)),a={key:"".concat(t.length+1),labelKey:"",labelValue:"",id:0};t.push(a),c(t),P(a)}}()}},"添加标签"),T&&l.a.createElement(I,{visible:T,operate:s,updateOkHandle:function(){Object(o.c)(o.a.deleteDeviceLabel,{labelId:O}).then((function(e){N(!1),Object(j.a)({type:"success",description:"删除成功！"}),K()}))},updateCancelHandle:function(){N(!1)}}))}a("oENA");var M=a("uTCA"),R=(a("t7Rh"),a("TL2v")),J=(a("hjnz"),a("hEGT"),a("pckg"),a("yq+b")),V=a.n(J),K=a("q5+0"),L=a("7EV8"),U=(a("UTJx"),a("dVdO")),H=(a("xzjF"),a("PeP6")),F=(a("i6mW"),a("bmQt"));function Y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,c=[],i=!0,l=!1;try{for(a=a.call(e);!(i=(n=a.next()).done)&&(c.push(n.value),!t||c.length!==t);i=!0);}catch(e){l=!0,r=e}finally{try{i||null==a.return||a.return()}finally{if(l)throw r}}return c}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return q(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return q(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var W=H.a.Option,B=[{key:1,value:"最近1小时"},{key:2,value:"最近6小时"},{key:3,value:"最近24小时"},{key:4,value:"最近7天"}];function Q(e){var t=e.ModalVisible,a=e.closeOk,n=e.sentData,r=e.productId,c=Y(Object(i.useState)(1),2),u=c[0],s=c[1];Object(i.useEffect)((function(){d()}),[]);var d=function(e){var t={column:n.funcIdentifier,productId:r,tslType:n.funcType};e&&(t.selectType=e),Object(o.c)(o.a.deviceShadowHis,t).then((function(e){!function(e){var t=[],a=[];e.forEach((function(e){t.push(e.datatimestamp),a.push(e.data)}));var n,r=document.getElementById("echart-show"),c=F.init(r);(n={title:{},tooltip:{trigger:"axis"},legend:{label:{narmal:{show:!1}}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},toolbox:{feature:{saveAsImage:{}}},xAxis:{type:"category",data:t},yAxis:{type:"value"},series:[{name:"Step Start",type:"line",step:"start",data:a}]})&&c.setOption(n)}(e.data)}))};return l.a.createElement("div",null,l.a.createElement(U.a,{title:"查看",visible:t,onOk:a,onCancel:a,width:"764px",wrapClassName:"add-protocols-wrap"},l.a.createElement("div",{className:"device-shadow-modal"},l.a.createElement("div",{className:"device-shadow-modal-header"},l.a.createElement(H.a,{style:{width:200},onChange:function(e){s(e),d(e)}},B.map((function(e){return l.a.createElement(W,{value:e.key,key:e.key},e.value)}))),l.a.createElement("a",{onClick:function(){var e={column:n.funcIdentifier,productId:r,tslType:n.funcType,selectType:u};Object(o.c)(o.a.exportShadowHis,e).then((function(e){window.open(e.data)}))}},"导出数据")),l.a.createElement("div",{style:{height:"303px"},id:"echart-show"}))))}function z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,c=[],i=!0,l=!1;try{for(a=a.call(e);!(i=(n=a.next()).done)&&(c.push(n.value),!t||c.length!==t);i=!0);}catch(e){l=!0,r=e}finally{try{i||null==a.return||a.return()}finally{if(l)throw r}}return c}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return G(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return G(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function Z(e){var t=e.dataSource,a=Object(K.g)().location.pathname.split("/").slice(-1)[0];Object(i.useEffect)((function(){u()}),[]);var n=z(Object(i.useState)(""),2),r=n[0],c=n[1],u=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];Object(o.c)(o.a.getDeviceInfo,{deviceId:a},{loading:e}).then((function(e){c(e.data.productId)}))},s=z(Object(i.useState)({pageIndex:1,totalRows:0,pageRows:10}),2),d=s[0],f=s[1],m=function(){var e=(d.pageIndex-1)*d.pageRows;return t.slice(e,e+10)},p=z(Object(i.useState)(!1),2),y=p[0],v=p[1],h=z(Object(i.useState)({}),2),g=h[0],E=h[1],O=[{title:"功能类型",dataIndex:"funcTypeCN",render:function(e,t,a){return Object(L.a)(m(),"funcIdentifier",a,e,"funcTypeCN")}},{title:"功能点名称",dataIndex:"funcName",render:function(e,t,a){return Object(L.a)(m(),"funcIdentifier",a,e,"funcName")}},{title:"标识符",dataIndex:"funcIdentifier",render:function(e,t,a){return Object(L.a)(m(),"funcIdentifier",a,e,"funcIdentifier")}},{title:"参数名称",dataIndex:"name"},{title:"参数标识",dataIndex:"identifier"},{title:"数据传输类型",dataIndex:"accessMode",render:function(e,t){return"rw"==e?"可下发可上报":"w"==e?"可下发":"r"==e?"可上报":""}},{title:"数据类型",dataIndex:"dataType",render:function(e,t){return l.a.createElement("span",null,t.dataTypCN)}},{title:"数据属性",dataIndex:"propertyMap",render:function(e,t){return l.a.createElement("span",null,function(e){var t=null;switch(e.dataTypeEN){case"double":t="数值范围：".concat(e.propertyMap.min,"-").concat(e.propertyMap.max,",间距：").concat(e.propertyMap.interval,",倍数：").concat(e.propertyMap.multiple,",单位：").concat(e.propertyMap.unit);break;case"bool":t="0：".concat(e.propertyMap[0],",1：").concat(e.propertyMap[1]);break;case"enum":var a="";for(var n in e.propertyMap)a+=e.propertyMap[n]+"，";t="枚举值：".concat(a);break;default:return""}return t}(t))}},{title:"最新数据",dataIndex:"funcData"},{title:"操作",dataIndex:"dd",render:function(e,t){return l.a.createElement("a",{onClick:function(){E(t),v(!0)}},"查看")}}];return l.a.createElement("div",null,l.a.createElement(b.a,{rowKey:"key",columns:O,dataSource:t,pagination:{defaultCurrent:1,current:d.pageIndex,onChange:function(e,t){t===d.pageRows?f((function(a){var n=JSON.parse(JSON.stringify(a));return Object.assign(n,{pageIndex:e,pageRows:t})})):f((function(e){var a=JSON.parse(JSON.stringify(e));return Object.assign(a,{pageIndex:1,pageRows:t})}))},pageSize:d.pageRows,total:d.totalRows,showQuickJumper:!0,pageSizeOptions:[10],showTotal:function(){return l.a.createElement("span",null,"共 ",l.a.createElement("a",null,t.length)," 条")}}}),y&&l.a.createElement(Q,{ModalVisible:y,closeOk:function(){v(!1)},sentData:g,productId:r}))}var X=a("/Zbm");function $(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,c=[],i=!0,l=!1;try{for(a=a.call(e);!(i=(n=a.next()).done)&&(c.push(n.value),!t||c.length!==t);i=!0);}catch(e){l=!0,r=e}finally{try{i||null==a.return||a.return()}finally{if(l)throw r}}return c}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function ee(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function te(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(a),!0).forEach((function(t){ae(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ee(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function ae(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var ne=n.a.TabPane;function re(e){var t=[];return e.forEach((function(e){e.funcParamList&&e.funcParamList.length&&e.funcParamList.forEach((function(a){var n=JSON.parse(JSON.stringify(e));t.push(te(te({},n),a))}))})),t.forEach((function(e,t){e.key=t})),t}function ce(e){var t=e.baseInfo,a=$(Object(i.useState)([]),2),r=a[0],c=a[1],u=$(Object(i.useState)(""),2),s=u[0],d=u[1];Object(i.useEffect)((function(){f()}),[]);var f=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];Object(o.c)(o.a.deviceShadow,{deviceUniqueId:t.deviceUniqueId},{loading:e}).then((function(e){c(re(e.data.list));var t=e.data.jsonString||{};d(JSON.stringify(t))}))};return l.a.createElement("div",{id:"device-shadow"},l.a.createElement(R.a,{style:{marginBottom:8,width:"100%",display:"flex"},desc:["设备影子是设备最新状态在平台的缓存信息，您可以在平台实时查询设备的运行和状态信息，也可以通过API获取设备状态信息。详细说明可参考",l.a.createElement("a",{onClick:function(){window.open("https://cms.clife.cn/clifeIotDoc/")}},"帮助文档")]}),l.a.createElement(n.a,{defaultActiveKey:"1",className:"shadow-tab"},l.a.createElement(ne,{key:"1",tab:"表单模式"},l.a.createElement("div",null,l.a.createElement(M.a.Group,{defaultValue:"a",size:"middle",onChange:function(e){},style:{margin:"6px 0  22px 0"}},l.a.createElement(M.a.Button,{value:"a"},"属性"),l.a.createElement(M.a.Button,{value:"b"},"事件"),l.a.createElement(M.a.Button,{value:"c"},"服务")),l.a.createElement(Z,{dataSource:r}))),l.a.createElement(ne,{key:"2",tab:"Json模式"},l.a.createElement("div",null,l.a.createElement(X.a,{code:s})))))}a("2ek4");var ie=a("oWtQ"),le=a("wmP4"),oe=a.n(le),ue=(a("W0kV"),a("caRq")),se=a("CvKH"),de=a.n(se);a("JiFE"),a("mPWi"),a("V9IP"),a("vERT"),a("OXkf"),a("Hg3J");function fe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,c=[],i=!0,l=!1;try{for(a=a.call(e);!(i=(n=a.next()).done)&&(c.push(n.value),!t||c.length!==t);i=!0);}catch(e){l=!0,r=e}finally{try{i||null==a.return||a.return()}finally{if(l)throw r}}return c}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return me(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return me(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function me(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var pe=g.a.TextArea,be=H.a.Option;function ye(e){var t=e.addVisible,a=e.addOk,n=e.CancelAdd,r=Object(K.g)().location.pathname.split("/").slice(-1)[0],c=fe(Object(i.useState)([]),2),u=c[0],s=c[1],d=fe(Object(i.useState)([]),2),f=d[0],m=d[1],p=fe(Object(i.useState)([]),2),y=p[0],v=(p[1],fe(h.a.useForm(),1)[0]);Object(i.useEffect)((function(){w()}),[]);var O=fe(Object(i.useState)(""),2),I=(O[0],O[1]),w=function(){Object(o.c)(o.a.getDeviceInfo,{deviceId:r}).then((function(e){e.data.productId&&(S(e.data.productId),I(e.data.productId))}))},S=function(e){Object(o.c)(o.a.getPhysicalModel,{productId:e}).then((function(e){s(e.data.properties)}))},x={selectedRowKeys:f,onChange:function(e){m(e)}},k=function(e,t){var a=de()(u);a[t].sendData=e,s(a)},A=[{title:"数据名称",dataIndex:"name",key:"name",width:190},{title:"数据标识",dataIndex:"identifier",key:"identifier",width:200},{title:"数据类型",dataIndex:"dataType",key:"dataType",render:function(e,t){return l.a.createElement("span",null,t.dataType.type)}},{title:"数据属性",render:function(e,t){switch(t.dataType.type){case"int":case"double":case"float":return l.a.createElement("span",null,t.dataType.specs.min," ~ ",t.dataType.specs.max);case"text":return"-";case"enum":return l.a.createElement("span",null,Object.values(t.dataType.specs).join(" | "));case"date":return"-";case"bool":return l.a.createElement("span",null,Object.values(t.dataType.specs).join(" | "))}}},{title:"下发数据",dataIndex:"sendData",key:"sendData",render:function(e,t,a){var n=t.dataType,r=n.specs,c=null;switch(n.type){case"int":case"double":case"float":c=l.a.createElement(E.a,{value:t.sendData,min:r.min,max:r.max,onChange:function(e){return k(e,a)},placeholder:"请输入参数"});break;case"text":c=l.a.createElement(g.a,{value:t.sendData,maxLength:30,onChange:function(e){return k(e.target.value.trim(),a)},placeholder:"请输入参数"});break;case"enum":case"bool":c=l.a.createElement(H.a,{value:t.sendData,onChange:function(e){return k(e,a)}},Object.values(r)&&Object.values(r).map((function(e,t){return l.a.createElement(be,{key:t+e,value:e},e)})));break;case"date":c=l.a.createElement(ue.a,{style:{width:182},defaultValue:V()(t.sendData,"YYYY-MM-DD HH:mm:ss")||"",onChange:function(e,t){!function(e,t,a){k(t,a)}(0,t,a)},format:"YYYY-MM-DD HH:mm:ss",showTime:!0,showNow:!0})}return l.a.createElement("span",{className:"config-send-data ".concat(y.includes(a)?"warn":"")},c)}}];return l.a.createElement("div",null,l.a.createElement(U.a,{title:"远程配置任务",visible:t,onOk:function(){v.validateFields().then((function(e){if(0===f.length)return Object(j.a)({description:"请至少选择一条配置协议"});console.log(f,"========");for(var t=0;t<f.length;t++)for(var n=f[t],c=0;c<u.length;c++){var i,l=u[c];if(n===l.identifier)if(void 0===(null!==(i=l.sendData)&&void 0!==i?i:void 0))return Object(j.a)({description:"请为配置协议添加参数"})}var s={taskName:e.taskName,deviceId:r,taskExplain:e.taskExplain,protocolJson:JSON.stringify(u.filter((function(e){var t;if(void 0!==(null!==(t=e.sendData)&&void 0!==t?t:void 0))return e})))};Object(o.c)(o.a.saveDeviceRemoset,s).then((function(e){Object(j.a)({type:"success",description:"添加成功"}),a()}))}))},onCancel:n,width:"1100px",wrapClassName:"device-remote-config-modal"},l.a.createElement("div",null,l.a.createElement(h.a,{form:v},l.a.createElement(h.a.Item,{label:"任务名称",name:"taskName",rules:[{required:!0}]},l.a.createElement(g.a,{style:{width:"300px"},maxLength:20})),l.a.createElement(h.a.Item,{label:"任务说明",name:"taskExplain",rules:[{required:!0}]},l.a.createElement(pe,{rows:4,maxLength:100}))),l.a.createElement("div",{style:{marginBottom:"10px"}},"请添加配置信息"),l.a.createElement(b.a,{className:"config-data-table",dataSource:u,scroll:{y:300},locale:{emptyText:"暂无协议，请先去配置"},columns:A,rowKey:"identifier",rowSelection:x,pagination:!1}))))}a("I9ul");function ve(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,c=[],i=!0,l=!1;try{for(a=a.call(e);!(i=(n=a.next()).done)&&(c.push(n.value),!t||c.length!==t);i=!0);}catch(e){l=!0,r=e}finally{try{i||null==a.return||a.return()}finally{if(l)throw r}}return c}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return he(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return he(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function he(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var ge=g.a.TextArea,Ee=H.a.Option;function Oe(e){var t=e.addVisible,a=e.addOk,n=e.CancelAdd,r=e.actionData,c=Object(K.g)().location.pathname.split("/").slice(-1)[0],u=ve(Object(i.useState)([]),2),s=u[0],d=u[1],f=ve(Object(i.useState)([]),2),m=f[0],p=f[1],y=ve(Object(i.useState)([]),2),v=y[0],O=(y[1],ve(h.a.useForm(),1)[0]);Object(i.useEffect)((function(){S()}),[]);var I=ve(Object(i.useState)(""),2),w=(I[0],I[1]),S=function(){Object(o.c)(o.a.getDeviceInfo,{deviceId:c}).then((function(e){e.data.productId&&(x(e.data.productId),w(e.data.productId))}))},x=function(e){var t=[Object(o.c)(o.a.getPhysicalModel,{productId:e}),Object(o.c)(o.a.singelDeviceRemoset,{taskId:r.taskId})];Promise.all(t).then((function(e){var t=e[0].data.properties,a=JSON.parse(e[1].data.remoteProtocol.protocolJson),n=[];a.forEach((function(e){n.push(e.identifier),t.forEach((function(a,n){e.identifier==a.identifier&&t.splice(n,1,e)}))})),O.setFieldsValue({taskName:e[1].data.taskName,taskExplain:e[1].data.taskExplain}),d(t),p(n)}))},k={selectedRowKeys:m,onChange:function(e){p(e)}},A=function(e,t){var a=de()(s);a[t].sendData=e,d(a)},C=[{title:"数据名称",dataIndex:"name",key:"name",width:190},{title:"数据标识",dataIndex:"identifier",key:"identifier",width:200},{title:"数据类型",dataIndex:"dataType",key:"dataType",render:function(e,t){return l.a.createElement("span",null,t.dataType.type)}},{title:"数据属性",render:function(e,t){switch(t.dataType.type){case"int":case"double":case"float":return l.a.createElement("span",null,t.dataType.specs.min," ~ ",t.dataType.specs.max);case"text":return"-";case"enum":return l.a.createElement("span",null,Object.values(t.dataType.specs).join(" | "));case"date":return"-";case"bool":return l.a.createElement("span",null,Object.values(t.dataType.specs).join(" | "))}}},{title:"下发数据",dataIndex:"sendData",key:"sendData",render:function(e,t,a){var n=t.dataType,r=n.specs,c=null;switch(n.type){case"int":case"double":case"float":c=l.a.createElement(E.a,{value:t.sendData,min:r.min,max:r.max,onChange:function(e){return A(e,a)},placeholder:"请输入参数"});break;case"text":c=l.a.createElement(g.a,{value:t.sendData,maxLength:30,onChange:function(e){return A(e.target.value.trim(),a)},placeholder:"请输入参数"});break;case"enum":case"bool":c=l.a.createElement(H.a,{value:t.sendData,onChange:function(e){return A(e,a)}},Object.values(r)&&Object.values(r).map((function(e,t){return l.a.createElement(Ee,{key:t+e,value:e},e)})));break;case"date":c=l.a.createElement(ue.a,{style:{width:182},defaultValue:V()(t.sendData,"YYYY-MM-DD HH:mm:ss")||"",onChange:function(e,t){!function(e,t,a){A(t,a)}(0,t,a)},format:"YYYY-MM-DD HH:mm:ss",showTime:!0,showNow:!0})}return l.a.createElement("span",{className:"config-send-data ".concat(v.includes(a)?"warn":"")},c)}}];return l.a.createElement("div",null,l.a.createElement(U.a,{title:"远程配置任务",visible:t,onOk:function(){O.validateFields().then((function(e){if(0===m.length)return Object(j.a)({description:"请至少选择一条配置协议"});console.log(m,"========");for(var t=0;t<m.length;t++)for(var n=m[t],i=0;i<s.length;i++){var l,u=s[i];if(n===u.identifier)if(void 0===(null!==(l=u.sendData)&&void 0!==l?l:void 0))return Object(j.a)({description:"请为配置协议添加参数"})}var d={taskName:e.taskName,deviceId:c,taskExplain:e.taskExplain,taskId:r.taskId,protocolJson:JSON.stringify(s.filter((function(e){var t;if(void 0!==(null!==(t=e.sendData)&&void 0!==t?t:void 0))return e})))};Object(o.c)(o.a.saveDeviceRemoset,d).then((function(e){Object(j.a)({type:"success",description:"编辑成功"}),a()}))}))},onCancel:n,width:"1100px",wrapClassName:"device-remote-config-modal"},l.a.createElement("div",null,l.a.createElement(h.a,{form:O},l.a.createElement(h.a.Item,{label:"任务名称",name:"taskName",rules:[{required:!0}]},l.a.createElement(g.a,{style:{width:"300px"},maxLength:20})),l.a.createElement(h.a.Item,{label:"任务说明",name:"taskExplain",rules:[{required:!0}]},l.a.createElement(ge,{rows:4,maxLength:100}))),l.a.createElement("div",{style:{marginBottom:"10px"}},"请添加配置信息"),l.a.createElement(b.a,{className:"config-data-table",dataSource:s,scroll:{y:300},columns:C,rowKey:"identifier",rowSelection:k,pagination:!1}))))}function Ie(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,c=[],i=!0,l=!1;try{for(a=a.call(e);!(i=(n=a.next()).done)&&(c.push(n.value),!t||c.length!==t);i=!0);}catch(e){l=!0,r=e}finally{try{i||null==a.return||a.return()}finally{if(l)throw r}}return c}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return je(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return je(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function je(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}g.a.TextArea;function we(e){var t=e.detailVis,a=e.onCancel,n=e.actionData,r=Ie(h.a.useForm(),1)[0],c=Ie(Object(i.useState)([]),2),u=c[0],s=c[1];Object(i.useEffect)((function(){p()}),[]);var d=Ie(Object(i.useState)({}),2),f=d[0],m=d[1],p=function(){var e={taskId:n.taskId};Object(o.c)(o.a.singelDeviceRemoset,e).then((function(e){m(e.data),s(JSON.parse(e.data.remoteProtocol.protocolJson))}))},y=[{title:"数据名称",dataIndex:"name",key:"name",width:160},{title:"数据标识",dataIndex:"identifier",key:"identifier"},{title:"数据类型",dataIndex:"dataType",key:"dataType",render:function(e,t){return l.a.createElement("span",null,t.dataType.type)}},{title:"数据属性",render:function(e,t){switch(t.dataType.type){case"int":case"double":case"float":return l.a.createElement("span",null,t.dataType.specs.min," ~ ",t.dataType.specs.max);case"text":break;case"enum":return l.a.createElement("span",null,Object.values(t.dataType.specs).join(" | "));case"date":break;case"bool":return l.a.createElement("span",null,Object.values(t.dataType.specs).join(" | "))}}},{title:"下发数据",dataIndex:"sendData",key:"sendData",width:180}];return l.a.createElement("div",null,l.a.createElement(U.a,{title:"远程配置任务",visible:t,footer:null,onOk:a,onCancel:a,width:"1100px",wrapClassName:"add-protocols-wrap"},l.a.createElement("div",null,l.a.createElement(h.a,{form:r},l.a.createElement(h.a.Item,{label:"任务名称",name:"problemType"},l.a.createElement("span",null,f.taskName)),l.a.createElement(h.a.Item,{label:"任务说明",name:"problemDesc"},l.a.createElement("span",null,f.taskExplain))),l.a.createElement("div",{style:{marginBottom:"10px"}},"配置数据"),l.a.createElement(b.a,{dataSource:u,columns:y,rowKey:"identifier"}))))}function Se(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function xe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(a),!0).forEach((function(t){ke(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Se(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function ke(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Ae(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,c=[],i=!0,l=!1;try{for(a=a.call(e);!(i=(n=a.next()).done)&&(c.push(n.value),!t||c.length!==t);i=!0);}catch(e){l=!0,r=e}finally{try{i||null==a.return||a.return()}finally{if(l)throw r}}return c}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ce(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Ce(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ce(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}H.a.Option;var Te=ie.a.Step,Ne=(g.a.Search,["草稿","待执行","执行成功","执行失败"]);var De=function(e){var t=e.devceId,a=(e.remoteType,Ae(Object(i.useState)(!1),2)),n=a[0],c=a[1],s=Ae(Object(i.useState)(!1),2),d=s[0],f=s[1],m=Ae(Object(i.useState)({}),2),y=m[0],v=m[1],h=Ae(Object(i.useState)({deletevisible:!1,deleteItem:null,deleteLoading:!1}),2),g=h[0],E=h[1],I=Ae(Object(i.useState)([]),2),w=I[0],S=I[1],x=Ae(Object(i.useState)({pageIndex:1,totalRows:0,pageRows:10}),2),k=x[0],A=x[1],C=g.deletevisible,T=g.deleteItem,N=g.deleteLoading,D=[{title:"任务ID",dataIndex:"taskId",key:"taskId"},{title:"任务名称",dataIndex:"taskName",key:"taskName"},{title:"任务说明",dataIndex:"taskExplain",key:"taskExplain",width:300},{title:"任务状态",dataIndex:"status",key:"status",render:function(e,t){var a=t.status;return l.a.createElement("span",{className:"device-h5-statu-".concat(a+1)},Ne[a])}},{title:"执行时间",dataIndex:"execTime",key:"execTime",render:function(e,t){var a=t.execTime;return l.a.createElement("span",null,a?u.a.utcToDev(a):"--")}},{title:"操作",key:"action",render:function(e,t){var a=t.status;t.taskId;return""+a=="1"?l.a.createElement(l.a.Fragment,null,l.a.createElement("a",{onClick:function(){return L(t)}},"编辑"),l.a.createElement(r.a,{type:"vertical"}),l.a.createElement("a",{onClick:function(){return function(e){Object(o.c)(o.a.excelDevTask,{taskId:e.taskId},{loading:!0}).then((function(e){K(),Object(j.a)({description:"执行成功！",type:"success"})})).catch((function(e){K()}))}(t)}},"执行"),l.a.createElement(r.a,{type:"vertical"}),l.a.createElement("a",{onClick:function(){return E({deletevisible:!0,deleteItem:t})}},"删除")):l.a.createElement("a",{onClick:function(){return V(t)}},"查看")}}],P=Ae(Object(i.useState)(!1),2),M=P[0],J=P[1],V=function(e){v(e),J(!0)};Object(i.useEffect)((function(){K()}),[k.pageRows,k.pageIndex]);var K=function(e){var a=xe({deviceId:t},k);Object(o.c)(o.a.deviceRemoteConfigList,a,{loading:!0}).then((function(e){var t=e.data.list,a=void 0===t?[]:t;S(Object(u.b)(a)),A((function(t){var a=JSON.parse(JSON.stringify(t));return Object.assign(a,{totalRows:e.data.pager.totalRows})}))}))},L=function(e){v(e),f(!0)};return l.a.createElement("div",{id:"device-remote-config"},l.a.createElement("div",{className:"comm-shadowbox setp-tip"},l.a.createElement("div",{className:"step-title"},l.a.createElement("img",{src:oe.a,alt:""}),l.a.createElement("span",null,"远程配置步骤")),l.a.createElement(R.a,{style:{marginBottom:18,width:"100%",display:"flex",alignItems:"center"},desc:[l.a.createElement("div",null,"平台支持远程更新设备的配置数据，您可以提交远程配置任务，实时对设备的系统参数等数据进行远程更新，并且获取设备配置的更新状态。详细说明可参考",l.a.createElement("a",{onClick:function(){window.open("https://cms.clife.cn/clifeIotDoc/")}},"帮助文档"))]}),l.a.createElement(ie.a,{current:-1,initial:0},l.a.createElement(Te,{title:"创建远程配置任务",description:"创建远程配置任务，填写任务的目的或备注信息。"}),l.a.createElement(Te,{title:"添加配置数据",description:"添加要更新的产品配置数据字段和更新的数值。"}),l.a.createElement(Te,{title:"执行任务",description:"提交执行远程配置任务，设备更新结果实时可见。"}))),l.a.createElement("div",{className:"comm-shadowbox device-content"},l.a.createElement("div",{className:"content-top"},l.a.createElement("div",null," "),l.a.createElement(p.a,{type:"primary",onClick:function(){c(!0)}},"创建任务")),l.a.createElement(b.a,{columns:D,className:"ant-table-fixed",rowKey:"taskId",dataSource:w,pagination:{defaultCurrent:1,current:k.pageIndex,onChange:function(e,t){t===k.pageRows?A((function(a){var n=JSON.parse(JSON.stringify(a));return Object.assign(n,{pageIndex:e,pageRows:t})})):A((function(e){var a=JSON.parse(JSON.stringify(e));return Object.assign(a,{pageIndex:1,pageRows:t})}))},pageSize:k.pageRows,total:k.totalRows,showQuickJumper:!0,pageSizeOptions:[10],showTotal:function(){return l.a.createElement("span",null,"共 ",l.a.createElement("a",null,k.totalRows)," 条")}}})),C&&l.a.createElement(O.a,{visible:C,modalOKHandle:function(){var e=T.taskId;Object(o.c)(o.a.delDeviceRemoset,{taskId:e}).then((function(e){Object(j.a)({type:"success",description:"删除成功！"}),E({deletevisible:!1,deleteItem:null,deleteLoading:!1}),K()}))},modalCancelHandle:function(){return E({deletevisible:!1,deleteItem:null,deleteLoading:!1})},targetName:T.taskName,confirmLoading:N,title:"删除任务",needWarnIcon:!0,descText:"即将删除的任务",tipText:"任务的所有信息将完全被删除，无法找回，请谨慎操作"}),n&&l.a.createElement(ye,{addVisible:n,addOk:function(){K(),c(!1)},CancelAdd:function(){c(!1)}}),M&&l.a.createElement(we,{detailVis:M,onCancel:function(){J(!1)},actionData:y}),d&&l.a.createElement(Oe,{addVisible:d,actionData:y,addOk:function(){K(),f(!1)},CancelAdd:function(){f(!1)}}))},Pe=a("MeRu");a("aIR0");function Me(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,c=[],i=!0,l=!1;try{for(a=a.call(e);!(i=(n=a.next()).done)&&(c.push(n.value),!t||c.length!==t);i=!0);}catch(e){l=!0,r=e}finally{try{i||null==a.return||a.return()}finally{if(l)throw r}}return c}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Re(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Re(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Re(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var Je=n.a.TabPane;function Ve(e){var t=e.match,a=Object(K.g)(),r=Object(i.useMemo)((function(){return Object(u.h)("step")||"1"}),[]),c=t.params.id,s=Me(Object(i.useState)({}),2),d=s[0],f=s[1];return Object(i.useEffect)((function(){var e={infoType:"1",field:c,pageIndex:1,pageRows:1};Object(o.c)(o.a.getDeviceList,e).then((function(e){f(e.data.list[0])}))}),[c]),l.a.createElement("div",{id:"device-detail"},l.a.createElement(Pe.a,{backTitle:"设备详情",backHandle:function(){a.push("/open/device/devManage/list")}},l.a.createElement("div",{className:"device-top"},l.a.createElement("div",{className:"device-top-item"},l.a.createElement("label",{className:"device-label"},"设备ID："),l.a.createElement("span",{className:"device-text"},d.deviceId),l.a.createElement("span",{className:"device-status"},1==d.onlineStatus?"在线":"离线")),l.a.createElement("div",{className:"device-top-item"},l.a.createElement("label",{className:"device-label"},"物理地址ID："),l.a.createElement("span",{className:"device-text"}),d.deviceMac),l.a.createElement("div",{className:"device-top-item"},l.a.createElement("label",{className:"device-label"},"产品名称："),l.a.createElement("span",{className:"device-text"},d.productName)),l.a.createElement("div",{className:"device-top-item"},l.a.createElement("label",{className:"device-label"},"所属分类："),l.a.createElement("span",{className:"device-text"},d.productType)))),l.a.createElement("div",{className:"comm-shadowbox common-tab device-content"},l.a.createElement(n.a,{defaultActiveKey:r,onChange:function(e){a.push(t.url+"?"+"step=".concat(e))}},l.a.createElement(Je,{key:"1",tab:"基本信息"},l.a.createElement(m,{devceId:c})),l.a.createElement(Je,{key:"2",tab:"设备标签"},l.a.createElement(P,{devceId:c})),l.a.createElement(Je,{key:"3",tab:"设备影子"},l.a.createElement(ce,{devceId:c,baseInfo:d})),l.a.createElement(Je,{key:"4",tab:"远程配置"},l.a.createElement(De,{devceId:c})))))}},i6mW:function(e,t,a){},t7Rh:function(e,t,a){},wmP4:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAOCAYAAAAmL5yKAAAACXBIWXMAAA7EAAAOxAGVKw4bAAABsklEQVQokWWRvW4TQRSFv5nMLE4U8IJEEaFFUUJhCQpA4idNKFJQUiU0eYM8QOqUCCSQeAXShJISCQch4QYqQEHhV3LjmCoKyEnsvZdixrtr+xazO3N3vnPuWfP2c2dPoYEqqqBhQeMehucCwz78vH97fhHAqdIoLkHlcgRU9qGtqOoCsVzRjAAVjapaKI4ARIlSJaC0L1WVEUjhhGKMccCk7XJ+ZTKbIUCqI4zaRpVTgVY3Ze9wlt7AceFMn8a5I1Z3dPrlmumZ1x/bClrOVgH0BbZ/zNE5rpFY8AZ8fCZTtPoJK05VylmJTiS8v++mHBzXSAxs3IEshSe7YBS8YWkmZ9OGVKKqKCLKEPr18CzewMZd+NKBm5fg+lzpwhvWgwMpE64G1csd3sLlFB5cDaFldfh2ECCJJXMKzxQWwGCQmHr4eNbJ8kCm0se7QTmrw8MbkOfw4Td4S9swVs3mr9o/398W1bz15+Kt73/Pz1fDu7cIy1fg+Rtwlq0JwKt3+59U5JqiDMTQ7GYcDWZG/4AFZ2md5KxMAMZrdUen6zmb3rCeWDJvaTvDi5OcR0/XTO8/FFxXqP9J8G8AAAAASUVORK5CYII="}}]);
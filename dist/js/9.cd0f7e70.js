(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"5jjE":function(e,t,n){},"7EV8":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n("2B1R"),n("FZtP"),n("pDQq");var a=function(e,t,n,a,r){if(!Array.isArray(e))return 1;for(var c=e.map((function(e){return e[r]})),l=e.map((function(e){return e[t]})),i=c[0],o=[[i]],u=0,s=1;s<c.length;s++)c[s]===i?o[u].push(c[s]):(o[u+=1]=[],o[u].push(c[s]),i=c[s]);var d=[];o.forEach((function(e,t){d[t]=[],d[t]=l.splice(0,e.length)}));var f=[];d.forEach((function(e,t){var n=d[t][0],a=0;f[t]=[],f[t][a]=[],e.forEach((function(e,r){n===e?f[t][a].push(e):(a+=1,f[t][a]=[],f[t][a].push(e),n=e)}))}));var m=[];f.forEach((function(e){e.forEach((function(e){m.push(e)}))}));var p=[];m.forEach((function(e){for(var t=e.length,n=0;n<t;n++)p.push(0===n?t:0)}));var b={children:a,props:{}};return b.props.rowSpan=p[n],b}},Hg3J:function(e,t,n){},"OBs/":function(e,t,n){},aIR0:function(e,t,n){},gyoc:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return be}));n("AUBz");var a=n("ZTPi"),r=(n("rB9j"),n("Rm1S"),n("pNMO"),n("4Brf"),n("07d7"),n("0oug"),n("4mDm"),n("PKPk"),n("3bBZ"),n("+2oP"),n("sMBO"),n("pjDv"),n("qNb/"),n("PArb")),c=(n("OrB1"),n("gFTJ")),l=n("q1tI"),i=n.n(l),o=n("Nlzp"),u=n("DgvE"),s=n("739K"),d=n("DeUx");n("5jjE");function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,c=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(a=n.next()).done)&&(c.push(a.value),!t||c.length!==t);l=!0);}catch(e){i=!0,r=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw r}}return c}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function p(e){var t=e.devceId,n=f(Object(l.useState)({}),2),a=n[0],m=n[1];Object(l.useEffect)((function(){v()}),[]);var p,b,v=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];Object(o.c)(o.a.getDeviceInfo,{deviceId:t},{loading:e}).then((function(e){m(e.data)}))},y=f(Object(l.useState)(!1),2),E=y[0],g=y[1],O=function(){g(!E)},h=function(e){return e=E?e:Object(u.m)(e,10)};return i.a.createElement("div",{id:"device-info"},i.a.createElement(c.b,{title:"设备信息"},i.a.createElement(c.b.Item,{label:"设备ID"},a.deviceUniqueId),i.a.createElement(c.b.Item,{label:"设备秘钥"},h(a.deviceSecret),i.a.createElement("span",{onClick:O},E?i.a.createElement(s.a,null):i.a.createElement(d.a,null))),i.a.createElement(c.b.Item,{label:"物理地址"},a.deviceMac),i.a.createElement(c.b.Item,{label:"入网时间"},a.connectTime),i.a.createElement(c.b.Item,{label:"模组固件版本"},a.moduleVersion),i.a.createElement(c.b.Item,{label:"MCU固件版本"},a.pcbVersion),i.a.createElement(c.b.Item,{label:"绑定网关"},a.gateWay),i.a.createElement(c.b.Item,{label:"设备名称"},a.deviceName),i.a.createElement(c.b.Item,{label:"设备位置"},a.deviceSite),i.a.createElement(c.b.Item,{label:"绑定C端用户"},a.bindCUser),i.a.createElement(c.b.Item,{label:"SIM卡号"},a.simNumber),i.a.createElement(c.b.Item,{label:"IMEI"},a.deviceIdentifier)),i.a.createElement(r.a,null),i.a.createElement(c.b,{title:"产品信息"},i.a.createElement(c.b.Item,{label:"产品名称"},a.productName),i.a.createElement(c.b.Item,{label:"产品ID"},a.productId),i.a.createElement(c.b.Item,{label:"所属分类"},a.productType),i.a.createElement(c.b.Item,{label:"产品类型"},(p=a.productClass,b=null,"number"==typeof p&&(b=1==p?"网关设备":"普通设备"),b)),i.a.createElement(c.b.Item,{label:"产品编码"},a.productCode),i.a.createElement(c.b.Item,{label:"产品密钥"},h(a.productKey),i.a.createElement("span",{onClick:O},E?i.a.createElement(s.a,null):i.a.createElement(d.a,null)))))}n("tkto"),n("TeQF"),n("5DmW"),n("FZtP"),n("27RR"),n("5s+n"),n("L/Qf");var b=n("2/Rp"),v=(n("mbEz"),n("wCAj")),y=(n("Y2jk"),n("zeV3")),E=(n("O+5t"),n("wFql")),g=(n("tULf"),n("Vl3Y")),O=(n("1vPl"),n("5rEg")),h=(n("QCje"),n("fyUT")),I=(n("2B1R"),n("ls82"),n("FC04"));function j(e){var t=e.operate,n=e.visible,a=e.updateOkHandle,r=e.updateCancelHandle,c=null;switch(t){case 1:c={title:"发布云端定时功能",desc:"即将发布的功能",tip:"功能发布后，APP上可以看到并启用，是否确认发布？",needWarnIcon:!1};break;case 2:c={title:"删除云端定时功能",desc:"即将删除的功能",tip:"功能删除后将无法找回，是否确认删除？",needWarnIcon:!0};break;case 3:c={title:"下线云端定时功能",desc:"即将下线的功能",tip:"功能下线后将无法看到，是否确认下线？",needWarnIcon:!0}}return i.a.createElement(I.a,{visible:n,modalOKHandle:function(){return a(t)},modalCancelHandle:r,targetName:"test",title:c.title,descGray:!0,needWarnIcon:c.needWarnIcon,descText:c.desc,tipText:c.tip})}n("OBs/");var w=n("P2RN"),S=["editing","dataIndex","title","inputType","record","index","children"];function A(e,t,n,a,r,c,l){try{var i=e[c](l),o=i.value}catch(e){return void n(e)}i.done?t(o):Promise.resolve(o).then(a,r)}function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){C(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function N(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,c=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(a=n.next()).done)&&(c.push(a.value),!t||c.length!==t);l=!0);}catch(e){i=!0,r=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw r}}return c}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function R(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var T=function(e){var t=e.editing,n=e.dataIndex,a=e.title,r=e.inputType,c=(e.record,e.index,e.children),l=R(e,S),o="number"===r?i.a.createElement(h.a,null):i.a.createElement(O.a,null);return i.a.createElement("td",l,t?i.a.createElement(g.a.Item,{name:n,style:{margin:0,style:"100%"},rules:[{required:!0,message:"Please Input ".concat(a,"!")}]},o):c)};function D(e){var t=e.devceId,n=N(g.a.useForm(),1)[0],a=N(Object(l.useState)([]),2),r=a[0],c=a[1],u=N(Object(l.useState)(null),2),s=u[0],d=u[1],f=N(Object(l.useState)(""),2),m=f[0],p=f[1],O=N(Object(l.useState)(null),2),h=O[0],I=O[1],S=function(e){return e.id===m},x=N(Object(l.useState)(!1),2),C=x[0],P=x[1];Object(l.useEffect)((function(){B()}),[]);var R=function(e){n.setFieldsValue(k({name:"",age:""},e)),p(e.id)},D=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.deviceId=t,Object(o.c)(o.a.addDeviceLabel,e,{loading:n}).then((function(e){p(""),Object(w.a)({type:"success",description:"新增成功！"}),B()})).catch((function(e){p(""),B()}))},J=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.deviceId=t,Object(o.c)(o.a.updateDeviceLabel,e,{loading:n}).then((function(e){p(""),Object(w.a)({type:"success",description:"编辑成功！"}),B()})).catch((function(e){p(""),B()}))},M=function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.validateFields();case 3:a=e.sent,t.id?(a.labelId=t.id,J(a)):D(a),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("Validate Failed:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})),function(){var t=this,n=arguments;return new Promise((function(a,r){var c=e.apply(t,n);function l(e){A(c,a,r,l,i,"next",e)}function i(e){A(c,a,r,l,i,"throw",e)}l(void 0)}))});return function(e){return t.apply(this,arguments)}}(),K=[{title:"标签Key",dataIndex:"labelKey",editable:!0},{title:"标签Value",dataIndex:"labelValue",editable:!0},{title:"操作",dataIndex:"operation",render:function(e,t){return S(t)?i.a.createElement("span",null,i.a.createElement("a",{onClick:function(){return M(t)},style:{marginRight:8}},"保存")):i.a.createElement(y.b,null,i.a.createElement(E.a.Link,{disabled:""!==m,onClick:function(){return R(t)}},"编辑"),i.a.createElement(E.a.Link,{disabled:""!==m,onClick:function(){var e,n;e=2,n=t.id,P(!0),I(n),d(e)}},"删除"))}}].map((function(e){return e.editable?k(k({},e),{},{onCell:function(t){return{record:t,inputType:"text",dataIndex:e.dataIndex,title:e.title,editing:S(t)}}}):e})),B=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];Object(o.c)(o.a.getDeviceLabelList,{deviceId:t},{loading:e}).then((function(e){c(e.data.list)}))};return i.a.createElement("div",{id:"device-tag"},i.a.createElement(g.a,{form:n,component:!1},i.a.createElement(v.a,{components:{body:{cell:T}},dataSource:r,columns:K,rowClassName:"editable-row",rowKey:"id",pagination:!1})),i.a.createElement(b.a,{type:"primary",ghost:!0,className:"edit-table-btn",onClick:function(){!function(){var e=!1;if(m&&(e=!0),r.map((function(t){t.id||(e=!0)})),!e){var t=JSON.parse(JSON.stringify(r)),n={key:"".concat(t.length+1),labelKey:"",labelValue:"",id:0};t.push(n),c(t),R(n)}}()}},"添加标签"),C&&i.a.createElement(j,{visible:C,operate:s,updateOkHandle:function(){Object(o.c)(o.a.deleteDeviceLabel,{labelId:h}).then((function(e){P(!1),Object(w.a)({type:"success",description:"删除成功！"}),B()}))},updateCancelHandle:function(){P(!1)}}))}n("K4yd");var J=n("9yH6"),M=(n("t7Rh"),n("TL2v")),K=(n("zKZe"),n("ma9I"),n("wd/R"),n("7EV8"));function B(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,c=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(a=n.next()).done)&&(c.push(a.value),!t||c.length!==t);l=!0);}catch(e){i=!0,r=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw r}}return c}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return L(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return L(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function V(e){var t=e.dataSource,n=B(Object(l.useState)({pageIndex:1,totalRows:0,pageRows:10}),2),a=n[0],r=n[1],c=function(){var e=(a.pageIndex-1)*a.pageRows;return t.slice(e,e+10)},o=[{title:"功能类型",dataIndex:"funcTypeCN",render:function(e,t,n){return Object(K.a)(c(),"funcIdentifier",n,e,"funcTypeCN")}},{title:"功能点名称",dataIndex:"funcName",render:function(e,t,n){return Object(K.a)(c(),"funcIdentifier",n,e,"funcName")}},{title:"标识符",dataIndex:"funcIdentifier",render:function(e,t,n){return Object(K.a)(c(),"funcIdentifier",n,e,"funcIdentifier")}},{title:"参数名称",dataIndex:"name"},{title:"参数标识",dataIndex:"identifier"},{title:"数据传输类型",dataIndex:"dataTransferType"},{title:"数据类型",dataIndex:"dataType",render:function(e,t){return i.a.createElement("span",null,t.dataTypCN)}},{title:"数据属性",dataIndex:"propertyMap",render:function(e,t){return i.a.createElement("span",null,function(e){var t=null;switch(e.dataTypeEN){case"double":t="数值范围：".concat(e.propertyMap.min,"-").concat(e.propertyMap.max,",间距：").concat(e.propertyMap.interval,",倍数：").concat(e.propertyMap.multiple,",单位：").concat(e.propertyMap.unit);break;case"bool":t="0：".concat(e.propertyMap[0],",1：").concat(e.propertyMap[1]);break;case"enum":var n="";for(var a in e.propertyMap)n+=e.propertyMap[a]+"，";t="枚举值：".concat(n);break;default:return""}return t}(t))}},{title:"最新数据",dataIndex:"funcData"}];return i.a.createElement("div",null,i.a.createElement(v.a,{rowKey:"key",columns:o,dataSource:t,pagination:{defaultCurrent:1,current:a.pageIndex,onChange:function(e,t){t===a.pageRows?r((function(n){var a=JSON.parse(JSON.stringify(n));return Object.assign(a,{pageIndex:e,pageRows:t})})):r((function(e){var n=JSON.parse(JSON.stringify(e));return Object.assign(n,{pageIndex:1,pageRows:t})}))},pageSize:a.pageRows,total:a.totalRows,showQuickJumper:!0,pageSizeOptions:[10],showTotal:function(){return i.a.createElement("span",null,"共 ",i.a.createElement("a",null,t.length)," 条")}}}))}var U=n("/Zbm");function F(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,c=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(a=n.next()).done)&&(c.push(a.value),!t||c.length!==t);l=!0);}catch(e){i=!0,r=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw r}}return c}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Q(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){W(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function W(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Z=a.a.TabPane;function H(e){var t=[];return e.forEach((function(e){e.funcParamList&&e.funcParamList.length&&e.funcParamList.forEach((function(n){var a=JSON.parse(JSON.stringify(e));t.push(q(q({},a),n))}))})),t.forEach((function(e,t){e.key=t})),t}function G(){var e=F(Object(l.useState)([]),2),t=e[0],n=e[1],r=F(Object(l.useState)(""),2),c=r[0],u=r[1];Object(l.useEffect)((function(){s()}),[]);var s=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];Object(o.c)(o.a.deviceShadow,{deviceUniqueId:"F0000002082E"},{loading:e}).then((function(e){n(H(e.data.list)),u(JSON.stringify(e.data.jsonString))}))};return i.a.createElement("div",{id:"device-shadow"},i.a.createElement(M.a,{style:{marginBottom:8,width:"100%",display:"flex"},desc:["设备影子是设备最新状态在平台的缓存信息，您可以在平台实时查询设备的运行和状态信息，也可以通过API获取设备状态信息。详细说明可参考",i.a.createElement("a",{onClick:function(){}},"帮助文档")]}),i.a.createElement(a.a,{defaultActiveKey:"1",className:"shadow-tab"},i.a.createElement(Z,{key:"1",tab:"表单模式"},i.a.createElement("div",null,i.a.createElement(J.a.Group,{defaultValue:"a",size:"middle",onChange:function(e){},style:{margin:"6px 0  22px 0"}},i.a.createElement(J.a.Button,{value:"a"},"属性"),i.a.createElement(J.a.Button,{value:"b"},"事件"),i.a.createElement(J.a.Button,{value:"c"},"服务")),i.a.createElement(V,{dataSource:t}))),i.a.createElement(Z,{key:"2",tab:"Json模式"},i.a.createElement("div",null,i.a.createElement(U.a,{code:c})))))}n("RKNx");var Y=n("L41K"),X=(n("8QGh"),n("2fM7")),$=n("BkRI"),_=n.n($),ee=(n("pDQq"),n("MeRu")),te=n("wmP4"),ne=n.n(te);n("Hg3J");function ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(n),!0).forEach((function(t){ce(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ce(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function le(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,c=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(a=n.next()).done)&&(c.push(a.value),!t||c.length!==t);l=!0);}catch(e){i=!0,r=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw r}}return c}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ie(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ie(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}X.a.Option;var oe=Y.a.Step,ue=(O.a.Search,["平台支持远程更新设备的配置数据，您可以提交远程配置任务，实时对设备的系统参数等数据进行远程更新，并且获取设备配置的更新状态；详细说明可参考文档"]),se=[{title:"创建远程配置任务"},{title:"添加配置数据"},{title:"选择设备"},{title:"执行任务"}],de=["草稿","待执行","执行中","已执行"],fe=["","执行中","执行成功","执行失败"];var me=function(e){e.devceId;var t=e.remoteType,n=void 0===t?"device":t,a=le(Object(l.useState)([]),2),c=(a[0],a[1],le(Object(l.useState)(!1),2)),s=(c[0],c[1],le(Object(l.useState)(null),2)),d=(s[0],s[1],le(Object(l.useState)({pageIndex:1}),2)),f=d[0],m=(d[1],le(Object(l.useState)({deletevisible:!1,deleteItem:null,deleteLoading:!1}),2)),p=m[0],y=m[1],E=le(Object(l.useState)([]),2),g=E[0],O=E[1],h=le(Object(l.useState)([]),2),j=(h[0],h[1],le(Object(l.useState)(""),2)),w=(j[0],j[1],le(Object(l.useState)(""),2)),S=(w[0],w[1],le(Object(l.useState)({pageIndex:1,totalRows:0,pageRows:10}),2)),A=S[0],x=S[1],k=(f.totalRows,f.pageIndex,f.pageRows,p.deletevisible),C=p.deleteItem,N=p.deleteLoading,P=[{title:"任务ID",dataIndex:"taskId",key:"taskId"},{title:"任务名称",dataIndex:"taskName",key:"taskName"},{title:"任务说明",dataIndex:"taskExplain",key:"taskExplain",width:300},{title:"任务状态",dataIndex:"status",key:"status",render:function(e,t){var n=t.status;return i.a.createElement("span",{className:"h5-statu-".concat(n+1)},D[n])}},{title:"执行时间",dataIndex:"execTime",key:"execTime",render:function(e,t){var n=t.execTime;return i.a.createElement("span",null,n?u.a.utcToDev(n):"--")}},{title:"操作",key:"action",render:function(e,t){var n=t.status,a=t.taskId;return R?i.a.createElement("span",null,i.a.createElement("a",{onClick:function(){return K(t)}},"查看"),""+n=="3"?i.a.createElement(i.a.Fragment,null,i.a.createElement(r.a,{type:"vertical"}),i.a.createElement("a",{onClick:function(){return B(a)}},"重试"),i.a.createElement(r.a,{type:"vertical"}),i.a.createElement("a",{onClick:function(){return L(t)}},"日志")):null):i.a.createElement("span",null,""+n=="1"?i.a.createElement(i.a.Fragment,null,i.a.createElement("a",{onClick:function(){return J(t)}},"编辑"),i.a.createElement(r.a,{type:"vertical"}),i.a.createElement("a",{onClick:function(){return y({deletevisible:!0,deleteItem:t})}},"删除")):i.a.createElement("a",{onClick:function(){return K(t)}},"查看"))}}],R="device"===n,T=_()(se);R&&T.splice(2,1);var D=R?fe:de,J=function(e){},K=function(){},B=function(){},L=function(){};Object(l.useEffect)((function(){V()}),[A.pageRows,A.pageIndex]);var V=function(e){var t=re({deviceId:1321312312243},A);Object(o.c)(o.a.deviceRemoteConfigList,t,{loading:!0}).then((function(e){var t=e.data,n=(t.pager,t.list),a=void 0===n?[]:n;O(Object(u.c)(a)),x((function(t){var n=JSON.parse(JSON.stringify(t));return Object.assign(n,{totalRows:e.data.pager.totalRows})}))}))};return i.a.createElement("div",{id:"remote-config"},i.a.createElement("div",{className:"comm-shadowbox setp-tip"},i.a.createElement("div",{className:"step-title"},i.a.createElement("img",{src:ne.a,alt:""}),i.a.createElement("span",null,"远程配置步骤")),i.a.createElement(M.a,{desc:ue,style:{marginBottom:22}}),i.a.createElement(Y.a,{current:-1,initial:0},i.a.createElement(oe,{title:"创建远程配置任务",description:"创建远程配置任务，填写任务的目的或备注信息。"}),i.a.createElement(oe,{title:"添加配置数据",description:"添加要更新的产品配置数据字段和更新的数值。"}),i.a.createElement(oe,{title:"选择设备",description:"可通过设备ID/物理地址，设备标签，本地导入确定要配置的设备。"}),i.a.createElement(oe,{title:"执行任务",description:"提交执行远程配置任务，设备更新结果实时可见。"}))),i.a.createElement("div",{className:"comm-shadowbox device-content"},i.a.createElement("div",{className:"content-top"},i.a.createElement("div",null),i.a.createElement(b.a,{type:"primary",onClick:function(){return J()}},"创建任务")),i.a.createElement(v.a,{columns:P,className:"ant-table-fixed",rowKey:"taskId",dataSource:g,pagination:{defaultCurrent:1,current:A.pageIndex,onChange:function(e,t){t===A.pageRows?x((function(n){var a=JSON.parse(JSON.stringify(n));return Object.assign(a,{pageIndex:e,pageRows:t})})):x((function(e){var n=JSON.parse(JSON.stringify(e));return Object.assign(n,{pageIndex:1,pageRows:t})}))},pageSize:A.pageRows,total:A.totalRows,showQuickJumper:!0,pageSizeOptions:[10],showTotal:function(){return i.a.createElement("span",null,"共 ",i.a.createElement("a",null,A.totalRows)," 条")}}})),k&&i.a.createElement(I.a,{visible:k,modalOKHandle:function(){var e=C.taskId;alert(e)},modalCancelHandle:function(){return y({deletevisible:!1,deleteItem:null,deleteLoading:!1})},targetName:C.taskId,confirmLoading:N,title:"删除任务",needWarnIcon:!0,descText:"即将删除的任务",tipText:"任务的所有信息将完全被删除，无法找回，请谨慎操作"}))},pe=(n("aIR0"),a.a.TabPane);function be(e){var t=e.match,n=e.history,r=Object(l.useMemo)((function(){return Object(u.h)("step")||"1"}),[]),c=t.params.id,o={};return sessionStorage.DEVICE_DETAIL_BASE&&(o=JSON.parse(sessionStorage.DEVICE_DETAIL_BASE)),i.a.createElement("div",{id:"device-detail"},i.a.createElement(ee.a,{backTitle:"设备详情"},i.a.createElement("div",{className:"device-top"},i.a.createElement("div",{className:"device-top-item"},i.a.createElement("label",{className:"device-label"},"设备ID："),i.a.createElement("span",{className:"device-text"},o.deviceId),i.a.createElement("span",{className:"device-status"},1==o.onlineStatus?"在线":"离线")),i.a.createElement("div",{className:"device-top-item"},i.a.createElement("label",{className:"device-label"},"物理地址ID："),i.a.createElement("span",{className:"device-text"}),o.deviceMac),i.a.createElement("div",{className:"device-top-item"},i.a.createElement("label",{className:"device-label"},"产品名称："),i.a.createElement("span",{className:"device-text"},o.productName)),i.a.createElement("div",{className:"device-top-item"},i.a.createElement("label",{className:"device-label"},"所属分类："),i.a.createElement("span",{className:"device-text"},o.productType)))),i.a.createElement("div",{className:"comm-shadowbox common-tab device-content"},i.a.createElement(a.a,{defaultActiveKey:r,onChange:function(e){n.push(t.url+"?"+"step=".concat(e))}},i.a.createElement(pe,{key:"1",tab:"基本信息"},i.a.createElement(p,{devceId:c})),i.a.createElement(pe,{key:"2",tab:"设备标签"},i.a.createElement(D,{devceId:c})),i.a.createElement(pe,{key:"3",tab:"设备影子"},i.a.createElement(G,{devceId:c})),i.a.createElement(pe,{key:"4",tab:"远程配置"},i.a.createElement(me,{devceId:c})))))}},t7Rh:function(e,t,n){},wmP4:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAOCAYAAAAmL5yKAAAACXBIWXMAAA7EAAAOxAGVKw4bAAABsklEQVQokWWRvW4TQRSFv5nMLE4U8IJEEaFFUUJhCQpA4idNKFJQUiU0eYM8QOqUCCSQeAXShJISCQch4QYqQEHhV3LjmCoKyEnsvZdixrtr+xazO3N3vnPuWfP2c2dPoYEqqqBhQeMehucCwz78vH97fhHAqdIoLkHlcgRU9qGtqOoCsVzRjAAVjapaKI4ARIlSJaC0L1WVEUjhhGKMccCk7XJ+ZTKbIUCqI4zaRpVTgVY3Ze9wlt7AceFMn8a5I1Z3dPrlmumZ1x/bClrOVgH0BbZ/zNE5rpFY8AZ8fCZTtPoJK05VylmJTiS8v++mHBzXSAxs3IEshSe7YBS8YWkmZ9OGVKKqKCLKEPr18CzewMZd+NKBm5fg+lzpwhvWgwMpE64G1csd3sLlFB5cDaFldfh2ECCJJXMKzxQWwGCQmHr4eNbJ8kCm0se7QTmrw8MbkOfw4Td4S9swVs3mr9o/398W1bz15+Kt73/Pz1fDu7cIy1fg+Rtwlq0JwKt3+59U5JqiDMTQ7GYcDWZG/4AFZ2md5KxMAMZrdUen6zmb3rCeWDJvaTvDi5OcR0/XTO8/FFxXqP9J8G8AAAAASUVORK5CYII="}}]);
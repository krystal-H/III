(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{R4Qp:function(e,t,a){"use strict";a.r(t);a("ef1R"),a("Ra8s"),a("sfoS"),a("HsXu"),a("bs69"),a("Lm8M"),a("ryEf"),a("9b3Y"),a("Ck9u"),a("IHDg"),a("P37N"),a("vV4J"),a("RfWx"),a("MNU5");var r=a("YeX6"),n=(a("UdMA"),a("ViyK")),c=(a("QcZr"),a("b+L2")),l=(a("xzjF"),a("PeP6")),i=(a("qgAm"),a("av3G"),a("T9Mk")),o=a.n(i),u=a("/o8B"),s=a("R2s5"),m=(a("hz08"),a("DgvE")),d=a("Nlzp"),f=a("yqJg"),v=a("MeRu");a("36rt");function p(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function y(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?p(Object(a),!0).forEach((function(t){E(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function E(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var r,n,c=[],l=!0,i=!1;try{for(a=a.call(e);!(l=(r=a.next()).done)&&(c.push(r.value),!t||c.length!==t);l=!0);}catch(e){i=!0,n=e}finally{try{l||null==a.return||a.return()}finally{if(i)throw n}}return c}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}var h=l.a.Option,O={pageRows:10,pageIndex:1};t.default=function(e){var t=g(Object(i.useState)({}),2),a=t[0],r=t[1],n=g(Object(i.useState)({pager:{},list:[]}),2),l=n[0],s=n[1],p=g(Object(i.useState)([]),2),E=p[0],b=p[1];Object(i.useEffect)((function(){console.log("useEffect"),h(),S(O)}),[]);var h=function(){Object(d.c)(d.a.getStatistics,{loading:!0}).then((function(e){var t=e.code,a=e.data;t===f.a&&r(a)}))},S=function(e){Object(d.c)(d.a.getSeniorDeviceList,e,{loading:!0}).then((function(e){var t=e.code,a=e.data;t===f.a&&s(a)}))},j=function(){var e=l.list.slice();return e.forEach((function(e,t){e.key=e.id})),{antDSeniorDeviceList:e,columns:[{title:"设备ID",dataIndex:"id",key:"id"},{title:"设备秘钥",dataIndex:"deviceSecret",key:"deviceSecret",render:function(e,t,a){var r=E[a]?"eye-invisible":"eye",n=E[a]?e:Object(m.r)(e,10);return o.a.createElement("div",null,o.a.createElement("span",{key:"detail"},n),o.a.createElement(u.a,{type:r,style:{fontSize:"18px",marginLeft:"6px"},theme:"twoTone",twoToneColor:"#2874FF",onClick:function(){return function(e){var t=E.slice();t[e]=!t[e],b(t)}(a)}}))}},{title:"物理地址",dataIndex:"physicalAddr",key:"physicalAddr"},{title:"产品名称",dataIndex:"productName",key:"productName"},{title:"入网状态",dataIndex:"status",key:"status",render:function(e){var t={color:"#FF2E00",marginRight:"10px"},a="未知状态";return 0===e?(t.color="#FF2E00",a="未入网"):1===e?(t.color="#00B72E",a="已入网"):2===e&&(t.color="#f5ad05",a="烧录中"),o.a.createElement("div",null,o.a.createElement("span",{style:t},"●"),o.a.createElement("span",null,a))}},{title:"入网时间",dataIndex:"activeTime",key:"activeTime",render:function(e){return e?m.a.utcToDev(e):"--"}}]}}(),x=j.antDSeniorDeviceList,I=j.columns,N=l.pager;return o.a.createElement("section",{className:"device-secret-wrapper flex-column"},o.a.createElement("div",{className:"device-secret-header"},o.a.createElement(v.a,{noback:!0,title:"通用设备密钥管理"}),o.a.createElement("div",{className:"device-secret-statistic clearfix"},o.a.createElement("div",{className:"common-id"},o.a.createElement("div",null,"通用ID/密钥对"),o.a.createElement("div",null,a.total)),o.a.createElement("div",{className:"used"},o.a.createElement("div",null,"已烧录使用"),o.a.createElement("div",null,a.burn)),o.a.createElement("div",{className:"register"},o.a.createElement("div",null,"已入网设备"),o.a.createElement("div",null,a.activate)),o.a.createElement("div",{className:"unregistered"},o.a.createElement("div",null,"未入网设备"),o.a.createElement("div",null,a.unactivate)))),o.a.createElement("div",{className:"device-secret-content-wrapper flex1"},o.a.createElement("div",{className:"device-secret-content"},o.a.createElement("h4",null,"设备列表"),o.a.createElement(w,{getSeniorDeviceList:S}),o.a.createElement(c.a,{className:"content",dataSource:x,columns:I,pagination:{onChange:function(e){S(y(y({},O),{},{pageIndex:e}))},defaultCurrent:1,current:N.pageIndex,pageSize:N.pageRows,total:N.totalRows,showQuickJumper:!0}}))))};var w=s.a.create({name:"deviceSearch"})((function(e){var t=e.form.getFieldDecorator;return o.a.createElement(s.a,{layout:"inline",className:"search-form",onSubmit:function(t){t.preventDefault();var a=e.form.validateFieldsAndScroll,r=e.getSeniorDeviceList;a((function(e,t){if(!e){console.log("Received values of form: ",t);var a=y({},O);t.id&&(a.id=t.id),(t.status||0===t.status)&&(a.status=t.status),t.productName&&(a.productName=t.productName),r(a)}}))}},o.a.createElement(s.a.Item,{label:"",colon:!1,style:{marginRight:0}},t("status",{initialValue:""})(o.a.createElement(l.a,{style:{width:"150px"},optionFilterProp:"children"},o.a.createElement(h,{key:"allStatus",value:""},"全部状态"),o.a.createElement(h,{key:"unRegistered",value:0},"未入网"),o.a.createElement(h,{key:"register",value:1},"已入网")))),o.a.createElement(s.a.Item,{label:"",colon:!1},t("id",{rules:[{max:100,message:"最多可以输入100个字符"}]})(o.a.createElement(n.a,{placeholder:"请输入设备ID号"}))),o.a.createElement(s.a.Item,{label:"产品名称"},t("productName",{rules:[{max:100,message:"最多可以输入100个字符"}]})(o.a.createElement(n.a,{placeholder:"请输入产品名称"}))),o.a.createElement(s.a.Item,{label:""},o.a.createElement(r.a,{type:"primary",htmlType:"submit"},"查询")))}))},yqJg:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var r=0}}]);
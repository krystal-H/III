(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{"+a4r":function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return ut}));a("NBAS"),a("SuFq"),a("pNMO"),a("4Brf"),a("0oug"),a("4mDm"),a("PKPk"),a("3bBZ"),a("YQTV");var n=a("NUBc"),r=(a("qNb/"),a("PArb")),l=(a("bipt"),a("lrIw")),i=(a("AUBz"),a("ZTPi")),c=(a("rB9j"),a("Rm1S"),a("07d7"),a("5s+n"),a("p532"),a("FZtP"),a("2B1R"),a("ma9I"),a("q1tI")),o=a.n(c),s=a("/MKj"),u=a("+IdD"),d=a("dL2e"),m=a("Nlzp"),p=a("P2RN"),f=a("DgvE"),v=a("MeRu"),y=a("odoF"),b=a("FC04"),g=a("cu44"),h=a("S18n"),E=a("rwTb"),w=(a("+2oP"),a("sMBO"),a("pjDv"),a("tkto"),a("5DmW"),a("27RR"),a("mbEz"),a("wCAj")),k=(a("TfFZ"),a("3S7+")),I=(a("L/Qf"),a("2/Rp")),O=a("BkRI"),L=a.n(O),S=(a("pDQq"),a("TeQF"),a("EnZy"),a("xvlK")),x=a("TL2v"),j=a("2kug"),D=(a("k3Gp"),a("kLXV")),N=(a("QCje"),a("fyUT")),C=(a("8QGh"),a("2fM7")),T=(a("1vPl"),a("5rEg")),P=(a("yq1k"),a("SYor"),a("JTJg"),a("i6QF"),a("qePV"),a("z7Xi"));function R(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function A(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?R(Object(a),!0).forEach((function(t){M(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):R(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function M(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function F(e){return function(e){if(Array.isArray(e))return J(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||B(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,l=[],i=!0,c=!1;try{for(a=a.call(e);!(i=(n=a.next()).done)&&(l.push(n.value),!t||l.length!==t);i=!0);}catch(e){c=!0,r=e}finally{try{i||null==a.return||a.return()}finally{if(c)throw r}}return l}(e,t)||B(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(e,t){if(e){if("string"==typeof e)return J(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?J(e,t):void 0}}function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var _=T.a.TextArea,U=T.a.Search,K=C.a.Option,q=[{title:"填写任务说明"},{title:"添加配置数据"},{title:"选择配置更新的设备"}],H=["待执行","执行中","成功","失败"];function Q(e){var t=e.visible,a=e.productId,n=e.onCancel,r=e.configProtoclList,l=e.isDeviceRomote,i=e.getRemoteList,s=e._deviceList,u=e.editData,d=e.protocolFormat,v=V(Object(c.useState)(0),2),y=v[0],b=v[1],g=V(Object(c.useState)(u?{taskExplain:u.taskExplain}:{taskExplain:""}),2),h=g[0],E=g[1],k=V(Object(c.useState)(u?u.protocolSendData||[]:r.map((function(e){return e.defaultPropertyValue||""}))),2),O=k[0],S=k[1],x=V(Object(c.useState)(u&&u.protocolSelection||[]),2),R=x[0],M=x[1],B=V(Object(c.useState)([]),2),J=B[0],H=B[1],Q=V(Object(c.useState)(1),2),z=Q[0],W=Q[1],Y=V(Object(c.useState)([]),2),G=Y[0],X=Y[1],$=V(Object(c.useState)({curDeviceInfoList:[],allDeviceInfoList:[],allDeviceInfoPager:{pageIndex:1,currPageRows:7}}),2),ee=$[0],te=$[1],ae=V(Object(c.useState)([]),2),ne=ae[0],re=ae[1],le=V(Object(c.useState)(!1),2),ie=le[0],ce=le[1],oe=V(Object(c.useState)({allList:[],successList:[],errorList:[],errorVisible:!1}),2),se=oe[0],ue=oe[1],de=V(Object(c.useState)(""),2),me=de[0],pe=de[1],fe=V(Object(c.useState)(!1),2),ve=fe[0],ye=fe[1],be=V(Object(c.useState)({rightAllList:u?u.deviceList:[],rightTempList:u?u.deviceList:[]}),2),ge=be[0],he=be[1],Ee=V(Object(c.useState)([]),2),we=Ee[0],ke=Ee[1],Ie=Object(c.useRef)(null),Oe=h.taskExplain,Le=ee.curDeviceInfoList,Se=ee.allDeviceInfoList,xe=ee.allDeviceInfoPager,je=se.allList,De=se.successList,Ne=se.errorList,Ce=se.errorVisible,Te=ge.rightAllList,Pe=ge.rightTempList,Re=l?1:2,Ae=L()(q);l&&Ae.splice(2,1);var Me=function(e){Object(m.b)(m.a.getAllDeviceInfo,{productId:a,pageRows:8,pageIndex:e||xe.pageIndex}).then((function(e){if(e.data){var t=e.data,a=t.list,n=void 0===a?[]:a,r=t.pager,l=void 0===r?{}:r,i=[].concat(F(Se),F(n));n.forEach((function(e){e.key=e.deviceUniqueId})),te({curDeviceInfoList:n,allDeviceInfoPager:l,allDeviceInfoList:i})}}))};Object(c.useEffect)((function(){l||Me()}),[a,l]);var Fe=function(e){var t=m.a.saveRomoteConfig,c={taskExplain:Oe,productId:a,protocolJson:JSON.stringify(1!==d?R.map((function(e){var t=r[e];return delete t._type,delete t._params,delete t._index,delete t.key,A(A({},t),{},{sendData:O[e]})})):O.map((function(e,t){var a=r[t];return delete a._type,delete a._params,delete a._index,delete a.key,A(A({},a),{},{sendData:e})})))};if(l)t=m.a.saveRomoteConfigForDevice,c.deviceList=s;else{if(Te.length<1)return void Object(p.a)({description:"请至少选择一个设备"});c.deviceList=Te.map((function(e){return{deviceId:e.deviceId,deviceUniqueId:e.deviceUniqueId,macAddress:e.macAddress}})),u&&(c.taskId=u.taskId)}Object(m.c)(t,c,{needJson:!0,loading:!0,noInstance:!0}).then((function(t){if(e){var r=t.data;Object(m.b)(m.a.submitRomoteConfig,{taskId:r,productId:a},{loading:!0}).then((function(e){i(1),n()}))}else i(1),n()}))},Ve=function(e){E(A(A({},h),{},{taskExplain:e.target.value.trim()}))},Be=function(e,t){var a=F(O),n=J.filter((function(e){return e!==t}));a[t]=e,S(a),H(n)},Je=function(e){W(+e),X([]),re([])},_e=function(e){e?(ce(!0),Object(m.b)(m.a.getDeviceInfoByIdOrMacAddress,{productId:a,query:e}).then((function(e){var t=e.data;t.key=t.deviceUniqueId,e.data&&re([t])})).finally((function(){ce(!1)}))):Object(p.a)({description:"请输入查询条件"})},Ue=function(e){var t=F(Te);if(e&&e.trim()){var a=e.trim();t=Te.filter((function(e){var t=e.deviceUniqueId,n=e.macAddress;return t.indexOf(a)>-1||n.indexOf(a)>-1}))}he(A(A({},ge),{},{rightTempList:t}))},Ke=function(){window.open(m.a.downloadRemoteDeviceTemplateExcel)},qe=function(e){console.log(1);var t=e.target;if(t.files&&t.files.length>0){var n=Object(f.e)(t.files,["xls","xlsx"],1e4),r=n.isOk;n.type,n.size;if(!r)return void Object(p.a)({description:"文件类型或者大小不符合要求"});var l=t.files[0];Object(m.c)(m.a.importRemoteDeviceExcel,{uploadExcel:l,productId:a},{needFormData:!0,loading:!0}).then((function(e){if(e.data){var t=e.data,a=[],n=[];t.forEach((function(e,t){var r=e.errorType,l=e.deviceUniqueId;e.key=l,r?n.push({deviceUniqueId:l,errorType:r,key:l}):a.push(A({},e))})),ue(A(A({},se),{},{allList:t,successList:a,errorList:n})),a.length>0&&(he({rightAllList:[].concat(a),rightTempList:[].concat(a)}),ke([])),pe(l.name),ye(!0)}}))}},He=function(){var e=(1==z?Se:ne).filter((function(e){return G.includes(e.deviceUniqueId)})),t=Object(f.n)([].concat(F(Te),F(e)),"deviceUniqueId");Ie&&(Ie.current.input.input.value=""),he({rightAllList:t,rightTempList:t})},Qe=function(){if(0!==we.length){var e=Te.filter((function(e){var t=e.key;return!we.includes(t)})),t=Pe.filter((function(e){var t=e.key;return!we.includes(t)}));he(A(A({},ge),{},{rightAllList:e,rightTempList:t})),ke([])}},ze=[{title:"数据名称",dataIndex:"propertyName",key:"propertyName",width:160},{title:"数据标识",dataIndex:"property",width:240,key:"property"},{title:"数据类型",dataIndex:"_type",key:"_type",width:140},{title:"数据属性",dataIndex:"propertyValueDesc",key:"propertyValueDesc"},{title:"下发数据",dataIndex:"execTime",key:"execTime",width:180,render:function(e,t){var a=t._type,n=t._params,r=t._index,l=t.key,i=null,c=1!==d&&!R.includes(l);switch(a){case"数值型":i=o.a.createElement(N.a,{value:O[r],min:n.min,max:n.max,disabled:c,onChange:function(e){return Be(e,r)},placeholder:"请输入参数"});break;case"字符型":i=o.a.createElement(T.a,{value:O[r],maxLength:30,disabled:c,onChange:function(e){return Be(e.target.value.trim(),r)},placeholder:"请输入参数"});break;default:i=o.a.createElement(C.a,{disabled:c,onChange:function(e){return Be(e,r)},value:O[r]||""},o.a.createElement(K,{key:-1,value:""},"请选择参数"),n&&n.map((function(e,t){return o.a.createElement(K,{key:t+a,value:e.value},e.name)})))}return o.a.createElement("span",{className:"config-send-data ".concat(J.includes(r)?"warn":"")},i)}}],We=[{title:"设备ID",dataIndex:"deviceUniqueId",key:"deviceUniqueId",width:140},{title:"物理地址",dataIndex:"macAddress",width:140,key:"macAddress"}],Ye={selectedRowKeys:R,onChange:function(e){M(e)}},Ge={selectedRowKeys:G,onChange:function(e){X(e)}},Ze={selectedRowKeys:we,onChange:function(e){ke(e)}},Xe=1===z?Le:2===z?ne:[];return o.a.createElement(D.a,{visible:t,width:1e3,className:"romote-modal",title:"远程配置任务",centered:!0,closable:!1,onOk:null,destroyOnClose:!0,maskClosable:!1,footer:null},o.a.createElement("div",{className:"romote-add-content flex-column"},o.a.createElement(j.a,{type:2,flowLists:Ae,style:{padding:"12px 0"},activeItem:y}),o.a.createElement("div",{className:"content-wrapper flex1"},function(){switch(y){case 0:return o.a.createElement("div",{className:"step-0-wrapper flex-row"},o.a.createElement("div",{className:"step-0-lable"},o.a.createElement("span",{className:"pre-requst-start"},"任务说明")),o.a.createElement("div",{className:"textarea-wrapper flex1"},o.a.createElement(_,{value:Oe,maxLength:100,onChange:Ve,autoSize:{minRows:4,maxRows:6}})),o.a.createElement("div",{className:"count-wrapper"},o.a.createElement("span",null,"".concat(Oe.length,"/100"))));case 1:return o.a.createElement("div",{className:"step-1-wrapper"},o.a.createElement("p",null,1!==d?"请选中需要下发的配置数据，并配置下发数据的值":"该产品使用了CLink标准数据格式（十六进制），需全量下发配置更新数据"),o.a.createElement("div",{className:"table-wrapper"},o.a.createElement(w.a,{columns:ze,rowSelection:1!==d?Ye:null,dataSource:r,scroll:{y:300},pagination:!1})));case 2:return o.a.createElement("div",{className:"step-2-wrapper"},o.a.createElement("div",{className:"device-select-wrapper flex-row"},o.a.createElement("div",{className:"left flex1"},o.a.createElement("p",null,"选择配置更新的设备"),o.a.createElement(C.a,{value:z,onChange:Je},o.a.createElement(K,{value:1,key:1},"全部设备"),o.a.createElement(K,{value:2,key:2},"通过设备ID/物理地址查找"),o.a.createElement(K,{value:3,key:3},"导入设备列表（本地文件）")),2===z&&o.a.createElement(U,{enterButton:"查 找",loading:ie,onSearch:_e,maxLength:50,placeholder:"请输入设备ID/物理地址查找"}),3===z?o.a.createElement("section",{className:"file-upload-area"},o.a.createElement("p",null,"选择本地的设备数据文件上传 ",o.a.createElement("a",{onClick:Ke},"设备数据模板")),o.a.createElement("p",null,"每次添加最多支持20,000个设备"),ve?o.a.createElement("div",null,o.a.createElement("div",{className:"result-area"},o.a.createElement("h3",null,me||"--"),o.a.createElement("p",null,"共".concat(je.length,"条数据")),o.a.createElement("p",null,"".concat(De.length,"台设备成功匹配")),o.a.createElement("p",null,"".concat(Ne.length,"条数据匹配失败"))),o.a.createElement("div",{className:"tools"},o.a.createElement("a",{onClick:function(){return ye(!1)}},"重新上传"),o.a.createElement("a",{onClick:function(){return ue(A(A({},se),{},{errorVisible:!0}))}},"错误日志"))):o.a.createElement("div",null,o.a.createElement("div",{className:"file-input-wrapper"},o.a.createElement(I.a,{type:"primary"},o.a.createElement(P.a,null)," 选择本地设备数据文件"),o.a.createElement("input",{type:"file",onInput:qe,accept:".xls,.xlsx"})),o.a.createElement("p",null,"支持xls，xlsx格式，文件大小不超过10MB"))):2===z?o.a.createElement(w.a,{columns:We,dataSource:Xe,rowSelection:Ge,pagination:!1}):o.a.createElement(w.a,{columns:We,dataSource:Xe,rowSelection:Ge,pagination:{total:xe.totalRows,defaultCurrent:1,defaultPageSize:xe.currPageRows,showQuickJumper:!1,hideOnSinglePage:!0,size:"small",onChange:function(e){return Me(e)},showTotal:function(e){return o.a.createElement("span",null,"共 ",o.a.createElement("a",null,e)," 条")}}})),o.a.createElement("div",{className:"center"},o.a.createElement(I.a,{type:"primary",disabled:0===G.length,onClick:He},"选择设备")),o.a.createElement("div",{className:"right flex1"},o.a.createElement("p",null,"已选中配置更新的设备"),o.a.createElement(U,{enterButton:"查 找",ref:Ie,onSearch:Ue,maxLength:50,placeholder:"请输入设备ID/物理地址查找"}),o.a.createElement("div",{className:"tools-wrapper"},o.a.createElement("a",{className:we.length>0?"":"disable",onClick:Qe},"取消选中")),o.a.createElement(w.a,{columns:We,rowSelection:Ze,dataSource:Pe,pagination:{total:Pe.length,defaultCurrent:1,defaultPageSize:7,showQuickJumper:!1,hideOnSinglePage:!0,size:"small",showTotal:function(e){return o.a.createElement("span",null,"共 ",o.a.createElement("a",null,e)," 条")}}}))))}}()),o.a.createElement("div",{className:"r-footer"},o.a.createElement("span",null,y>0&&o.a.createElement(I.a,{onClick:function(){return b(y-1)},type:"primary"},"上一步"),o.a.createElement(I.a,{onClick:function(){if(0===y){if(!Oe)return void Object(p.a)({description:"请输入远程配置的备注信息"})}else if(1===y){var e=[];if(1!==d){if(R.length<1)return void Object(p.a)({description:"请至少选择一条配置协议"});R.forEach((function(t){[""," ",null,void 0].includes(O[t])&&e.push(t)}))}else O.forEach((function(t,a){[""," ",null,void 0].includes(t)&&e.push(a)}));if(e.length>0)return Object(p.a)({description:"请为配置协议添加参数"}),void H(e)}else if(2===y&&Te.length<1)return void Object(p.a)({description:"请至少选择一个设备"});y===Re?Fe(!l):b(y+1)},type:"primary"},y===Re?"提交执行":"下一步"),o.a.createElement(I.a,{onClick:function(){2===y?Fe():n()},type:2===y?"primary":"default"},2===y?"保存":"取消"))),Ce&&o.a.createElement(Z,{visible:Ce,errorList:Ne,onCancel:function(){return ue(A(A({},se),{},{errorVisible:!1}))}})))}function z(e){var t=e.visible,a=e.record,n=e.statusText,l=e.onCancel,i=e.searchDeviceResult,s=e.isDeviceRomote,u=V(Object(c.useState)({selectType:1,keyWords:"",filterStatus:0}),2),d=u[0],p=u[1],v=V(Object(c.useState)({errorLogVisible:!1,errorLogRecord:{}}),2),y=v[0],b=v[1],g=a.taskId,h=a.taskExplain,E=a.status,k=a.execTime,O=a.protocolConfig,L=a.total,S=a.success,x=a.inExec,j=a.fail,N=a.list,P=void 0===N?[]:N,R=a.pager,F=void 0===R?{}:R,B=d.selectType,J=d.keyWords,_=d.filterStatus,U=y.errorLogVisible,q=y.errorLogRecord,Q=[{title:"设备ID",dataIndex:"deviceUniqueId",key:"deviceUniqueId",width:200},{title:"物理地址",dataIndex:"macAddress",width:200,key:"macAddress"},{title:"配置结果",dataIndex:"status",key:"status",width:160,render:function(e,t){var a=t.status;return o.a.createElement("span",{className:"verify-statu-".concat(a)},H[a-1])}},{title:"操作",key:"action",width:200,render:function(e,t){var a=t.status,n=t.remoteId;t.receiveMsg,t.errorType;return o.a.createElement("span",null,""+a=="4"?o.a.createElement(o.a.Fragment,null,o.a.createElement("a",{onClick:function(){return function(e){Object(m.b)(m.a.retryByTaskId,{remoteId:e}).then((function(e){W(F.pageIndex)}))}(n)}},"重试"),o.a.createElement(r.a,{type:"vertical"}),o.a.createElement("a",{onClick:function(){return function(e){var t=e.remoteId,a=e.errorType;2==a?Object(m.b)(m.a.getReceiveMsg,{remoteId:t},{loading:!0}).then((function(e){b({errorLogVisible:!0,errorLogRecord:{errorType:a,receiveMsg:e.data&&e.data.receiveMsg}})})):b({errorLogVisible:!0,errorLogRecord:{errorType:a,receiveMsg:null}})}(t)}},"日志")):null)}}],z=function(e,t){p(A(A({},d),{},M({},t,e)))},W=function(e){var t={};e&&(t.pageIndex=e),J&&(t[1===B?"deviceUniqueId":"macAddress"]=J),_&&(t.status=_),t.taskId=g,i(t)};return o.a.createElement(D.a,{visible:t,width:1e3,className:"romote-modal",title:"远程配置任务",centered:!0,closable:!0,onOk:null,onCancel:l,destroyOnClose:!0,maskClosable:!1,footer:null},o.a.createElement("div",{className:"romote-detail-content height-premit"},o.a.createElement("h3",null,"基础信息"),o.a.createElement("div",{className:"base-info"},o.a.createElement("p",null,o.a.createElement("span",null,"任务ID"),o.a.createElement("span",null,g||"--")),o.a.createElement("p",null,o.a.createElement("span",null,"任务说明"),o.a.createElement("span",null,h||"--")),o.a.createElement("p",null,o.a.createElement("span",null,"任务状态"),o.a.createElement("span",null,n[E]||"--")),o.a.createElement("p",null,o.a.createElement("span",null,"执行时间"),o.a.createElement("span",null,f.a.utcToDev(k)||"--"))),o.a.createElement("h3",null,"配置数据"),o.a.createElement(w.a,{columns:[{title:"数据名称",dataIndex:"propertyName",key:"propertyName",width:200},{title:"数据标识",dataIndex:"property",width:240,key:"property"},{title:"数据类型",dataIndex:"_type",key:"_type",width:120},{title:"数据属性",dataIndex:"propertyValueDesc",key:"propertyValueDesc"},{title:"下发数据",dataIndex:"sendData",key:"sendData",width:140}],dataSource:O||[],pagination:!1}),!s&&o.a.createElement(o.a.Fragment,null,o.a.createElement("h3",null,"配置设备"),o.a.createElement("div",{className:"device-wrapper"},o.a.createElement("div",null,o.a.createElement("h4",null,"配置设备数"),o.a.createElement("p",null,Number.isInteger(L)?L:"--")),o.a.createElement("div",null,o.a.createElement("h4",null,"配置成功"),o.a.createElement("p",null,Number.isInteger(S)?S:"--")),o.a.createElement("div",null,o.a.createElement("h4",null,"执行中"),o.a.createElement("p",null,Number.isInteger(x)?x:"--")),o.a.createElement("div",null,o.a.createElement("h4",null,"配置失败"),o.a.createElement("p",null,Number.isInteger(j)?j:"--")),o.a.createElement("div",null,o.a.createElement("span",{className:0==+j?"disable":"",onClick:+j>0?function(){Object(m.b)(m.a.batchRetry,{taskId:g}).then((function(e){W()}))}:null},"批量重试"))),o.a.createElement("div",{className:"filter-wrapper"},o.a.createElement(C.a,{value:B,onChange:function(e){return z(e,"selectType")}},o.a.createElement(K,{key:"1",value:1},"设备ID"),o.a.createElement(K,{key:"2",value:2},"物理地址")),o.a.createElement(T.a,{placeholder:"支持精确查询",value:J,maxLength:50,onChange:function(e){return z(e.target.value,"keyWords")}}),o.a.createElement("span",null,"配置结果"),o.a.createElement(C.a,{value:_,onChange:function(e){return z(e,"filterStatus")}},o.a.createElement(K,{key:"0",value:0},"全部"),o.a.createElement(K,{key:"1",value:1},"待执行"),o.a.createElement(K,{key:"2",value:2},"执行中"),o.a.createElement(K,{key:"3",value:3},"执行成功"),o.a.createElement(K,{key:"4",value:4},"执行失败")),o.a.createElement(I.a,{type:"primary",onClick:function(){return W()}},"查找"),o.a.createElement(I.a,{type:"primary",onClick:function(){Object(m.b)(m.a.exportTaskResult,{taskId:g}).then((function(e){window.open(m.a.exportTaskResult+"?taskId=".concat(g))}))}},"导出数据")),o.a.createElement(w.a,{columns:Q,dataSource:P||[],pagination:{total:F.totalRows,current:F.pageIndex,defaultCurrent:1,defaultPageSize:F.defaultPageRows,showQuickJumper:!1,hideOnSinglePage:!0,size:"small",onChange:function(e){return W(e)},showTotal:function(e){return o.a.createElement("span",null,"共 ",o.a.createElement("a",null,e)," 条")}}}),U&&o.a.createElement(Y,{visible:U,onCancel:function(){return b({errorLogVisible:!1,errorLogRecord:{}})},record:q}))))}var W=["没问题","下发配置数据失败","上报的配置数据不一致","上报的配置数据在超时时间内未获取到","存在相同的设备在执行远程配置任务","后台数据异常"];function Y(e){var t=e.visible,a=e.record,n=e.onCancel,r=a.errorType,l=a.receiveMsg;return o.a.createElement(D.a,{visible:t,width:600,className:"romote-modal",title:"日志",centered:!0,closable:!0,onOk:null,onCancel:n,destroyOnClose:!0,maskClosable:!1,footer:null},o.a.createElement("div",{className:"remote-error-wrapper"},o.a.createElement("div",null,o.a.createElement("label",null,"失败原因：")," ",o.a.createElement("span",null,W[r])),o.a.createElement("div",null,o.a.createElement("label",null,"报文信息："),o.a.createElement("div",{className:"msg-wrap"},function(e){if(!e)return o.a.createElement("h4",null,"无报文信息");var t=JSON.parse(e),a=Object.keys(t);return o.a.createElement(o.a.Fragment,null,o.a.createElement("h4",null,"报文解析列表"),a.map((function(e){return o.a.createElement("div",{className:"log-row"},o.a.createElement("span",{className:"log-left-key"},e),o.a.createElement("span",{className:"log-right-content"},t[e]))})))}(l)))))}var G=["设备ID的长度超过限制","物理地址的长度超限制","设备ID发生重复","物理地址发生重复","设备ID不存在或未联网","物理地址不存在或未联网"];function Z(e){var t=e.visible,a=e.errorList,n=e.onCancel,r=[{title:"设备ID",dataIndex:"deviceUniqueId",key:"deviceUniqueId",width:200},{title:"错误原因",dataIndex:"errorType",width:200,key:"errorType",render:function(e,t){var a=t.errorType;return o.a.createElement("span",null,G[a-1])}}];return o.a.createElement(D.a,{visible:t,width:600,className:"romote-modal",title:"设备导入错误日志",centered:!0,closable:!0,onOk:null,onCancel:n,destroyOnClose:!0,maskClosable:!1,footer:null},o.a.createElement("div",null,o.a.createElement(w.a,{columns:r,dataSource:a||[],pagination:{total:a.length,defaultCurrent:1,defaultPageSize:10,showQuickJumper:!1,hideOnSinglePage:!0,size:"small",showTotal:function(e){return o.a.createElement("span",null,"共 ",o.a.createElement("a",null,e)," 条")}}})))}a("AXa2");function X(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function $(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?X(Object(a),!0).forEach((function(t){ee(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):X(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function ee(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function te(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,l=[],i=!0,c=!1;try{for(a=a.call(e);!(i=(n=a.next()).done)&&(l.push(n.value),!t||l.length!==t);i=!0);}catch(e){c=!0,r=e}finally{try{i||null==a.return||a.return()}finally{if(c)throw r}}return l}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ae(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return ae(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var ne=["平台支持远程更新设备的配置数据，您可以提交远程配置任务，实时对设备的系统参数等数据进行远程更新，并且获取设备配置的更新状态；详细说明可参考文档"],re=[{title:"创建远程配置任务"},{title:"添加配置数据"},{title:"选择设备"},{title:"执行任务"}],le=["草稿","待执行","执行中","已执行"],ie=["","执行中","执行成功","执行失败"];function ce(e){var t=e.productId,a=e.protocolLists,n=void 0===a?[]:a,l=e.remoteType,i=void 0===l?"product":l,s=e.deviceId,u=e.deviceUniqueId,d=e.macAddress,p=te(Object(c.useState)(!1),2),v=p[0],y=p[1],h=te(Object(c.useState)({detailVisible:!1,selectRecord:{}}),2),E=h[0],O=h[1],D=te(Object(c.useState)([]),2),N=D[0],C=D[1],T=te(Object(c.useState)({pageIndex:1}),2),P=T[0],R=T[1],A=te(Object(c.useState)({deletevisible:!1,deleteItem:null,deleteLoading:!1}),2),M=A[0],F=A[1],V=te(Object(c.useState)([]),2),B=V[0],J=V[1],_=te(Object(c.useState)(0),2),U=_[0],K=_[1],q=te(Object(c.useState)(null),2),H=q[0],W=q[1],G=te(Object(c.useState)({errorLogVisible:!1,errorLogRecord:{}}),2),Z=G[0],X=G[1],ee=Z.errorLogVisible,ae=Z.errorLogRecord,ce=P.totalRows,oe=P.pageIndex,se=P.pageRows,ue=M.deletevisible,de=M.deleteItem,me=M.deleteLoading,pe=E.detailVisible,fe=E.selectRecord,ve="device"===i,ye=L()(re);ve&&ye.splice(2,1);var be=ve?ie:le,ge=[{title:"任务ID",dataIndex:"taskId",key:"taskId",width:200},{title:"任务说明",dataIndex:"taskExplain",key:"taskExplain"},{title:"更新设备数量",dataIndex:"deviceTotal",key:"deviceTotal",width:180},{title:"任务状态",dataIndex:"status",key:"status",width:180,render:function(e,t){var a=t.status;return o.a.createElement("span",{className:"h5-statu-".concat(a+1)},be[a])}},{title:"执行时间",dataIndex:"execTime",key:"execTime",width:180,render:function(e,t){var a=t.execTime;return o.a.createElement("span",null,a?f.a.utcToDev(a):"--")}},{title:"操作",key:"action",width:200,render:function(e,t){var a=t.status,n=t.taskId;return ve?o.a.createElement("span",null,o.a.createElement("a",{onClick:function(){return we(t)}},"查看"),""+a=="3"?o.a.createElement(o.a.Fragment,null,o.a.createElement(r.a,{type:"vertical"}),o.a.createElement("a",{onClick:function(){return Le(n)}},"重试"),o.a.createElement(r.a,{type:"vertical"}),o.a.createElement("a",{onClick:function(){return Se(t)}},"日志")):null):o.a.createElement("span",null,""+a=="1"?o.a.createElement(o.a.Fragment,null,o.a.createElement("a",{onClick:function(){return Ee(t)}},"编辑"),o.a.createElement(r.a,{type:"vertical"}),o.a.createElement("a",{onClick:function(){return F({deletevisible:!0,deleteItem:t})}},"删除")):o.a.createElement("a",{onClick:function(){return we(t)}},"查看"))}}];ve&&ge.splice(2,1);var he=function(e){var a=m.a.getRomoteConfigListByProduct,n={pageIndex:e||oe,pageRows:10};ve?(a=m.a.getRomoteConfigListForDevice,n.deviceId=s):n.productId=t,Object(m.b)(a,n).then((function(e){var t=e.data,a=t.pager,n=void 0===a?{}:a,r=t.list,l=void 0===r?[]:r;C(Object(f.c)(l)),R(n)}))};Object(c.useEffect)((function(){he()}),[t,oe,ve,s]),Object(c.useEffect)((function(){var e=n.filter((function(e){return 5==e.dataType})),t=e[0]&&e[0].list||[],a=e[0]&&e[0].protocolFormat||0;t=(t=t.filter((function(e){return"Base_Null_Reserved_Null"!==e.property}))).map((function(e,t){var a=e.propertyValueDesc,n=null;if(a&&a.indexOf("|")>-1&&(n=a.split("|").map((function(e){var t=e.split("-");return t.length>1?{name:t[1],value:t[0]}:{}}))),a&&a.indexOf("~")>-1){var r=te(a.split("~"),2);n={min:+r[0],max:+r[1]}}return $($({},e),{},{_type:Object(f.l)(e),_params:n,_index:t,key:t})})),J(t),K(a)}),[n]);var Ee=function(e){if(e){var t=e.taskId;ke(t,1).then((function(e){var t=e.data,a=t.taskExplain,n=t.taskId,r=t.protocolJson,l=t.deviceList,i=JSON.parse(r),c=i.map((function(e){return e.property})),o=B.map((function(e){return e.defaultPropertyValue||""})),s=[];B.forEach((function(e,t){var a=e.property,n=c.indexOf(a);n>-1&&(o[t]=i[n].sendData,s.push(t))})),l.forEach((function(e){return e.key=e.deviceUniqueId})),W({taskId:n,taskExplain:a,deviceList:l,protocolSendData:o,protocolSelection:s}),y(!v)}))}else B.length>0&&y(!v)},we=function(e){var t=e.taskId;ve?Object(m.b)(m.a.getRemoteDetailForDevice,{taskId:t},{loading:!0}).then((function(t){var a=t.data.protocolJson;O({detailVisible:!pe,selectRecord:$($({},e),{},{protocolConfig:JSON.parse(a)})})})):Promise.all([ke(t,2),Ie(t),Oe({taskId:t})]).then((function(t){var a=te(t,3),n=a[0],r=a[1],l=a[2],i=n.data.protocolJson,c=void 0===i?"[]":i,o=r.data,s=l.data,u=s.list,d=s.pager;O({detailVisible:!pe,selectRecord:$($($({},e),{},{protocolConfig:JSON.parse(c)},o),{},{list:u,pager:d})})}))},ke=function(e,t){return Object(m.b)(m.a.getRemoteDetail,{taskId:e,type:t},{loading:!0})},Ie=function(e){return Object(m.b)(m.a.getResultTotal,{taskId:e},{loading:!0})},Oe=function(e){return Object(m.b)(m.a.getDeviceResultList,$({},e),{loading:!0})},Le=function(e){Object(m.b)(m.a.retryByTaskIdForDevice,{taskId:e},{loading:!0}).then((function(e){he(oe)}))},Se=function(e){var t=e.taskId,a=e.errorType;2==a?Object(m.b)(m.a.getReceiveMsgForDevice,{taskId:t},{loading:!0}).then((function(e){X({errorLogVisible:!0,errorLogRecord:{errorType:a,receiveMsg:e.data&&e.data.receiveMsg}})})):X({errorLogVisible:!0,errorLogRecord:{errorType:a,receiveMsg:null}})};return o.a.createElement("div",{className:"remote-config-wrapper"},o.a.createElement(g.a,{style:{margin:"0 0 24px",padding:"24px"}},o.a.createElement(x.a,{desc:ne}),o.a.createElement("div",{style:{padding:"24px 0 0"},className:"use-service-flow-wrapper"},o.a.createElement(j.a,{type:3,flowLists:ye}),o.a.createElement("div",{className:"extra-descs"},o.a.createElement("div",{className:"descs-item"},o.a.createElement("p",null,"创建远程配置任务，填写任务的目的或备注信息")),o.a.createElement("div",{className:"descs-item"},o.a.createElement("p",null,"添加要更新的产品配置数据字段和更新的数值")),!ve&&o.a.createElement("div",{className:"descs-item"},o.a.createElement("p",null,"可通过设备ID/物理地址，设备标签，本地导入确定要配置的设备")),o.a.createElement("div",{className:"descs-item"},o.a.createElement("p",null,"提交执行远程配置任务，设备更新结果实时可见"))))),o.a.createElement("section",{className:"remote-config-manage-wrapper section-bg"},o.a.createElement("h3",null,"远程配置任务",B.length?o.a.createElement(I.a,{style:{float:"right"},type:"primary",onClick:function(){return Ee()}},o.a.createElement(S.a,null),"创建任务"):o.a.createElement(k.a,{title:"无配置协议时不支持创建"},o.a.createElement(I.a,{style:{float:"right"},type:"primary",disabled:!0},o.a.createElement(S.a,null),"创建任务"))),o.a.createElement("div",{className:"table-wrapper"},o.a.createElement(w.a,{columns:ge,className:"ant-table-fixed",dataSource:N,pagination:{total:ce,current:oe,defaultCurrent:1,defaultPageSize:10,onChange:function(e){return function(e){he(e)}(e)},showQuickJumper:!0,hideOnSinglePage:!0,showTotal:function(e){return o.a.createElement("span",null,"共 ",o.a.createElement("a",null,e)," 条")}}})),v&&o.a.createElement(Q,{visible:v,productId:t,protocolFormat:U,onCancel:function(){y(!1),W(null)},editData:H,configProtoclList:B,getRemoteList:he,isDeviceRomote:ve,_deviceList:[{deviceId:s,deviceUniqueId:u,macAddress:d}]}),pe&&o.a.createElement(z,{visible:pe,record:fe,statusText:be,isDeviceRomote:ve,searchDeviceResult:function(e){Oe(e).then((function(e){var t=e.data,a=t.list,n=t.pager;O({detailVisible:pe,selectRecord:$($({},fe),{},{list:a,pager:n})})}))},onCancel:function(){return O({detailVisible:!1,selectRecord:{}})}})),ue&&o.a.createElement(b.a,{visible:ue,modalOKHandle:function(){var e=de.taskId;F($($({},M),{},{deleteLoading:!0})),Object(m.b)(m.a.deleteRomoteConfig,{taskId:e}).then((function(e){he(se>1?oe:oe-1>0?oe-1:1)})).finally((function(){F({deletevisible:!1,deleteItem:null,deleteLoading:!1})}))},modalCancelHandle:function(){return F({deletevisible:!1,deleteItem:null,deleteLoading:!1})},targetName:de.taskId,confirmLoading:me,title:"删除任务",needWarnIcon:!0,descText:"即将删除的任务",tipText:"任务的所有信息将完全被删除，无法找回，请谨慎操作"}),ee&&o.a.createElement(Y,{visible:ee,onCancel:function(){return X({errorLogVisible:!1,errorLogRecord:{}})},record:ae}))}var oe=a("75Mp"),se=(a("2DKY"),a("+KLJ")),ue=(a("JvnM"),a("KrTs")),de=a("zsHu"),me=a("Lyp1"),pe=(a("UxlC"),"/v5/web/open"),fe=function(e){return Object(m.c)(pe+"/deviceShadow/getDeviceShadowData",{deviceId:e})},ve=function(e){return Object(m.c)(pe+"/deviceShadow/getHistoricalData",e)},ye=function(e){var t="?";return Object.keys(e).forEach((function(a){t+=a+"="+e[a]+"&"})),function(e,t){var a=window.location.origin+pe+e+t;try{window.open(a)}catch(e){Object(p.a)({description:"下载失败",type:"error"})}}("/deviceShadow/exportHistoricalData",t.replace(/&$/,""))},be=a("FNo8"),ge=a("/Zbm"),he=(a("OrB1"),a("gFTJ")),Ee=a("4KAj"),we=a("H4M8"),ke=a("lwO8"),Ie=a("wd/R"),Oe=a.n(Ie);function Le(e){return(Le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Se(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xe(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function je(e,t){return(je=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function De(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Ce(e);if(t){var r=Ce(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Ne(this,a)}}function Ne(e,t){return!t||"object"!==Le(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ce(e){return(Ce=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Te,Pe=[{name:"最近5分钟",val:5},{name:"最近15分钟",val:15},{name:"最近30分钟",val:30},{name:"最近1小时",val:60},{name:"最近6小时",val:360},{name:"最近24小时",val:1440}],Re=Oe()().utcOffset()/60,Ae=["#1890FF","#2fc25b"],Me="<span style='display:inline-block;margin-right:5px;border-radius:10px;width:9px;height:9px;background-color:"+Ae[0]+";'></span>",Fe=function(e,t){if(!e||0===e.length)return null;var a=function(e){return e.map((function(e){var t=e.dataTimeStamp,a=e.count;return{name:Oe()(t).add(Re,"h").format("YYYY-MM-DD HH:mm:ss"),count:a}}))}(e),n=a.map((function(e){return e.name})),r=a.map((function(e){return e.count}));return{tooltip:{trigger:"axis",axisPointer:{type:"line"},formatter:function(e){var t=e[0],a=t.name,n=t.seriesName,r=t.value;return a+" <br />"+Me+n+"："+(null==r?"暂无":r)}},color:Ae,grid:{top:20,bottom:20,right:50,left:50},toolbox:{show:!1},xAxis:[{type:"category",boundaryGap:!0,axisTick:{alignWithLabel:!0},data:n,axisLabel:{formatter:function(e){return e.slice(-8)}}}],yAxis:{type:"value",scale:!0,min:0,axisTick:{show:!1},axisLine:{lineStyle:{opacity:0}},splitLine:{lineStyle:{type:"dotted"}}},series:[{type:"line",step:"end",name:t,data:r}]}},Ve=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&je(e,t)}(l,e);var t,a,n,r=De(l);function l(){var e;Se(this,l);for(var t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];return(e=r.call.apply(r,[this].concat(a))).export=function(t){t.stopPropagation(),e.props.download()},e.download=o.a.createElement(I.a,{type:"link",className:"lcp-remark-export",onClick:e.export},o.a.createElement(Ee.a,null),"导出"),e.getChart=function(){var t=e.props,a=t.showData,n=t.isLoadingForModal,r=t.isErrorForModal,l=t.listForModal,i=t.tryAgain;if(r)return o.a.createElement(be.a,{tryAgain:i});if(!n&&l&&0===l.length)return o.a.createElement(we.a,null);var c=Fe(l,(a||{}).propertyName);return o.a.createElement(ke.a,{className:"lcp-chart",option:c})},e.onChangeTime=function(t){e.props.tryAgain(t)},e}return t=l,(a=[{key:"render",value:function(){var e=this,t=this.props,a=t.showModal,n=t.showData,r=t.isLoadingForModal,l=t.isErrorForModal,i=t.listForModal,c=t.closeModal,s=n||{},u=s.propertyName,d=s.property,m=s.propertyValueDesc,p=s.gap,f=s.mulriple,v=s.remark,y=o.a.createElement(o.a.Fragment,null,o.a.createElement("span",{className:"lcp-w1"},u),d),b=!r&&!l&&i&&i.length>0;return o.a.createElement(D.a,{visible:a,className:"self-modal",width:720,title:"数据查看",footer:null,onCancel:c,centered:!0,closable:!0,destroyOnClose:!0},o.a.createElement(he.b,{title:y},o.a.createElement(he.b.Item,{label:"范围"},m),o.a.createElement(he.b.Item,{label:"数据间隔"},p),o.a.createElement(he.b.Item,{label:"数据倍数"},f),o.a.createElement(he.b.Item,{label:"",span:3},v)),o.a.createElement("div",{className:"lcp-remark"},o.a.createElement(C.a,{className:"time-select",defaultValue:5,onChange:function(t){e.onChangeTime(t)}},Pe.map((function(e){var t=e.name,a=e.val;return o.a.createElement(C.a.Option,{key:"_"+a,value:a},t)}))),b?this.download:null),this.getChart())}}])&&xe(t.prototype,a),n&&xe(t,n),l}(c.Component);a("Z5Qr"),a("p77/");function Be(e){return(Be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Je(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function _e(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Je(Object(a),!0).forEach((function(t){Ue(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Je(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Ue(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Ke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qe(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function He(e,t){return(He=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Qe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=We(e);if(t){var r=We(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return ze(this,a)}}function ze(e,t){return!t||"object"!==Be(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function We(e){return(We=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ye,Ge=0,Ze=["表单模式","Json模式"],Xe={2:"controlList",3:"runList",4:"errorList",5:"configList"},$e=function(e,t){var a=t?"已":"未";return 0===e?o.a.createElement("div",{className:"lcp-c"},"公共状态，仅对WIFI设备有意义。",o.a.createElement("br",null),"设备当前",a,"连接WIFI网络"):o.a.createElement("div",{className:"lcp-c"},"公共状态，设备",t?"已经":"没有","上报故障数据。",o.a.createElement("br",null),"设备",a,"发生故障")},et=o.a.createElement(de.a,{spin:!0,title:"加载中"}),tt=function(){return Oe()().format("YYYY-MM-DD HH:mm:ss")},at=Object(s.connect)((function(e){return{}}),(function(e){return{}}))(Te=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&He(e,t)}(l,e);var t,a,n,r=Qe(l);function l(){var e;Ke(this,l);for(var t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];return(e=r.call.apply(r,[this].concat(a))).state={tab:0,time:null,isLoading:!1,isError:!1,result:{},controlList:[],runList:[],errorList:[],configList:[],online:!1,onerror:!1,showModal:!1,showData:null,isLoadingForModal:!1,isErrorForModal:!1,listForModal:[]},e.alertMsg=o.a.createElement(o.a.Fragment,null,"设备影子是设备最新状态在平台的缓存信息，您可以在平台实时查询设备的运行和状态信息，也可以通过API获取设备状态信息。详细说明可参考",o.a.createElement(k.a,{title:"暂无文档，敬请期待~",placement:"top"},o.a.createElement("a",{href:"javascript:void(0)"},"文档"))),e.columns=[{title:"数据名称",dataIndex:"propertyName",key:"propertyName",className:"width1"},{title:"数据标识",dataIndex:"property",key:"property",className:"width2"},{title:"数据类型",dataIndex:"javaType",key:"javaType",className:"width3"},{title:"单位",dataIndex:"unit",key:"unit",className:"width4"},{title:"数据属性",dataIndex:"propertyValueDesc",key:"propertyValueDesc",className:"width5"},{title:"最新数据",dataIndex:"deviceData",key:"deviceData",className:"width6"},{title:"操作",dataIndex:"property",key:"done",className:"width7",render:function(t,a){return o.a.createElement("a",{onClick:function(){return e.showHistory(a)}},"数据查看")}}],e.getData=function(){var t=e.props.deviceId;e.setState({isLoading:!0,isError:!1});var a=function(){e.setState({time:tt(),isLoading:!1,isError:!0})};fe(t).then((function(t){var n=t.data,r=n.deviceData,l=n.state;if(0===t.code){var i={result:t,time:tt(),isLoading:!1,isError:!1,online:!!l.online,onerror:!!l.error};r.forEach((function(e){var t=e.dataType,a=e.list;i[Xe[t]]=a.map((function(e){return _e(_e({},e),{},{lcpId:++Ge,dataType:t})}))})),e.setState(i)}else a()})).catch((function(e){a()}))},e.toggleTab=function(t){e.setState({tab:t})},e.getHistory=function(t){var a=e.props.deviceId,n=t.property,r=t.dataType;if(n&&r){e.setState({isLoadingForModal:!0,isErrorForModal:!1,showModal:!0,showData:t,listForModal:[]});var l={deviceId:a,property:n,dataType:r};e.sendHistoryData=l,e.getHistoryNext(5)}else Object(p.a)({description:"数据标识或数据类型丢失，无法查询",type:"warn"})},e.getHistoryNext=function(t){e.sendHistoryData.startTime=e.getHistoryTime(t);var a=e.sendHistoryData,n=function(){e.setState({isLoadingForModal:!1,isErrorForModal:!0})},r=a.property;ve(a).then((function(t){var a=t.data;if(0===t.code){var l={isLoadingForModal:!1,isErrorForModal:!1,listForModal:(a||[]).map((function(e){return _e(_e({},e),{},{count:e[r]})}))};e.setState(l)}else n()})).catch((function(e){n()}))},e.getHistoryTime=function(e){return Oe.a.utc().valueOf()-60*e*1e3},e.tryAgain=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;e.setState({isLoadingForModal:!0,isErrorForModal:!1,listForModal:[]}),e.getHistoryNext(t)},e.showHistory=function(t){e.getHistory(t)},e.closeModal=function(){e.setState({showModal:!1})},e.download=function(){ye(e.sendHistoryData)},e.getJsonView=function(){var t=e.state.result,a=void 0===t?{}:t,n=JSON.stringify(a);return o.a.createElement(ge.a,{code:n})},e.getFormListView=function(){var t=e.state,a=t.isLoading,n=t.controlList,r=t.runList,l=t.errorList,i=t.configList,c=t.online,s=t.onerror,u=[{nam:"控制数据",source:n},{nam:"运行数据",source:r},{nam:"故障数据",source:l},{nam:"配置数据",source:i}];return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"lcp-status"},o.a.createElement("div",{className:"lcp-status-item lcp-status-item-active"},"在线状态：",o.a.createElement(k.a,{title:$e(0,c),placement:"top"},o.a.createElement(me.a,null))),o.a.createElement("div",{className:"lcp-status-item"},a?et:c?o.a.createElement(ue.a,{status:"success",text:"在线"}):o.a.createElement(ue.a,{status:"error",text:"离线"})),o.a.createElement("div",{className:"lcp-status-item lcp-status-item-active"},"故障状态：",o.a.createElement(k.a,{title:$e(1,s),placement:"top"},o.a.createElement(me.a,null))),o.a.createElement("div",{className:"lcp-status-item"},a?et:s?o.a.createElement(ue.a,{status:"error",text:"已发生故障"}):o.a.createElement(ue.a,{status:"success",text:"未发生故障"}))),u.map((function(t){var n=t.nam,r=t.source;return o.a.createElement("div",{key:n},o.a.createElement("div",{className:"lcp-title marg-top20"},n),o.a.createElement(w.a,{className:"lcp-table-small",loading:a,rowKey:"lcpId",pagination:!1,columns:e.columns,dataSource:r}))})))},e}return t=l,(a=[{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){var e=this,t=this.state,a=t.tab,n=t.time,r=t.isLoading,l=t.isError,i={showModal:t.showModal,showData:t.showData,isLoadingForModal:t.isLoadingForModal,isErrorForModal:t.isErrorForModal,listForModal:t.listForModal,tryAgain:this.tryAgain,closeModal:this.closeModal,download:this.download};return o.a.createElement("div",{className:"device-shadow-page"},o.a.createElement(se.a,{className:"page-visualization-alert",message:this.alertMsg,type:"info",showIcon:!0}),o.a.createElement("div",{className:"btn-changemod"},o.a.createElement(I.a.Group,null,Ze.map((function(t,n){return o.a.createElement(I.a,{type:n===a?"primary":void 0,onClick:function(){return e.toggleTab(n)},key:n+t},t)}))),o.a.createElement("span",{className:"fresh-time"},"最新更新时间：",n,o.a.createElement(de.a,{spin:r,title:"刷新",className:"lcp-refresh",onClick:r?null:this.getData}))),l?o.a.createElement(be.a,{tryAgain:this.getData}):0===a?this.getFormListView():this.getJsonView(),o.a.createElement(Ve,i))}}])&&qe(t.prototype,a),n&&qe(t,n),l}(c.Component))||Te;function nt(e){return(nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rt(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function lt(e,t){return(lt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function it(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=ot(e);if(t){var r=ot(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return ct(this,a)}}function ct(e,t){return!t||"object"!==nt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ot(e){return(ot=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var st=i.a.TabPane,ut=Object(s.connect)((function(e){return{deviceLabelList:e.getIn(["device","deviceLabel"]).toJS(),LabelBaseList:e.getIn(["device","deviceLabelBase"]).toJS(),defaultLabel:e.getIn(["device","defaultLabel"]).toJS(),protocolLists:e.getIn(["product","productProtocolLists"]).toJS()}}),(function(e){return{getDeviceLabelList:function(t){return e(Object(u.b)(t))},getLabelBaseList:function(t){return e(Object(u.e)(t))},getDefaultLabel:function(t){return e(Object(u.a)(t))},getProtocolLists:function(t){return e(Object(d.e)(t))}}}))(Ye=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&lt(e,t)}(u,e);var t,a,c,s=it(u);function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=s.call(this,e)).toggleShow=function(e){var a={},n=!t.state[e];a[e]=n,t.setState(a)},t.tabChangeHandle=function(e,a){var n=t.props.getProtocolLists;"3"===e&&n(a)},t.state={pageIndex:1,infodata:{productName:"--",productId:"--",productType:"--",productClass:"--",productCode:"--",deviceKey:"--",deviceUniqueId:"--",deviceSecret:"--",deviceMac:"--",activeTime:"",moduleVersion:"--",pcbVersion:"--",gateWay:"--",deviceSite:"--",deviceName:"--",bindUser:"--",macAddress:"无数据",deviceIdentifier:"--",simNumber:"--",online:"--"},showdeviceKey:!1,showdeviceKeyagin:!1,showdeviceSecret:!1,editid:-1,editkey:"",editval:"",addkey:"",addval:"",infoJurisdiction:Object(y.a)("基本信息"),tagJurisdiction:Object(y.a)("设备标签"),delLabelId:"",deleteLoading:!1,dellabelKey:"",dellabelValue:""},t}return t=u,(a=[{key:"componentDidMount",value:function(){this.getDeviceDetailt(),this.getDeviceLabelList(),this.getLabelBaseList(),this.getDefaultLabel()}},{key:"getDeviceDetailt",value:function(){var e=this,t=this.props.match.params.deviceid;Object(m.b)(m.a.getDeviceInfo,{deviceId:t}).then((function(t){0==t.code&&e.setState({infodata:t.data})}))}},{key:"getDeviceLabelList",value:function(){var e=this.state.pageIndex,t=this.props.match.params.deviceid;this.props.getDeviceLabelList({deviceId:t,pageIndex:e,pageRows:10})}},{key:"getDefaultLabel",value:function(){var e=this.props.match.params.deviceid;this.props.getDefaultLabel({deviceId:e,defaultLabel:1})}},{key:"getLabelBaseList",value:function(){this.props.getLabelBaseList({pageIndex:1,pageRows:9999})}},{key:"deleteOkHandle",value:function(){var e=this,t=this.state.delLabelId;this.setState({deleteLoading:!0},(function(){Object(m.c)(m.a.deleteDeviceLabel,{labelId:t}).then((function(t){e.setState({delLabelId:""}),0==t.code&&e.getDeviceLabelList()})).finally((function(){e.setState({deleteLoading:!1})}))}))}},{key:"openDelMod",value:function(e,t,a){this.setState({delLabelId:e,dellabelKey:t,dellabelValue:a})}},{key:"closeDelLabelMod",value:function(){this.setState({delLabelId:""})}},{key:"addConfirm",value:function(){var e=this,t=this.state,a=t.addkey,n=t.addval;if(""==a||""==n)return Object(p.a)({description:"请将添加输入框补充完整",type:"warn"}),!1;var r=this.props.match.params.deviceid;Object(m.c)(m.a.addDeviceLabel,{deviceId:r,labelKey:a,labelValue:n}).then((function(t){0==t.code&&(e.setState({addkey:"",addval:""}),e.getDeviceLabelList(),e.getLabelBaseList())}))}},{key:"editLabel",value:function(e,t,a){this.setState({editid:e,editkey:t,editval:a})}},{key:"onChangeInput",value:function(e,t){if(t&&t.length>50)return!1;var a={};a[e]=t,this.setState(a)}},{key:"editConfirm",value:function(e,t){var a=this,n=this.state,r=n.editid,l=n.editkey,i=n.editval;""==l&&""==i&&Object(p.a)({description:"请将编辑输入框补充完整",type:"warn"}),Object(m.c)(m.a.updateDeviceLabel,{labelId:r,labelKey:l||e,labelValue:i||t}).then((function(e){0==e.code&&(a.setState({editid:-1,editkey:"",editval:""}),a.getDeviceLabelList(),a.getLabelBaseList())}))}},{key:"getDataSource",value:function(e){var t=this.props.LabelBaseList,a=[],n=[];return t.forEach((function(t){a.push(t.labelTypeName||"无法识别的Key"),e&&e==t.labelTypeName&&t.labelDatas.forEach((function(e){n.push(e.labelName||"无法识别的Value")}))})),null==e?a:n}},{key:"getListHtml",value:function(){var e=this,t=this.props.deviceLabelList.list||[],a=this.state,n=a.editid,i=a.editkey,c=a.editval;return t.map((function(t,a){var s=t.id,u=t.labelKey,d=t.labelValue,m=t.labelCategory;return s==n?o.a.createElement("tr",{key:"tr_"+a},o.a.createElement("td",null,o.a.createElement(l.a,{value:i,dataSource:e.getDataSource(),style:{width:"80%"},onChange:e.onChangeInput.bind(e,"editkey"),placeholder:"Key",filterOption:!0})),o.a.createElement("td",null,o.a.createElement(l.a,{value:c,dataSource:e.getDataSource(i),style:{width:"80%"},onChange:e.onChangeInput.bind(e,"editval"),placeholder:"Value",filterOption:!0})),o.a.createElement("td",null,o.a.createElement("a",{href:"javascript:",onClick:e.editConfirm.bind(e,u,d)},"确认"),o.a.createElement(r.a,{type:"vertical"}),o.a.createElement("a",{href:"javascript:",onClick:e.editLabel.bind(e,-1,"","")},"取消"))):o.a.createElement("tr",{key:"tr_"+a},o.a.createElement("td",null,u),o.a.createElement("td",null,d),o.a.createElement("td",null,1==m?null:o.a.createElement(o.a.Fragment,null,o.a.createElement("a",{href:"javascript:",onClick:e.editLabel.bind(e,s,u,d)},"编辑"),o.a.createElement(r.a,{type:"vertical"}),o.a.createElement("a",{href:"javascript:",onClick:function(){return e.openDelMod(s,u,d)}},"删除"))))}))}},{key:"changePage",value:function(e){this.setState({pageIndex:e},this.getDeviceLabelList)}},{key:"copyText",value:function(){document.getElementById("copy").select(),document.execCommand("Copy")}},{key:"render",value:function(){var e=this,t=this.state,a=t.infodata,r=t.addkey,c=t.addval,s=t.pageIndex,u=t.infoJurisdiction,d=t.tagJurisdiction,m=t.delLabelId,p=t.deleteLoading,y=t.dellabelKey,w=t.dellabelValue,k=this.props.deviceLabelList.pager,I=a.deviceUniqueId,O=a.deviceMac,L=a.productName,S=a.productType,x=a.productCode,j=a.deviceKey,D=a.deviceSecret,N=a.productId,C=a.productClass,T=a.activeTime,P=a.moduleVersion,R=a.pcbVersion,A=a.gateWay,M=a.deviceName,F=a.deviceSite,V=a.bindUser,B=a.macAddress,J=a.deviceIdentifier,_=a.simNumber,U=a.online,K=this.props,q=K.defaultLabel,H=K.match.params.deviceid,Q=K.protocolLists,z=this.getListHtml(),W=function(e){var t=e.title,a=e.label,n=e.type;return o.a.createElement("p",null,o.a.createElement("span",{className:"title"},t,"："),"visible"===n?o.a.createElement(h.a,{label:a||"",tip:"点击复制",copy:!0}):o.a.createElement("span",null,a))};return o.a.createElement("section",{className:"page-main-wrapper devicepage flex-column"},o.a.createElement(v.a,{title:"设备详情"}),o.a.createElement("div",{className:"headerbox"},o.a.createElement("p",{className:"maintext"},o.a.createElement("span",{className:"keyvalue"},o.a.createElement("span",{className:"key"},"设备ID："),I),o.a.createElement("span",{className:"keyvalue"},o.a.createElement("span",{className:"key"},"物理地址："),O),o.a.createElement("span",{className:"keyvalue"},o.a.createElement("span",{className:"key"},"产品名称："),L),o.a.createElement("span",{className:"keyvalue"},o.a.createElement("span",{className:"key"},"所属分类："),S),o.a.createElement("span",{className:"keyvalue"},o.a.createElement("span",{className:"key"},"在线状态："),U?"在线":"离线"))),o.a.createElement("div",null,o.a.createElement(i.a,{defaultActiveKey:"1",tabBarStyle:{background:"#fff",padding:"0 24px"},onChange:function(t){return e.tabChangeHandle(t,N)}},u?o.a.createElement(st,{tab:"基本信息",key:"1"},o.a.createElement(g.a,{title:"设备信息"},o.a.createElement("div",{className:"device-info"},o.a.createElement(W,{title:"设备ID",label:I}),o.a.createElement(W,{title:"设备秘钥",label:D,type:"visible"}),o.a.createElement(W,{title:"物理地址",label:O}),o.a.createElement(W,{title:"入网时间",label:T&&f.a.utcToDev(T)}),o.a.createElement(W,{title:"模组固件版本",label:P}),o.a.createElement(W,{title:"MCU固件版本",label:R}),o.a.createElement(W,{title:"绑定网关",label:A}),o.a.createElement(W,{title:"设备昵称",label:M}),o.a.createElement(W,{title:"设备位置",label:F}),o.a.createElement(W,{title:"绑定C端账户",label:V}),o.a.createElement(W,{title:"SIM卡号",label:_}),o.a.createElement(W,{title:"IMEI",label:J}))),o.a.createElement(g.a,{title:"产品信息"},o.a.createElement("div",{className:"device-info"},o.a.createElement(W,{title:"产品名称",label:L}),o.a.createElement(W,{title:"产品ID",label:N}),o.a.createElement(W,{title:"所属分类",label:S}),o.a.createElement(W,{title:"产品类型",label:{0:"普通设备",1:"网关设备"}[C]||"--"}),o.a.createElement(W,{title:"产品编码",label:x}),o.a.createElement(W,{title:"产品秘钥",label:j,type:"visible"})))):null,o.a.createElement(st,{tab:"topic列表",key:"9"},o.a.createElement(oe.a,{productIdHex:x||"${YourProductKey}",type:1})),o.a.createElement(st,{tab:"设备影子",key:"2"},o.a.createElement(at,{deviceId:H})),d?o.a.createElement(st,{tab:"设备标签",key:"4"},o.a.createElement(g.a,{title:o.a.createElement(E.a,{label:"默认设备标签",tipPlacement:"right",tip:"设备标签是您给产品设备自定义的标识，标签的结构为：Key：value，您可以使用标签功能实现设备的分类统一管理。"})},o.a.createElement("div",{className:"section-bg tabdevice"},o.a.createElement("table",{className:"labeltable"},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",{style:{width:"38%"}},"标签Key"),o.a.createElement("th",{style:{width:"62%"}},"标签Value"),o.a.createElement("th",{style:{width:"24%"}}))),o.a.createElement("tbody",null,q.length?q.map((function(e,t){return o.a.createElement("tr",{key:t},o.a.createElement("td",null,e.labelKey),o.a.createElement("td",null,e.labelValue))})):null)))),o.a.createElement(g.a,{title:o.a.createElement(E.a,{label:"自定义设备标签",tipPlacement:"right",tip:"设备标签是您给产品设备自定义的标识，标签的结构为：Key：value，您可以使用标签功能实现设备的分类统一管理。"})},o.a.createElement("div",{className:"section-bg tabdevice"},o.a.createElement("table",{className:"labeltable"},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",{style:{width:"38%"}},"标签Key"),o.a.createElement("th",{style:{width:"38%"}},"标签Value"),o.a.createElement("th",{style:{width:"24%"}},"管理"))),o.a.createElement("tbody",null,z,o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement(l.a,{value:r,dataSource:this.getDataSource(),style:{width:"80%"},onChange:this.onChangeInput.bind(this,"addkey"),placeholder:"Key",maxLength:"100",filterOption:!0})),o.a.createElement("td",null,o.a.createElement(l.a,{value:c,dataSource:this.getDataSource(r),style:{width:"80%"},onChange:this.onChangeInput.bind(this,"addval"),placeholder:"Value",maxLength:"100",filterOption:!0})),o.a.createElement("td",null,o.a.createElement("a",{href:"javascript:",onClick:this.addConfirm.bind(this)},"确认"))))),o.a.createElement("footer",{className:"list-pagination"},k&&k.totalRows>0?o.a.createElement(n.a,{className:"self-pa",total:k.totalRows,current:s,defaultCurrent:1,defaultPageSize:10,onChange:function(t){return e.changePage(t)},showTotal:function(e){return o.a.createElement("span",null,"共 ",o.a.createElement("a",null,e)," 条")},showQuickJumper:!0,hideOnSinglePage:!0}):null)))):null,o.a.createElement(st,{tab:"远程配置",key:"3"},o.a.createElement(ce,{remoteType:"device",productId:N,deviceId:this.props.match.params.deviceid,deviceUniqueId:I,macAddress:B,protocolLists:Q})))),o.a.createElement(b.a,{visible:!!m,modalOKHandle:this.deleteOkHandle.bind(this),modalCancelHandle:this.closeDelLabelMod.bind(this),targetName:"key: ".concat(y,", value: ").concat(w),confirmLoading:p,title:"删除标签",needWarnIcon:!0,descText:"即将删除的标签"}))}}])&&rt(t.prototype,a),c&&rt(t,c),u}(c.PureComponent))||Ye},"1Ngb":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAQCAYAAABk1z2tAAACPUlEQVRIS82VT2jTYBiH3/dLUoWtFWQoCLvpabCLPXgYQpqWgraLgnzQPw48efK+3Qq7yDztuOO2roiHtUE2GdnIQUZl21kUFGVYNlemuFnN0jafdCyrDU2TeLG55vckD1/y/l6EPr9Q0zS+Wq0SSqnhx/WFpg3WazUhk0h898MVXmpDPJgXaFKqeOGwoLwaJSTANwxyEGhW9yilTS/gYmn9KSALcQgbJ0F+5ZEo6l64pZK6CwBXGeJsEC5Oy/LYcS8Ol4prN62AyVhjIMR/uS9J3xCR9QIXFXXu/D7CEYe4nEpIb9y4fEltPxdxnwBMpsalBSeuQ9B6IcfIL2PA3J2Ix2tOkh2CZyEE/Gxi8/nEePyTE9ch2Oa2gMMnmaS0Zee6ClohAoHDG8PBSjgcrtvBboLnHLKyoGOR0tgPO9dNsJU5PUEG84LATdG74r7F9RRshQghJscbe2+3tw9yuZxpgb0ET1/I4MQEWBm+xG+IotiwOCfB9u+CxwTYNH/92iwdGTFcBS1QIMJPKkfeexX86+Q+PJRjzzwLtk1fZ+9Fb3sWxCbU0g/i7/wKIuDHrByd8SuICJsZOTbmKtjXn/jfh4SUBd30PSQMYCHAc5OuQ9K3NdMqak6oV1KJxKFb4dqLGkxSzMqRshtnL2pEnEonI/OORV1Q1kcJQd+rLq+oMwxg0PeqU9QKMBjyvOrmdnaE1oQ97lLGvVZdfnU1BHAZsnduHXnZwVZmeW3ziq7/xrQc/eqFQy+h/5n5A/v0OCDUiLvVAAAAAElFTkSuQmCC"},"75Mp":function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));a("mbEz");var n=a("wCAj"),r=a("q1tI"),l=a.n(r),i=a("cu44"),c=[{title:"Topic",dataIndex:"topic",key:"topic"},{title:"描述",dataIndex:"desc",key:"desc"}];function o(e){var t=e.productIdHex,a=void 0===t?"":t,r=(e.type,[{fn:"属性",topic:"/sys/".concat(a,"/thing/event/property/post"),desc:"设备属性上报"},{fn:"事件info",topic:"/sys/".concat(a,"/device/thing/event/info/post"),desc:"设备信息通知"},{fn:"事件error",topic:"/sys/".concat(a,"/device/thing/event/error/post"),desc:"设备故障上报"},{fn:"事件alert",topic:"/sys/".concat(a,"/device/thing/event/alert/post"),desc:"设备告警"}]);return l.a.createElement(i.a,{title:"topic列表"},l.a.createElement("div",{style:{padding:"12px"}},l.a.createElement(n.a,{columns:c,dataSource:r,key:"topic",pagination:!1})))}},AXa2:function(e,t,a){},Z5Qr:function(e,t,a){}}]);
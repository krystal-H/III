(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"17x9":function(e,t,n){e.exports=n("WUjv")(13)},"64SR":function(e,t,n){},"7DmY":function(e,t,n){},"8FWg":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return ht}));n("pNMO"),n("4Brf"),n("07d7"),n("0oug"),n("4mDm"),n("PKPk"),n("3bBZ"),n("+2oP"),n("sMBO"),n("pjDv"),n("AUBz");var r=n("ZTPi"),a=(n("rB9j"),n("Rm1S"),n("ma9I"),n("k3Gp"),n("kLXV")),c=(n("1vPl"),n("5rEg")),o=(n("qNb/"),n("PArb")),i=(n("tULf"),n("Vl3Y")),l=(n("5s+n"),n("q1tI")),u=n.n(l),s=n("Nlzp"),d=n("S18n"),m=(n("rwTb"),n("P2RN")),f=n("DgvE"),p=n("9BLJ"),b=n("fHMl"),y=(n("tkto"),n("TeQF"),n("5DmW"),n("FZtP"),n("27RR"),n("L/Qf"),n("2/Rp")),v=(n("mbEz"),n("wCAj")),g=(n("Y2jk"),n("zeV3")),h=(n("O+5t"),n("wFql")),O=(n("2B1R"),n("ls82"),n("55Ip")),j=n("FC04"),I=(n("Rw2J"),["editing","dataIndex","title","inputType","record","index","children"]);function E(e,t,n,r,a,c,o){try{var i=e[c](o),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,a)}function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){x(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function N(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,c=[],o=!0,i=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(c.push(r.value),!t||c.length!==t);o=!0);}catch(e){i=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(i)throw a}}return c}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function k(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var A=function(e){var t=e.editing,n=e.dataIndex,r=(e.title,e.inputType,e.record,e.index,e.children),a=k(e,I);return u.a.createElement("td",a,t?u.a.createElement(i.a.Item,{name:n,style:{margin:0,style:"100%"},rules:[{required:!0,message:"请输入IP地址"}]},u.a.createElement(c.a,null)):r)};function C(e){var t=e.projectId,n=N(i.a.useForm(),1)[0],r=N(Object(l.useState)([]),2),a=r[0],c=r[1],o=N(Object(l.useState)({}),2),d=o[0],f=o[1],p=N(Object(l.useState)(""),2),b=p[0],O=p[1],I=function(e){return e.whiteListId===b},w=N(Object(l.useState)(!1),2),x=w[0],P=w[1];Object(l.useEffect)((function(){F()}),[]);var k=function(e){n.setFieldsValue(S({value:""},e)),O(e.whiteListId)},C=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];Object(s.c)(s.a.projectWhiteSave,e,{loading:t}).then((function(e){Object(m.a)({type:"success",description:"新增成功！"}),O(""),F()})).catch((function(e){O(""),F()}))},D=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];Object(s.c)(s.a.projectWhiteSave,e,{loading:t}).then((function(e){Object(m.a)({type:"success",description:"保存成功！"}),O(""),F()})).catch((function(e){O(""),F()}))},R=function(){var e,r=(e=regeneratorRuntime.mark((function e(r){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.validateFields();case 3:(a=e.sent).projectId=t,r.whiteListId?(a.whiteListId=r.whiteListId,D(a)):C(a),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("Validate Failed:",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var c=e.apply(t,n);function o(e){E(c,r,a,o,i,"next",e)}function i(e){E(c,r,a,o,i,"throw",e)}o(void 0)}))});return function(e){return r.apply(this,arguments)}}(),T=[{title:"IP地址",dataIndex:"value",width:300,editable:!0},{title:"操作",dataIndex:"operation",render:function(e,t){return I(t)?u.a.createElement("span",null,u.a.createElement("a",{onClick:function(){return R(t)},style:{marginRight:8}},"保存")):u.a.createElement(g.b,null,u.a.createElement(h.a.Link,{disabled:""!==b,onClick:function(){return k(t)}},"编辑"),u.a.createElement(h.a.Link,{disabled:""!==b,onClick:function(){!function(e){f(e),P(!0)}(t)}},"删除"))}}].map((function(e){return e.editable?S(S({},e),{},{onCell:function(t){return{record:t,inputType:"text",dataIndex:e.dataIndex,title:e.title,editing:I(t)}}}):e})),F=function(){Object(s.c)(s.a.projectWhiteList,{projectId:t}).then((function(e){c(e.data)}))};return u.a.createElement("div",null,u.a.createElement(i.a,{form:n,component:!1},u.a.createElement(v.a,{components:{body:{cell:A}},dataSource:a,columns:T,rowClassName:"editable-row",rowKey:"whiteListId",pagination:!1})),u.a.createElement(y.a,{type:"primary",ghost:!0,className:"edit-table-btn",onClick:function(){!function(){var e=!1;if(b&&(e=!0),a.map((function(t){t.whiteListId||(e=!0)})),!e){var t=JSON.parse(JSON.stringify(a)),n={key:"".concat(t.length+1),value:"",whiteListId:0};t.push(n),c(t),k(n)}}()}},"新增IP"),x&&u.a.createElement(j.a,{visible:x,modalOKHandle:function(){Object(s.c)(s.a.projectWhiteDel,{whiteListId:d.whiteListId}).then((function(e){Object(m.a)({type:"success",description:"删除成功！"}),P(!1),F()}))},modalCancelHandle:function(){P(!1)},targetName:d.value,title:"删除",descGray:!0,needWarnIcon:!0,descText:"确定删除此IP"}))}function D(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,c=[],o=!0,i=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(c.push(r.value),!t||c.length!==t);o=!0);}catch(e){i=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(i)throw a}}return c}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return R(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function T(e){var t=e.baseInfo,n=e.projectId,r=D(i.a.useForm(),1)[0],y=D(Object(l.useState)(!1),2),v=y[0],g=y[1],h=D(Object(l.useState)(!1),2),O=h[0],j=h[1],I=function(e){return Object(f.d)(e)};return u.a.createElement("div",{id:"project-detail-info"},u.a.createElement("div",{className:"wrap-item"},u.a.createElement("div",{className:"item-title"},u.a.createElement("span",null,"项目账号")),u.a.createElement("div",{className:"item-content"},u.a.createElement("div",{className:"item"},u.a.createElement("div",{className:"label"},"账号名称："),u.a.createElement("div",{className:"name"},u.a.createElement("span",null,t.accountInitName),t.accountInitName&&u.a.createElement("a",{className:"copy",onClick:function(){I(t.accountInitName)}},"复制"))),u.a.createElement("div",{className:"item"},u.a.createElement("div",{className:"label"},"初始密码："),u.a.createElement("div",{className:"name"},u.a.createElement("span",{style:{marginRight:"5px"}},O?t.accountInitPassword:"*********"),O?u.a.createElement(p.a,{style:{color:"#2F78FF"},onClick:function(){return j(!O)}}):u.a.createElement(b.a,{style:{color:"#2F78FF"},onClick:function(){return j(!O)}}),u.a.createElement("a",{className:"copy",onClick:function(){I(t.accountInitPassword)}},"复制")))),u.a.createElement("div",{className:"item-content"},u.a.createElement("div",{className:"item"},u.a.createElement("div",{className:"label"},"账号 ID："),u.a.createElement("div",{className:"name"},u.a.createElement("span",null,t.accountId))),u.a.createElement("div",{className:"item"},u.a.createElement("div",{className:"label"},u.a.createElement("a",{onClick:function(){Object(s.c)(s.a.projectSavePS,{accountId:t.accountId},{loading:!0}).then((function(e){Object(m.a)({type:"success",description:"重置成功！"})}))}},"重置密码"))))),u.a.createElement(o.a,null),u.a.createElement("div",{className:"wrap-item"},u.a.createElement("div",{className:"item-title"},u.a.createElement("span",null,"授权密钥")),u.a.createElement("div",{className:"item-content"},u.a.createElement("div",{className:"item"},u.a.createElement("div",{className:"label"},"项目secretId："),u.a.createElement("div",{className:"name"},t.secretId))),u.a.createElement("div",{className:"item-content"},u.a.createElement("div",{className:"item"},u.a.createElement("div",{className:"label"},"项目SecretKey："),t.secretKey&&u.a.createElement("div",{className:"name"},u.a.createElement(d.a,{label:t.secretKey,tip:"点击复制",copy:!0}))))),u.a.createElement(o.a,null),u.a.createElement("div",{className:"wrap-item"},u.a.createElement("div",{className:"item-title"},u.a.createElement("span",null,"项目地址")),u.a.createElement("div",{className:"item-content"},u.a.createElement("div",{className:"item"},u.a.createElement("div",{className:"label"},"项目类型："),u.a.createElement("div",{className:"name"},1==t.isPrivateCloud?"私有云":0==t.isPrivateCloud?"公有云":""))),u.a.createElement("div",{className:"item-content"},u.a.createElement("div",{className:"item"},u.a.createElement("div",{className:"label"},"项目地址："),u.a.createElement("div",{className:"name"},t.brokerUrl)))),u.a.createElement(o.a,null),u.a.createElement("div",{className:"wrap-item"},u.a.createElement("div",{className:"item-title"},u.a.createElement("span",null,"IP白名单")),u.a.createElement("div",null,u.a.createElement(C,{projectId:n}))),v&&u.a.createElement(a.a,{title:"设置密码",visible:v,onOk:function(){r.validateFields().then((function(e){var n={accountId:t.accountId,password:e.password,oldPassword:e.oldPass};Object(s.c)(s.a.projectSavePS,n,{loading:!0}).then((function(e){Object(m.a)({type:"success",description:"修改成功！"}),g(!1)}))}))},onCancel:function(){g(!1)}},u.a.createElement(i.a,{form:r},u.a.createElement(i.a.Item,{label:"输入旧密码",name:"oldPass",rules:[{required:!0,validator:function(e,n){return n?n==t.accountInitPassword?Promise.resolve():Promise.reject("原始密码有误"):Promise.reject("请输入旧密码")}}]},u.a.createElement(c.a,null)),u.a.createElement(i.a.Item,{label:"输入新密码",name:"password",rules:[{required:!0,validator:function(e,t){return t&&6===t.length?Promise.resolve():Promise.reject("请输入6位数新密码")}}]},u.a.createElement(c.a,null)),u.a.createElement(i.a.Item,{label:"确定新密码",name:"conFirmPs",rules:[{required:!0,validator:function(e,t){return t?t==r.getFieldValue("password")?Promise.resolve():Promise.reject("密码不一致"):Promise.reject("请再次输入新密码")}}]},u.a.createElement(c.a,null)))))}n("p532"),n("NBAS"),n("SuFq"),n("zKZe");function F(){return(F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){U(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,c=[],o=!0,i=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(c.push(r.value),!t||c.length!==t);o=!0);}catch(e){i=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(i)throw a}}return c}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return K(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return K(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var V=c.a.TextArea,z=i.a.Item,H={labelCol:{span:4},wrapperCol:{span:20}};var J=function(e){var t=e.visible,n=e.switchOpen,r=e.pagerIndex,o=e.projectId,l=M(i.a.useForm(),1)[0],d=function(){n(!1),l.resetFields()};return u.a.createElement(a.a,{title:"新增分组",visible:t,width:600,onOk:l.submit,onCancel:d,maskClosable:!1,className:"self-modal"},u.a.createElement(i.a,F({form:l},H,{onFinish:function(e){Object(s.c)(s.a.updateGroup,q(q({},e),{},{projectId:o})).then((function(e){Object(m.a)({type:"success",description:"新增成功！"}),d(),r(1)}))}}),u.a.createElement(z,{label:"分组名称",name:"groupName",rules:[{required:!0,message:"请输入分组名称"},{max:30,message:"最大输入长度为30"}]},u.a.createElement(c.a,{placeholder:"请输入分组名称"})),u.a.createElement(z,{label:"分组描述",name:"groupDesc",rules:[{max:50,message:"最大输入长度为50"}]},u.a.createElement(V,{placeholder:"分组描述",showCount:!0,maxLength:50,rows:4}))))};n("pDQq"),n("pwq9");function B(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,c=[],o=!0,i=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(c.push(r.value),!t||c.length!==t);o=!0);}catch(e){i=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(i)throw a}}return c}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return G(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return G(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var $=[{title:"设备ID",dataIndex:"deviceUniqueId"},{title:"所属产品",dataIndex:"productName"},{title:"状态",dataIndex:"onlineStatus",width:"65px",render:function(e){return u.a.createElement("span",null,{1:"在线",2:"离线"}[e])}},{title:"绑定时间",dataIndex:"bindTime",width:"180px",render:function(e){return u.a.createElement("span",null,e&&f.a.utcToDev(e)||"--")}}],W=function(e,t){var n=e.userId,r=Object(l.useRef)(void 0),a=B(Object(l.useState)([]),2),o=a[0],i=a[1],d=B(Object(l.useState)(!1),2),m=d[0],f=d[1],p=B(Object(l.useState)({list:[],pager:{}}),2),b=p[0],y=p[1],g=b.list,h=(b.pager,B(Object(l.useState)(1),2)),O=h[0],j=h[1];Object(l.useEffect)((function(){I()}),[]);var I=function(e){e?j(e):(e=1,f(!0),Object(s.c)(s.a.getGroupSlctDev,{userId:n,deviceUniqueIdParams:r.current,pageIndex:e,pageRows:9999}).then((function(t){var n=t.data||{},r=n.list,a=n.pager;y({list:r,pager:a}),j(e)})).finally((function(){f(!1)})))};return Object(l.useImperativeHandle)(t,(function(){return{selectedRowKeys:o}}),[o]),u.a.createElement("div",null,u.a.createElement(c.a.Search,{maxLength:30,placeholder:"请输入设备ID查询",className:"search-inpt",onSearch:function(e){r.current=e,I()}}),u.a.createElement("div",{className:"list-content"},u.a.createElement(v.a,{rowKey:"deviceId",columns:$,dataSource:g,rowSelection:{selectedRowKeys:o,onChange:i},loading:m,pagination:{defaultCurrent:1,total:g.length,pageSize:8,onChange:I,current:O,showSizeChanger:!1,hideOnSinglePage:!0}})))},Q=Object(l.memo)(Object(l.forwardRef)(W)),_=(n("8QGh"),n("2fM7"));n("x0AG");function Y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,c=[],o=!0,i=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(c.push(r.value),!t||c.length!==t);o=!0);}catch(e){i=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(i)throw a}}return c}(e,t)||Z(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(e,t){if(e){if("string"==typeof e)return X(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?X(e,t):void 0}}function X(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ee=function(e){var t=e.productList,n=e.changedfunc,r=e.searchedFunc,a=e.children,o=Y(Object(l.useState)([-1]),2);o[0],o[1];return u.a.createElement("div",{className:"search-box"},u.a.createElement(c.a.Group,{compact:!0,style:{display:"inline-block"}},u.a.createElement(_.a,{showSearch:!0,optionFilterProp:"children",defaultValue:[-1],onChange:n,style:{width:200}},u.a.createElement(_.a.Option,{value:-1},"全部产品"),t.map((function(e,t){return u.a.createElement(_.a.Option,{key:t,value:e.productId},e.productName)}))),u.a.createElement(c.a.Search,{maxLength:30,placeholder:"请输入设备ID查询",onSearch:r,style:{width:250}})),a)};function te(e){return function(e){if(Array.isArray(e))return ie(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||oe(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(n),!0).forEach((function(t){ae(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ae(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ce(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,c=[],o=!0,i=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(c.push(r.value),!t||c.length!==t);o=!0);}catch(e){i=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(i)throw a}}return c}(e,t)||oe(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oe(e,t){if(e){if("string"==typeof e)return ie(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ie(e,t):void 0}}function ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var le=function(e){var t=e.viewDetailId,n=e.userId,r=e.closeVisiable,c=Object(l.useRef)({groupId:t,userId:n,productId:void 0,deviceUniqueIdParams:void 0,pageIndex:1,pageRows:8}),o=Object(l.useRef)(),i=ce(Object(l.useState)([]),2),d=i[0],p=i[1],b=ce(Object(l.useState)({list:[],pager:{}}),2),g=b[0],h=b[1],O=ce(Object(l.useState)(!1),2),I=O[0],E=O[1],w=ce(Object(l.useState)([]),2),S=w[0],x=w[1],N=ce(Object(l.useState)([]),2),P=N[0],k=N[1],A=P.length,C=[{title:"设备ID",dataIndex:"deviceUniqueId"},{title:"所属产品",dataIndex:"productName"},{title:"绑定来源",dataIndex:"bindSource"},{title:"绑定时间",dataIndex:"bindTime",width:"180px",render:function(e){return u.a.createElement("span",null,e&&f.a.utcToDev(e)||"--")}},{title:"状态",dataIndex:"onlineStatus",width:"65px",render:function(e){return u.a.createElement("span",null,{1:"在线",2:"离线"}[e])}},{title:"操作",key:"action",width:"126px",render:function(e,t){var n=t.deviceId;return u.a.createElement("a",{onClick:function(){x([n])}},"从分组中删除")}}];Object(l.useEffect)((function(){D(),R()}),[]);var D=function(){Object(s.b)(s.a.getProductType).then((function(e){p(e.data||[])}))},R=function(){var e=re({},c.current);-1==e.productId&&delete e.productId,Object(s.c)(s.a.getGroupDeviceList,e,{loading:!0}).then((function(e){var t=e.data||{},n=t.list,r=void 0===n?[]:n,a=t.pager;h({list:r,pager:void 0===a?{}:a})}))},T=function(e,t){var n=re({},c.current);n[e]=t||void 0,c.current=n};return u.a.createElement(a.a,{title:"分组详情",width:900,maskClosable:!1,className:"self-modal",footer:null,visible:!0,onCancel:function(){return r(void 0)}},u.a.createElement("div",{className:"page-groupdetail"},u.a.createElement(ee,{productList:d,changedfunc:function(e){T("productId",e)},searchedFunc:function(e){T("deviceUniqueIdParams",e),R()}},u.a.createElement(y.a,{className:"but-add",type:"primary",onClick:function(){return E(!0)}},"新增设备到分组")),u.a.createElement("div",null,u.a.createElement("span",{className:"tabledel"},"已选择 ",A," 项"),u.a.createElement("a",{onClick:function(){x(te(P))},disabled:!A,className:"".concat(A?"":"a_notcur")},"删除"),u.a.createElement(v.a,{rowKey:"deviceId",columns:C,dataSource:g.list,rowSelection:{selectedRowKeys:P,onChange:k},pagination:{defaultCurrent:1,total:g.pager.totalRows||0,hideOnSinglePage:!0,pageSize:g.pager.pageRows||0,onChange:function(e){T("pageIndex",e),R()},current:g.pager.pageIndex||1}}))),I&&u.a.createElement(a.a,{title:"添加项目下的设备到分组",width:700,maskClosable:!1,className:"self-modal groupadd-device-modal",visible:!0,onCancel:function(){return E(!1)},onOk:function(){var e=o.current.selectedRowKeys;e.length>0&&Object(s.c)(s.a.addGroupDevice,{groupId:t,deviceIds:e}).then((function(e){E(!1),R()}))}},u.a.createElement(Q,{userId:n,ref:o})),u.a.createElement(j.a,{visible:S.length>0,modalOKHandle:function(){Object(s.c)(s.a.delGroupDevice,{groupId:t,deviceIds:S}).then((function(e){if(Object(m.a)({message:"操作成功！",type:"success"}),R(),x([]),1==S.length){var t=P.indexOf(S[0]);t>-1&&k((function(e){var n=te(e);return n.splice(t,1),n}))}}))},modalCancelHandle:function(){return x([])},title:"从分组中删除",descText:"确定要删除选中的设备？"}))};function ue(e){return(ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function de(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?se(Object(n),!0).forEach((function(t){me(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function me(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pe(e,t){return(pe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function be(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ve(e);if(t){var a=ve(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ye(this,n)}}function ye(e,t){if(t&&("object"===ue(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ve(e){return(ve=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ge=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pe(e,t)}(i,e);var t,n,r,a=be(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=a.call(this,e)).openDetail=function(e){t.setState({viewDetailId:e})},t.getList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.state,r=n.pageIndex,a=n.searchName;Object(s.c)(s.a.getGroupList,de({pageIndex:r,pageRows:10,groupName:a||void 0,projectId:t.projectId},e)).then((function(e){t.setState({caseList:e.data.list||[],pager:e.data.pager||{}})})).finally((function(){t.setState({loading:!1})}))},t.switchOpen=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];t.setState({addVisible:e})},t.openDel=function(e,n){t.setState({id:e,name:n})},t.delOkCancel=function(e){if("ok"==e){var n=t.state.id;Object(s.c)(s.a.deleteGroup,{groupId:n}).then((function(e){t.setState({loading:!0,id:""},(function(){t.getList()}))}))}else t.setState({id:""})},t.searchGroup=function(e){t.setState({loading:!0,searchName:e},(function(){t.pagerIndex(1)}))},t.pagerIndex=function(e){t.setState({pageIndex:e,loading:!0},(function(){t.getList()}))},t.projectId=t.props.projectId,t.state={loading:!0,caseList:[],pager:{},searchName:void 0,name:"",id:"",addVisible:!1,pageIndex:1,viewDetailId:void 0},t.columns=[{title:"分组名称",dataIndex:"groupName",ellipsis:!0},{title:"分组ID",dataIndex:"groupId",width:"100px"},{title:"描述",dataIndex:"groupDesc",ellipsis:!0},{title:"添加时间",dataIndex:"createTime",width:"180px",render:function(e){return u.a.createElement("span",null,e&&f.a.utcToDev(e)||"--")}},{title:"操作",key:"action",width:"120px",render:function(e,n){var r=n.groupId,a=n.groupName;return u.a.createElement("span",null,u.a.createElement("a",{onClick:function(){t.openDetail(r)}},"查看"),u.a.createElement(o.a,{type:"vertical"}),u.a.createElement("a",{onClick:function(){t.openDel(r,a)}},"删除"))}}],t}return t=i,(n=[{key:"componentDidMount",value:function(){this.getList()}},{key:"render",value:function(){var e=this,t=this.state,n=t.loading,r=t.addVisible,a=t.caseList,o=t.pager,i=o.pageIndex,l=void 0===i?1:i,s=o.totalRows,d=void 0===s?0:s,m=o.totalPages,f=void 0===m?0:m,p=t.id,b=t.name,g=t.viewDetailId;return u.a.createElement("div",{className:"page-devicegroup"},u.a.createElement("div",{className:"searchbox"},u.a.createElement("div",{className:"comm-searchBox"},u.a.createElement(c.a.Search,{placeholder:"请输入分组名查找",maxLength:20,onSearch:function(t){return e.searchGroup(t)}})),u.a.createElement(y.a,{className:"btn",type:"primary",onClick:this.switchOpen},"新增分组")),u.a.createElement("div",{className:"tablebox"},u.a.createElement(v.a,{rowKey:"groupId",columns:this.columns,dataSource:a,pagination:{defaultCurrent:l,total:d,onChange:this.pagerIndex,current:l,showSizeChanger:!1,showQuickJumper:f>5,hideOnSinglePage:!0},loading:n})),u.a.createElement(J,{visible:r,switchOpen:this.switchOpen,pagerIndex:this.pagerIndex,projectId:this.projectId}),u.a.createElement(j.a,{visible:!!p,modalOKHandle:this.delOkCancel.bind(this,"ok"),modalCancelHandle:this.delOkCancel.bind(this,"cancel"),title:"删除分组",descText:"即将删除分组",targetName:b}),g&&u.a.createElement(le,{viewDetailId:g,userId:this.props.userId,closeVisiable:this.openDetail}))}}])&&fe(t.prototype,n),r&&fe(t,r),i}(l.Component),he=(n("7W5+"),n("8z0m")),Oe=(n("8/o9"),n("tsqr")),je=(n("EnZy"),n("oVuX"),n("rVDo"),n("z7Xi")),Ie=["设备ID的长度超过限制","物理地址的长度超限制","设备ID发生重复","物理地址发生重复","设备ID不存在或未联网","物理地址不存在或未联网"];var Ee=function(e){var t=e.visible,n=e.errorList,r=e.onCancel,c=[{title:"物理地址",dataIndex:"physicalAddress",key:"physicalAddress"},{title:"设备ID",dataIndex:"deviceUniqueId",key:"deviceUniqueId"},{title:"错误原因",dataIndex:"errorType",width:200,key:"errorType",render:function(e,t){var n=t.errorType;return u.a.createElement("span",null,Ie[n-1])}}];return u.a.createElement(a.a,{visible:t,width:600,className:"romote-modal",title:"设备导入错误日志",centered:!0,closable:!0,onOk:null,onCancel:r,destroyOnClose:!0,footer:null},u.a.createElement("div",{style:{paddingBottom:"20px"}},u.a.createElement(v.a,{columns:c,dataSource:n||[],rowKey:"deviceUniqueId",pagination:{total:n.length,defaultCurrent:1,defaultPageSize:5,showQuickJumper:!1,hideOnSinglePage:!0,size:"small",showTotal:function(e){return u.a.createElement("span",null,"共 ",u.a.createElement("a",null,e)," 条")}}})))};n("vK3N");function we(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,c=[],o=!0,i=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(c.push(r.value),!t||c.length!==t);o=!0);}catch(e){i=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(i)throw a}}return c}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Se(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Se(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Se(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xe(e){var t=e.isModalVisible,n=e.colseMoadl,r=e.cancelModel,o=e.projectId,d=we(i.a.useForm(),1)[0],p=we(Object(l.useState)([]),2),b=p[0],v=p[1],g=we(Object(l.useState)([]),2),h=g[0],O=g[1],j=we(Object(l.useState)(!1),2),I=j[0],E=j[1],w=we(Object(l.useState)(!1),2),S=w[0],x=w[1],N=we(Object(l.useState)([]),2),P=N[0],k=N[1];return u.a.createElement("div",null,u.a.createElement(a.a,{title:"导入设备",visible:t,onOk:function(){d.validateFields().then((function(e){h.every((function(e){if(!e.errorType)return!0}));if(S)Object(m.a)({type:"warn",description:"请导入正确的文件"});else{var t={projectBatch:{batchName:e.name,projectId:o},projectBatchDetailList:P};Object(s.c)(s.a.projectSaveFile,t,{loading:!0}).then((function(e){Object(m.a)({description:"操作成功！",type:"success"}),n()}))}})).catch((function(e){}))},onCancel:r,width:"650px",wrapClassName:"add-protocols-wrap"},u.a.createElement("div",{style:{padding:"0 80px"},className:"project-import-file-wrap"},u.a.createElement(i.a,{form:d,labelAlign:"right",labelCol:{span:6},wrapperCol:{span:18}},u.a.createElement(i.a.Item,{name:"name",label:"批次名称",rules:[{required:!0}]},u.a.createElement(c.a,{placeholder:"默认批次名称为导入时间+导入字样后缀",maxLength:50})),u.a.createElement(i.a.Item,{label:"上传文件",className:"file-form-item",extra:"支持xls、xlsx格式"},u.a.createElement(i.a.Item,{noStyle:!0,rules:[{required:!0,message:"请上传文件"}],name:"upload",getValueFromEvent:function(e){return Array.isArray(e)?e:((-1==["xls","xlsx"].indexOf(e.file.name.split(".").slice(-1)[0])||e.fileList.length>1)&&e.fileList.pop(),e&&e.fileList)}},u.a.createElement(he.a,{customRequest:function(e){Object(s.c)(s.a.projectImportFile,{uploadExcel:e.file},{loading:!0,needFormData:!0},{timeout:3e4}).then((function(t){console.log(d.getFieldsValue()),v((function(t){return[{name:e.file.name,url:""}]}));var n=t.data.every((function(e){if(!e.errorType)return!0}));x(!n),O((function(e){return t.data.filter((function(e){if(e.errorType)return e}))})),k(t.data);var r=f.a.pekingToStr(new Date)+"导入";d.setFieldsValue({name:r})}))},showUploadList:!1,accept:".xls,.xlsx",fileList:b,beforeUpload:function(e,t){return function(e,t,n){return new Promise((function(t,r){return n.indexOf(e.name.split(".").slice(-1)[0])>-1?t(!0):(Oe.b.error("只能上传".concat(n.join(","),"格式")),r(!1))}))}(e,0,["xls","xlsx"])}},u.a.createElement(y.a,{type:"primary",icon:u.a.createElement(je.a,null)},b.length?"重新上传":"上传附件"))),u.a.createElement("a",{className:"down-model",onClick:function(){window.open("https://skintest.hetyj.com/b325662c4122f1b8948fe07c9d782ecb.xlsx")},style:{marginLeft:"20px"}},"下载模板")),u.a.createElement("div",{className:"project-import-file-list"},b.map((function(e,t){return u.a.createElement("div",{key:t},u.a.createElement("span",{className:"name"},e.name),S&&u.a.createElement("span",{className:"tip",onClick:function(){E(!0)}},"错误日志"))})))))),I&&u.a.createElement(Ee,{errorList:h,visible:I,onCancel:function(){E(!1)}}))}var Ne=n("BkRI"),Pe=n.n(Ne);function ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ke(Object(n),!0).forEach((function(t){Ce(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ke(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ce(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function De(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,c=[],o=!0,i=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(c.push(r.value),!t||c.length!==t);o=!0);}catch(e){i=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(i)throw a}}return c}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Re(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Re(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Re(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Te=c.a.Search;function Fe(e,t){var n=e.baseInfo,r=e.projectId,a=De(i.a.useForm(),1)[0],d=De(Object(l.useState)(!1),2),p=d[0],b=d[1],y=De(Object(l.useState)("singer"),2),g=y[0],h=y[1],O=De(Object(l.useState)([]),2),I=O[0],E=O[1],w=De(Object(l.useState)({}),2),S=w[0],x=w[1],N=De(Object(l.useState)({pageIndex:1,totalRows:0,pageRows:10}),2),P=N[0],k=N[1],A=De(Object(l.useState)([]),2),C=A[0],D=A[1],R=De(Object(l.useState)(!1),2),T=R[0],F=R[1],L=[{title:"设备ID",dataIndex:"deviceUniqueId",key:"deviceUniqueId"},{title:"所属产品",dataIndex:"productName",key:"productName"},{title:"绑定来源",dataIndex:"bindSource",key:"bindSource"},{title:"绑定时间",dataIndex:"bindTime",key:"bindTime",render:function(e){return e&&f.a.utcToDev(e)}},{title:"状态",dataIndex:"onlineStatus",key:"onlineStatus",render:function(e){return 1==e?"在线":"离线"}},{title:"所属分组",dataIndex:"groupName",key:"groupName"},{title:"操作",dataIndex:"",key:"",render:function(e,t){return u.a.createElement("span",null,1==t.bindType&&u.a.createElement(u.a.Fragment,null,u.a.createElement("a",{onClick:function(){U("singer",t)}},"移除绑定"),u.a.createElement(o.a,{type:"vertical"})),u.a.createElement("a",{onClick:function(){K(t)}},"编辑组"))}}];Object(l.useEffect)((function(){n.accountId&&q()}),[P.pageIndex,r,n.accountId]);var q=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=a.getFieldsValue(),c=Ae(Ae({},P),{},{projectId:r,userId:n.accountId},t);Object(s.c)(s.a.projectInfoDevlist,c,{loading:e}).then((function(e){D(e.data.list),E([]),k((function(t){var n=Pe()(t);return n.totalRows=e.data.pager.totalRows,n}))}))},U=function(e,t){if(h(e),"singer"==e)x(t);else if(!I.length)return void Object(m.a)({type:"warn",description:"请先勾选要删除的设备"});b(!0)},M={onChange:function(e,t){E(e)},onSelect:function(e,t,n){},selectedRowKeys:I},K=function(e){x(e),F(!0)};return Object(l.useImperativeHandle)(t,(function(){return{reFresh:q}}),[n.accountId]),u.a.createElement("div",null,u.a.createElement("div",{className:"device-info-wrap"},u.a.createElement("div",{className:"filter"},u.a.createElement(i.a,{form:a,layout:"inline"},u.a.createElement(i.a.Item,{name:"batchName",label:"批次名称"},u.a.createElement(c.a,{style:{width:"190px"},placeholder:"请输入批次名称"})),u.a.createElement(i.a.Item,{name:"groupName",label:"所属分组"},u.a.createElement(c.a,{style:{width:"190px"},placeholder:"请输入分组名称"})),u.a.createElement(i.a.Item,{label:"设备ID",name:"deviceUniqueIdParams"},u.a.createElement(Te,{onSearch:function(){1==P.pageIndex?q():k((function(e){var t=Pe()(e);return t.pageIndex=1,t}))},style:{width:"265px"},placeholder:"输入设备ID"})))),u.a.createElement("div",{className:"content"},u.a.createElement("div",{className:"action"},u.a.createElement("span",null,"已选择".concat(I.length,"项")),u.a.createElement(o.a,{type:"vertical",style:{borderColor:"#333"}}),u.a.createElement("a",{onClick:function(){U("many")}},"删除")),u.a.createElement(v.a,{dataSource:C,columns:L,rowKey:"deviceUniqueId",rowSelection:Ae({},M),pagination:{defaultCurrent:1,current:P.pageIndex,pageSize:P.pageRows,total:P.totalRows,showSizeChanger:!1,showQuickJumper:P.totalPages>5,onChange:function(e,t){k((function(n){return Object.assign(Pe()(n),{pageIndex:t===P.pageRows?e:1,pageRows:t})}))},showTotal:function(e){return u.a.createElement("span",null,"共 ",u.a.createElement("a",null,e)," 条")}}}))),p&&u.a.createElement(j.a,{visible:p,modalOKHandle:function(){if("singer"==g){var e={deviceUniqueId:S.deviceUniqueId,userId:n.accountId};Object(s.c)(s.a.projectRemoveDev,e,{loading:!0}).then((function(e){Object(m.a)({type:"success",description:"操作成功！"}),b(!1),q()}))}else{var t={deviceUniqueIds:I,projectId:r};Object(s.c)(s.a.projectDelDev,t,{loading:!0}).then((function(e){Object(m.a)({type:"success",description:"操作成功！"}),b(!1),q()}))}},modalCancelHandle:function(){return b(!1)},title:"singer"==g?"解除绑定":"删除",needWarnIcon:!0,tipText:"singer"==g?"确认解除绑定？":"确定批量删除？"}),T&&u.a.createElement(qe,{isModalVisible:T,cancelModel:function(){F(!1)},updateInfo:function(){F(!1),q()},actionData:S,projectId:r}))}var Le=Object(l.forwardRef)(Fe);function qe(e){var t=e.isModalVisible,n=e.cancelModel,r=e.updateInfo,c=e.actionData,o=e.projectId,d=De(i.a.useForm(),1)[0],f=De(Object(l.useState)([]),2),p=f[0],b=f[1];Object(l.useEffect)((function(){y()}),[]);var y=function(){Object(s.c)(s.a.projectGroupList,{projectId:o}).then((function(e){b(e.data)}))};return u.a.createElement("div",null,u.a.createElement(a.a,{title:"编辑组",visible:t,onOk:function(){d.validateFields().then((function(e){var t={deviceId:c.deviceId,groupId:e.groupId};Object(s.c)(s.a.projectupdateGroup,t).then((function(e){Object(m.a)({type:"success",description:"编辑成功！"}),r()}))}))},onCancel:n,width:"550px",wrapClassName:"add-protocols-wrap"},u.a.createElement("div",{style:{padding:"0 80px"},className:"project-import-file-wrap"},u.a.createElement(i.a,{form:d,labelAlign:"right",initialValues:{groupId:c.groupId},labelCol:{span:6},wrapperCol:{span:18}},u.a.createElement(i.a.Item,{label:"设备ID",rules:[{required:!0}]},u.a.createElement("span",null,c.deviceUniqueId)),u.a.createElement(i.a.Item,{label:"所属产品",rules:[{required:!0}]},u.a.createElement("span",null,c.productName)),u.a.createElement(i.a.Item,{label:"所属分组",name:"groupId",rules:[{required:!0}]},u.a.createElement(_.a,{style:{width:"200px"}},p.map((function(e){return u.a.createElement(_.a.Option,{value:e.groupId,key:e.groupId},e.groupName)}))))))))}n("SYor");function Ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ue(Object(n),!0).forEach((function(t){Ke(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ke(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ve(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,c=[],o=!0,i=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(c.push(r.value),!t||c.length!==t);o=!0);}catch(e){i=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(i)throw a}}return c}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ze(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ze(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ze(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var He=c.a.Search;function Je(e,t){e.baseInfo;var n=e.projectId,r=Ve(i.a.useForm(),1)[0],a=Ve(Object(l.useState)(!1),2),c=a[0],o=a[1],d=Ve(Object(l.useState)({}),2),m=d[0],p=d[1],b=Ve(Object(l.useState)(!1),2),y=b[0],g=b[1],h=Ve(Object(l.useState)({pageIndex:1,totalRows:0,pageRows:10}),2),O=h[0],I=h[1],E=Ve(Object(l.useState)([]),2),w=E[0],S=E[1],x=[{title:"批次名称",dataIndex:"batchName",key:"batchName"},{title:"创建时间",dataIndex:"createTime",key:"createTime",render:function(e){return e&&f.a.utcToDev(e)}},{title:"导入成功数量",dataIndex:"batchCount",key:"batchCount"},{title:"操作",dataIndex:"",key:"",render:function(e,t){return u.a.createElement("span",null,u.a.createElement("a",{onClick:function(){P(t)}},"查看详情"))}}];Object(l.useEffect)((function(){n&&N()}),[O.pageIndex,n]);var N=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=Me(Me({},O),{},{projectId:n});r.getFieldValue("batchName")&&r.getFieldValue("batchName").trim()&&(t.batchName=r.getFieldValue("batchName")),Object(s.c)(s.a.projectInfoBatchList,t,{loading:e}).then((function(e){S(e.data.list),I((function(t){var n=Pe()(t);return n.totalRows=e.data.pager.totalRows,n}))}))},P=function(e){p(e),g(!0)};return Object(l.useImperativeHandle)(t,(function(){return{reFresh:N}})),u.a.createElement("div",null,u.a.createElement("div",{className:"device-info-wrap"},u.a.createElement("div",{className:"filter"},u.a.createElement(i.a,{form:r,layout:"inline"},u.a.createElement(i.a.Item,{label:"批次名称",name:"batchName"},u.a.createElement(He,{onSearch:function(){1==O.pageIndex?N():I((function(e){var t=Pe()(e);return t.pageIndex=1,t}))},style:{width:"265px"},placeholder:"请输入批次名称"})))),u.a.createElement("div",{className:"content"},u.a.createElement(v.a,{dataSource:w,columns:x,rowKey:"batchId",pagination:{defaultCurrent:1,current:O.pageIndex,pageSize:O.pageRows,total:O.totalRows,showSizeChanger:!1,showQuickJumper:O.totalPages>5,onChange:function(e,t){I((function(n){return Object.assign(Pe()(n),{pageIndex:t===O.pageRows?e:1,pageRows:t})}))},showTotal:function(e){return u.a.createElement("span",null,"共 ",u.a.createElement("a",null,e)," 条")}}}))),c&&u.a.createElement(j.a,{visible:c,modalOKHandle:function(){},modalCancelHandle:function(){return o(!1)},targetName:m.taskName,title:"删除分组",needWarnIcon:!0,descText:"即将删除的分组",tipText:"删除的信息，无法找回，请谨慎操作"}),y&&u.a.createElement(Be,{isModalVisible:y,colseMoadl:function(){g(!1)},actionData:m}))}function Be(e){var t=e.isModalVisible,n=e.colseMoadl,r=e.actionData,c=Ve(Object(l.useState)([]),2),o=c[0],i=c[1],d=Ve(Object(l.useState)({pageIndex:1,totalRows:0,pageRows:10}),2),m=d[0],f=d[1];Object(l.useEffect)((function(){var e=Me(Me({},m),{},{batchId:r.batchId});Object(s.c)(s.a.projectBatchInfo,e).then((function(e){i(e.data.list),f((function(t){var n=Pe()(t);return n.totalRows=e.data.pager.totalRows,n}))}))}),[m.pageIndex,m.pageRows]);return u.a.createElement("div",null,u.a.createElement(a.a,{title:"查看详情",footer:null,visible:t,onCancel:n,width:"904px",wrapClassName:"add-protocols-wrap"},u.a.createElement("div",null,u.a.createElement(v.a,{dataSource:o,columns:[{title:"批次名称",dataIndex:"batchName",key:"batchName"},{title:"物理地址",dataIndex:"physicalAddress",key:"physicalAddress"},{title:"设备ID",dataIndex:"deviceUniqueId",key:"deviceUniqueId"},{title:"设备IMEI",dataIndex:"",key:"",render:function(){return"--"}}],rowKey:"detailId",pagination:{defaultCurrent:1,current:m.pageIndex,pageSize:m.pageRows,total:m.totalRows,showSizeChanger:!1,showQuickJumper:m.totalPages>5,onChange:function(e,t){f((function(n){return Object.assign(Pe()(n),{pageIndex:t===m.pageRows?e:1,pageRows:t})}))},showTotal:function(e){return u.a.createElement("span",null,"共 ",u.a.createElement("a",null,e)," 条")}}}))))}var Ge=Object(l.forwardRef)(Je);function $e(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,c=[],o=!0,i=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(c.push(r.value),!t||c.length!==t);o=!0);}catch(e){i=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(i)throw a}}return c}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return We(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return We(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function We(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Qe=r.a.TabPane;function _e(e){var t=e.baseInfo,n=e.projectId,a=$e(Object(l.useState)("1"),2),c=a[0],o=a[1],i=$e(Object(l.useState)(!1),2),s=i[0],d=i[1],m=Object(l.useRef)(),f=Object(l.useRef)();return u.a.createElement("div",{className:"page-apilist project-device-wrap"},u.a.createElement("div",{className:"comm-shadowbox common-tab"},u.a.createElement("div",{className:"top-but"},u.a.createElement(y.a,{type:"primary",onClick:function(){d(!0)}},"导入设备")),u.a.createElement(r.a,{onChange:function(e){return function(e){o(e)}(e)},activeKey:c},u.a.createElement(Qe,{tab:"设备列表",key:"1"},u.a.createElement(Le,{baseInfo:t,projectId:n,ref:m})),u.a.createElement(Qe,{tab:"批次管理",key:"2"},u.a.createElement(Ge,{baseInfo:t,projectId:n,ref:f})))),s&&u.a.createElement(xe,{isModalVisible:s,colseMoadl:function(){m.current.reFresh(),f.current&&f.current.reFresh&&f.current.reFresh(),d(!1)},cancelModel:function(){d(!1)},projectId:n}))}function Ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ze(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,c=[],o=!0,i=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(c.push(r.value),!t||c.length!==t);o=!0);}catch(e){i=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(i)throw a}}return c}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return et(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return et(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function et(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var tt=function(e){var t=e.changeKey,n=e.projectId,r=Xe(Object(l.useState)({pageIndex:1,totalRows:0,pageRows:10}),2),a=r[0],c=r[1],i=Xe(Object(l.useState)([]),2),d=i[0],m=i[1],p=[{title:"API名称",dataIndex:"name",key:"name"},{title:"API详情",dataIndex:"apiDetail",key:"apiDetail"},{title:"项目调用次数",dataIndex:"value",key:"value"},{title:"操作",key:"action",width:200,render:function(e,t){return u.a.createElement("div",{className:"operation"},u.a.createElement("a",{onClick:function(){return b(t.doc)}},"查看文档"),u.a.createElement(o.a,{type:"vertical"}),u.a.createElement("a",{onClick:function(){return y(t)}},"调试"))}}],b=function(e){e?window.open(e):alert("暂无数据！")},y=function(e){t("2",e)},g=function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ye(Object(n),!0).forEach((function(t){Ze(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({projectId:n},a);Object(s.c)(s.a.getProjectApiList,e,{loading:!0}).then((function(e){m(Object(f.b)(e.data.list)),c((function(t){var n=Pe()(t);return n.totalRows=e.data.pager.totalRows,n}))}))};return Object(l.useEffect)((function(){g()}),[a.pageIndex,a.pageRows]),u.a.createElement("div",{id:"project-mgt"},u.a.createElement("div",{className:"comm-shadowbox pd22"},u.a.createElement(v.a,{columns:p,className:"ant-table-fixed",rowKey:"configId",dataSource:d,pagination:{defaultCurrent:1,current:a.pageIndex,pageSize:a.pageRows,total:a.totalRows,showSizeChanger:!1,showQuickJumper:a.totalPages>5,onChange:function(e,t){c((function(n){return Object.assign(Pe()(n),{pageIndex:t===a.pageRows?e:1,pageRows:t})}))},showTotal:function(e){return u.a.createElement("span",null,"共 ",u.a.createElement("a",null,e)," 条")}}})))},nt=n("zueq");n("7DmY");function rt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function at(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rt(Object(n),!0).forEach((function(t){ct(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ct(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ot(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,c=[],o=!0,i=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(c.push(r.value),!t||c.length!==t);o=!0);}catch(e){i=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(i)throw a}}return c}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return it(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return it(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function it(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var lt=c.a.Search,ut=c.a.TextArea;var st=function(e){var t=e.listItem,n=void 0===t?{}:t,r=e.projectId,a=ot(i.a.useForm(),1)[0],o=ot(Object(l.useState)([]),2),d=o[0],p=o[1],b=ot(Object(l.useState)({pageIndex:1,totalRows:0,pageRows:1e8}),1)[0],g=ot(Object(l.useState)(""),2),h=g[0],O=g[1],j=ot(Object(l.useState)(),2),I=j[0],E=j[1],w=ot(Object(l.useState)({}),2),S=w[0],x=w[1],N=ot(Object(l.useState)(""),2),P=N[0],k=N[1];return Object(l.useEffect)((function(){h||(E(""),a.resetFields())}),[h]),Object(l.useEffect)((function(){x(n),O(n.configId)}),[n]),Object(l.useEffect)((function(){var e;e=at({projectId:r,name:P},b),Object(s.c)(s.a.getProjectApiList,e,{loading:!0}).then((function(e){p(e.data.list)}))}),[P]),u.a.createElement("div",{className:"API-debug"},u.a.createElement("div",{className:"API-debug-left comm-shadowbox"},u.a.createElement(lt,{placeholder:"搜索",allowClear:!0,onSearch:function(e){return k(e)},style:{width:"100%"}}),u.a.createElement(v.a,{columns:[{title:"项目名称",dataIndex:"name",key:"name"}],showHeader:!1,onRow:function(e){return function(e){return{onClick:function(){O(e.configId),x(e),E(""),a.resetFields()}}}(e)},rowClassName:function(e){return function(e){return e.configId===h?"clickRowStyl":""}(e)},className:"ant-table-fixed",rowKey:"configId",dataSource:d,pagination:!1,scroll:{y:650}})),u.a.createElement("div",{className:"API-debug-center comm-shadowbox"},u.a.createElement("div",{className:"title line40"},"获取设备信息"),u.a.createElement("div",{className:"cont"},u.a.createElement("div",{className:"line40"},"参数（请求方式：",S.method||"--","）"),u.a.createElement("div",{className:"bold"},"params"),u.a.createElement("div",{className:"params-box"},u.a.createElement(i.a,{form:a,onFinish:function(e){var t={};for(var n in e)e[n]&&(t[n]=e[n]);if(!h)return Object(m.a)({description:"请选择需要调用的接口！",type:"warn"});var r={configId:h,reqParams:JSON.stringify(at({},t))};console.log("params",r),Object(s.c)(s.a.debugAPI,r,{loading:!0}).then((function(e){e&&E(JSON.stringify(e,void 0,4))}),(function(e){return E(JSON.stringify(e,void 0,4))}))},onFinishFailed:function(e){console.log("Failed:",e)},autoComplete:"off"},Object.keys(S).length>0&&JSON.parse(S.params)&&JSON.parse(S.params).map((function(e){return u.a.createElement("div",{key:e.name+e.desc},u.a.createElement(i.a.Item,{label:e.name,name:e.name,rules:[{required:e.require,message:"请输入".concat(e.desc)}]},u.a.createElement(c.a,{placeholder:"请输入".concat(e.desc)})))})),u.a.createElement("div",{className:"submit-btn"},u.a.createElement(y.a,{type:"primary",htmlType:"submit"},"发起调用")))))),u.a.createElement("div",{className:"API-debug-right "},u.a.createElement("div",{className:"tip-desc"},u.a.createElement(nt.a,{className:"icon"}),u.a.createElement("span",{className:"tip-text"},"API调试时，平台将使用当前项目的授权密钥（Access ID & Access Secret）获取临时token，对线上资源发起调用，请小心操作。")),u.a.createElement("div",{className:"right-bar comm-shadowbox"},u.a.createElement("div",{className:"right-bar-title line40"},u.a.createElement("span",null,"响应结果"),u.a.createElement("span",{className:"copy",onClick:function(){return Object(f.d)(I)}},"复制")),u.a.createElement(ut,{autoSize:{minRows:25,maxRows:25},value:I,readOnly:!0,className:"scroll-y"}))))};n("wH3H");function dt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,c=[],o=!0,i=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(c.push(r.value),!t||c.length!==t);o=!0);}catch(e){i=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(i)throw a}}return c}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return mt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ft=r.a.TabPane;var pt=function(e){var t=e.projectId,n=dt(Object(l.useState)("1"),2),a=n[0],c=n[1],o=dt(Object(l.useState)(),2),i=o[0],s=o[1],d=function(e,t){c(e),s(t)};return u.a.createElement("section",{className:"page-apilist"},u.a.createElement("div",{className:"comm-shadowbox common-tab"},u.a.createElement(r.a,{onChange:function(e){return d(e,{})},activeKey:a},u.a.createElement(ft,{tab:"API列表",key:"1"},u.a.createElement(tt,{changeKey:d,projectId:t})),u.a.createElement(ft,{tab:"调试",key:"2"},u.a.createElement(st,{listItem:i,projectId:t})))))},bt=n("MeRu");n("64SR");function yt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,c=[],o=!0,i=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(c.push(r.value),!t||c.length!==t);o=!0);}catch(e){i=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(i)throw a}}return c}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return vt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var gt=r.a.TabPane;function ht(e){var t=e.match,n=yt(Object(l.useState)("1"),2),a=n[0],c=n[1],o=yt(Object(l.useState)(JSON.parse(sessionStorage.getItem("d_data"))),2),i=o[0],d=(o[1],Object(O.useHistory)()),m=Object(l.useMemo)((function(){return Object(f.f)("step")||"1"}),[]),p=t.params.id,b=yt(Object(l.useState)({}),2),y=b[0],v=b[1];Object(l.useEffect)((function(){g()}),[]);var g=function(){Object(s.c)(s.a.projectInfoOverview,{projectId:p}).then((function(e){v(e.data||{})}))};return Object(l.useEffect)((function(){"2"===m&&c("2")}),[]),u.a.createElement("div",{className:"project-detail-page"},u.a.createElement(bt.a,{backTitle:i.projectName,titleTag:1==y.isPrivateCloud?"私有云":0==y.isPrivateCloud?"公有云":"",backHandle:function(){d.push("/open/project/projectManage/list")}},u.a.createElement("div",{className:"device-top"},u.a.createElement("div",{className:"device-top-item"},u.a.createElement("label",{className:"device-label"},"项目ID："),u.a.createElement("span",{className:"device-text"}),i.projectId),u.a.createElement("div",{className:"device-top-item"},u.a.createElement("label",{className:"device-label"},"创建时间："),u.a.createElement("span",{className:"device-text"},i.createTime&&f.a.utcToDev(i.createTime))),u.a.createElement("div",{className:"device-top-item"},u.a.createElement("label",{className:"device-label"},"更新时间："),u.a.createElement("span",{className:"device-text"},i.updateTime&&f.a.utcToDev(i.updateTime))))),u.a.createElement("div",{className:"comm-shadowbox common-tab device-content ".concat("2"===a?"api-tab-style":""," ")},u.a.createElement(r.a,{defaultActiveKey:m,onChange:function(e){c(e),d.push("".concat(t.url,"?step=").concat(e))}},u.a.createElement(gt,{key:"1",tab:"概述"},u.a.createElement(T,{baseInfo:y,projectId:p})),u.a.createElement(gt,{key:"2",tab:"openAPI"},u.a.createElement(pt,{projectId:p})),u.a.createElement(gt,{key:"3",tab:"分组"},u.a.createElement(ge,{projectId:p,userId:y.accountId})),u.a.createElement(gt,{key:"4",tab:"设备"},u.a.createElement(_e,{baseInfo:y,projectId:p})))))}},Rw2J:function(e,t,n){},pwq9:function(e,t,n){},vK3N:function(e,t,n){},wH3H:function(e,t,n){}}]);
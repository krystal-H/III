(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"0eIn":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAOCAYAAAAmL5yKAAACB0lEQVQ4T32ST2sTQRjGn9nZTTEKBeOtbv1T7zUHi8vmZMCw/QCBYsGT+DH88wEUeoseVTx4USyJFWpVYldaEJQEFROxCVqbi1Q0oWZnXpmZ3XRz0IXd2d2Z9/c+7/s+7HmzFzBChUi4RACZBwgYX6X6p/bQJViXS2fcmjrCXjS+d6QkdywoDdBAA44BitwtzZ2Y1oC1d9uUZDVJyagAYDGrcC4/9Up/AHi6ueVLIepqNzh7kmnAs7ffVISWTFI/RxDObb+Yn1pPA4QCEGHem0kAXzskyTWZk7pjFUlP0srUIYbuvHfKlLD6ZjsgiAqRdEe1GpIGDiWwvjOJ97uHMIhsHJ6IkJsYLu9QtvygzAZaxr8u7wYdsA5i1bbgZSzAYYATrxmOcJhB8b+Awm26agNXksCFWeBRA9Awc19jK5tfAoBVSKoS4mbGXrj1aRq/hw4cbrI/vAhcuLuvwrHQZisbWx1Vf9pAyfvSxxlwMCzmgYXT+4U+bgC1plbyhz15/Vm3jBMvnPeOjWZeDVv+nZZb74uMzq5k31sELt03CjKqHxxtVg3b2jWcc780d3w08+rLD/7Gj1y9uXtk1LzyLLDcMOUooK16UAvb2srGpuPzjyTDWu8ofkbZ8QmY4HBPoMiqYSsgQRWpfBAbJu0HQQytXzn09iYhyEaWiz5jfKkfWddvltngL3uXRG6qfr/OAAAAAElFTkSuQmCC"},"3EbP":function(e,t,a){},"9s7C":function(e,t,a){},QUgQ:function(e,t,a){},Qb2f:function(e,t,a){},QkCI:function(e,t,a){},WjP9:function(e,t,a){},"b/4l":function(e,t,a){e.exports=a.p+"static/images/service-carousel.8623379bc6a67d2d66c01cc63644e958.png"},mU7p:function(e,t,a){"use strict";a.d(t,"d",(function(){return n})),a.d(t,"a",(function(){return r})),a.d(t,"e",(function(){return l})),a.d(t,"b",(function(){return c})),a.d(t,"c",(function(){return i}));var n={0:"开发中",1:"已发布",2:"审核中"},r={1:"草稿",2:"审核中",3:"灰度版本",4:"正式版本"},l={1:"SDK开发",2:"在线拖拽"},c={0:"草稿",1:"已发布",2:"删除"},i=[{value:"已入网 ",key:"1 "},{key:"0 ",value:"未入网 "}]},slUx:function(e,t,a){"use strict";a.r(t);a("rB9j"),a("Rm1S");var n=a("q1tI"),r=a.n(n),l=a("/MKj"),c=a("dL2e"),i=a("8QW8"),o=a("MeRu"),u=(a("NBAS"),a("SuFq"),a("pNMO"),a("4Brf"),a("07d7"),a("0oug"),a("4mDm"),a("PKPk"),a("3bBZ"),a("AUBz"),a("ZTPi")),s=(a("ma9I"),a("Nlzp")),m=(a("2B1R"),a("+2oP"),a("sMBO"),a("pjDv"),a("rwTb")),d=(a("Qb2f"),a("tkto"),a("TeQF"),a("5DmW"),a("FZtP"),a("27RR"),a("5s+n"),a("L/Qf"),a("2/Rp")),f=(a("mbEz"),a("wCAj")),p=(a("Y2jk"),a("zeV3")),b=(a("O+5t"),a("wFql")),v=(a("tULf"),a("Vl3Y")),y=(a("1vPl"),a("5rEg")),E=(a("QCje"),a("fyUT")),g=(a("ls82"),a("EnZy"),a("55Ip")),h=a("FC04"),N=["editing","dataIndex","title","inputType","record","index","children"];function w(e,t,a,n,r,l,c){try{var i=e[l](c),o=i.value}catch(e){return void a(e)}i.done?t(o):Promise.resolve(o).then(n,r)}function I(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function O(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?I(Object(a),!0).forEach((function(t){S(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):I(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function S(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,l=[],c=!0,i=!1;try{for(a=a.call(e);!(c=(n=a.next()).done)&&(l.push(n.value),!t||l.length!==t);c=!0);}catch(e){i=!0,r=e}finally{try{c||null==a.return||a.return()}finally{if(i)throw r}}return l}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return x(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return x(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function A(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var C=function(e){var t=e.editing,a=e.dataIndex,n=e.title,l=e.inputType,c=(e.record,e.index,e.children),i=A(e,N),o="number"===l?r.a.createElement(E.a,null):r.a.createElement(y.a,null);return r.a.createElement("td",i,t?r.a.createElement(v.a.Item,{name:a,style:{margin:0,style:"100%"},rules:[{required:!0,message:"Please Input ".concat(n,"!")}]},o):c)};function k(e){e.devceId;var t=j(v.a.useForm(),1)[0],a=j(Object(n.useState)([]),2),l=a[0],c=a[1],i=j(Object(n.useState)(null),2),o=(i[0],i[1],j(Object(n.useState)({}),2)),u=o[0],m=o[1],y=j(Object(n.useState)(""),2),E=y[0],N=y[1],I=j(Object(n.useState)(null),2),S=(I[0],I[1],function(e){return e.id===E}),x=j(Object(n.useState)(!1),2),A=x[0],k=x[1],P=Object(g.useLocation)().pathname;Object(n.useEffect)((function(){F()}),[]);var T=function(e){t.setFieldsValue(O({name:"",age:""},e)),N(e.id)},D=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];P.split("/").slice(-1);e.targetid=1,e.labelType=1,Object(s.c)(s.a.getPublishProductLabelAdd,e,{loading:t}).then((function(e){N(""),F()})).catch((function(e){N(""),F()}))},R=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];Object(s.c)(s.a.getPublishProductLabelEdit,e,{loading:t}).then((function(e){N(""),F()})).catch((function(e){N(""),F()}))},L=function(){var e,a=(e=regeneratorRuntime.mark((function e(a){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.validateFields();case 3:n=e.sent,a.id?(n.id=a.id,R(n)):D(n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("Validate Failed:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})),function(){var t=this,a=arguments;return new Promise((function(n,r){var l=e.apply(t,a);function c(e){w(l,n,r,c,i,"next",e)}function i(e){w(l,n,r,c,i,"throw",e)}c(void 0)}))});return function(e){return a.apply(this,arguments)}}(),M=[{title:"标签Key",dataIndex:"labelKey",editable:!0},{title:"标签Value",dataIndex:"labelValue",editable:!0},{title:"操作",dataIndex:"operation",render:function(e,t){return S(t)?r.a.createElement("span",null,r.a.createElement("a",{onClick:function(){return L(t)},style:{marginRight:8}},"保存")):r.a.createElement(p.b,null,r.a.createElement(b.a.Link,{disabled:""!==E,onClick:function(){return T(t)}},"编辑"),r.a.createElement(b.a.Link,{disabled:""!==E,onClick:function(){!function(e){m(e),k(!0)}(t)}},"删除"))}}].map((function(e){return e.editable?O(O({},e),{},{onCell:function(t){return{record:t,inputType:"text",dataIndex:e.dataIndex,title:e.title,editing:S(t)}}}):e})),F=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];Object(s.c)(s.a.getPublishProductLabelList,{targetid:1},{loading:e}).then((function(e){c(e.data)}))};return r.a.createElement("div",{id:"device-tag"},r.a.createElement(v.a,{form:t,component:!1},r.a.createElement(f.a,{components:{body:{cell:C}},dataSource:l,columns:M,rowClassName:"editable-row",rowKey:"id",pagination:!1})),r.a.createElement(d.a,{type:"primary",ghost:!0,className:"edit-table-btn",onClick:function(){!function(){var e=!1;if(E&&(e=!0),l.map((function(t){t.id||(e=!0)})),!e){var t=JSON.parse(JSON.stringify(l)),a={key:"".concat(t.length+1),labelKey:"",labelValue:"",id:0};t.push(a),c(t),T(a)}}()}},"添加标签"),A&&r.a.createElement(h.a,{visible:A,modalOKHandle:function(){Object(s.c)(s.a.getPublishProductLabelDel,{id:u.id}).then((function(e){k(!1),F()}))},modalCancelHandle:function(){k(!1)},targetName:u.funcName,title:"删除",descGray:!0,needWarnIcon:!0,descText:"确定删除此功能"}))}function P(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,l=[],c=!0,i=!1;try{for(a=a.call(e);!(c=(n=a.next()).done)&&(l.push(n.value),!t||l.length!==t);c=!0);}catch(e){i=!0,r=e}finally{try{c||null==a.return||a.return()}finally{if(i)throw r}}return l}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return T(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return T(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function D(){Object(n.useEffect)((function(){d()}),[]);var e={};sessionStorage.getItem("productItem")&&(e=JSON.parse(sessionStorage.getItem("productItem")));var t,a=P(Object(n.useState)({}),2),l=a[0],c=a[1],i=P(Object(n.useState)({}),2),o=i[0],u=i[1],d=function(){var t=e.productId;Object(s.c)(s.a.getPublishProductBusinessInfo,{productId:1}).then((function(e){c(e.data)})),Object(s.c)(s.a.proReledInfo,{productId:t}).then((function(e){u(e.data)}))};return r.a.createElement("div",{id:"product-info"},r.a.createElement("div",{className:"product-info-item"},r.a.createElement("h3",{className:"product-info-title"},"产品信息"),r.a.createElement("div",{className:"product-info-content"},r.a.createElement("div",{className:"product-info-conten-wrap"},r.a.createElement("img",{className:"product-top-left-img",alt:""}),r.a.createElement("div",{className:"product-info-content-text"},r.a.createElement("div",null,r.a.createElement("span",null,"产品品牌："),r.a.createElement("span",null,o.brandName)),r.a.createElement("div",null,r.a.createElement("span",null,"产品型号："),r.a.createElement("span",null,o.productCode)),r.a.createElement("div",null,r.a.createElement("span",null,"网关子设备："),r.a.createElement("span",null,o.productClassId)),r.a.createElement("div",null,r.a.createElement("span",null,"通信安全验证："),r.a.createElement("span",null,0===(t=o.authorityType)?"一型一密":1===t?"一型一密plus":2===t?"一机一密":"")))),r.a.createElement("div",{className:"product-info-conten-wrap"},r.a.createElement("div",{className:"product-info-content-text"},r.a.createElement("div",null,r.a.createElement("span",null,"配网方式："),r.a.createElement("span",null,o.bindTypeStr)),r.a.createElement("div",null,r.a.createElement("span",null,"AP-SSID："),r.a.createElement("span",null,o.ssid)),r.a.createElement("div",null,r.a.createElement("span",null,"AP-密码："),r.a.createElement("span",null,o.ssidPassword)))),r.a.createElement("div",{className:"product-info-conten-wrap",style:{paddingTop:"12px"}},r.a.createElement("div",{className:"product-top-right-text"},"配网方式："),r.a.createElement("img",{className:"product-top-right-img",alt:""})))),r.a.createElement("div",{className:"product-info-item"},r.a.createElement("h3",{className:"product-info-title"},"引导图"),r.a.createElement("div",{className:"product-info-content"},r.a.createElement("div",{className:"product-info-conten-wrap"},r.a.createElement("span",{className:"middle-text"},"配网引导图："),r.a.createElement("img",{className:"middle-img",alt:"",src:o.guidePage})),r.a.createElement("div",{className:"product-info-conten-wrap"},r.a.createElement("span",{className:"middle-text"},"失败引导图："),r.a.createElement("img",{className:"middle-img",alt:"",src:o.bindFailPage})),r.a.createElement("div",{className:"product-info-conten-wrap"},r.a.createElement("span",{className:"middle-text"},"帮助轮播图："),r.a.createElement("img",null)))),r.a.createElement("div",{className:"product-info-item"},r.a.createElement("h3",{className:"product-info-title"},"标签",r.a.createElement(m.a,{tip:"产品标签是您给产品自定义的标识，您可以使用标签功能实现产品的分类统一管理。"})),r.a.createElement("div",{className:"product-info-table"},r.a.createElement(k,null))),r.a.createElement("div",{className:"product-info-item"},r.a.createElement("h3",{className:"product-info-title"},"商业化信息"),r.a.createElement("div",{className:"product-business-wrap"},r.a.createElement("div",{className:"product-business-wrap-left"},r.a.createElement("div",{className:"business-left-item"},r.a.createElement("div",{className:"item-label"},"产品所属公司名称："),r.a.createElement("div",{className:"item-text"},l.supplier)),r.a.createElement("div",{className:"business-left-item"},r.a.createElement("div",{className:"item-label"},"产品联系人："),r.a.createElement("div",{className:"item-text"},l.contact)),r.a.createElement("div",{className:"business-left-item"},r.a.createElement("div",{className:"item-label"},"联系方式："),r.a.createElement("div",{className:"item-text"},l.tel)),r.a.createElement("div",{className:"business-left-item"},r.a.createElement("div",{className:"item-label"},"产品尺寸："),r.a.createElement("div",{className:"item-text"},l.size)),r.a.createElement("div",{className:"business-left-item"},r.a.createElement("div",{className:"item-label"},"产品重量："),r.a.createElement("div",{className:"item-text"},l.weight))),r.a.createElement("div",{className:"product-business-wrap-right"},r.a.createElement("div",{className:"business-left-item"},r.a.createElement("div",{className:"item-label"},"产品参数："),r.a.createElement("div",{className:"item-text"},l.productParam)),r.a.createElement("div",{className:"business-left-item"},r.a.createElement("div",{className:"item-label"},"产品介绍："),r.a.createElement("div",{className:"item-text"},l.introduction)),r.a.createElement("div",{className:"business-left-item"},r.a.createElement("div",{className:"item-label"},"产品说明书："),l.instruction?JSON.parse(l.instruction).map((function(e,t){return r.a.createElement("a",{key:t,onClick:function(){var t;t=e.filesrc,window.open(t)}},e.filename)})):null)))))}var R=a("KPg2");a("QUgQ");function L(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,l=[],c=!0,i=!1;try{for(a=a.call(e);!(c=(n=a.next()).done)&&(l.push(n.value),!t||l.length!==t);c=!0);}catch(e){i=!0,r=e}finally{try{c||null==a.return||a.return()}finally{if(i)throw r}}return l}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return M(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return M(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function F(){var e=[{title:"DP ID",dataIndex:"name",key:"name"},{title:"功能名称",dataIndex:"age",key:"age"},{title:"标识符",dataIndex:"address",key:"address"},{title:"数据传输类型",dataIndex:"address",key:"action"},{title:"数据长度",dataIndex:"address",key:"action"},{title:"数据类型",dataIndex:"address",key:"action"},{title:"数据属性",dataIndex:"address",key:"action"}],t=L(Object(n.useState)([]),2),a=t[0];t[1];return r.a.createElement("div",{id:"product-detail-fun-defin"},r.a.createElement("div",null,r.a.createElement(d.a,{style:{padding:0},type:"link",icon:r.a.createElement(R.a,null)},"导出完整协议")),r.a.createElement("div",{className:"table-item"},r.a.createElement("h3",null,"标准功能"),r.a.createElement("div",null,r.a.createElement(f.a,{columns:e,dataSource:a}))),r.a.createElement("div",{className:"table-item"},r.a.createElement("h3",null,"自定义功能"),r.a.createElement("div",null,r.a.createElement(f.a,{columns:e,dataSource:a}))))}a("TfFZ");var U=a("3S7+"),B=a("X72a"),J=a("Lyp1");a("x8oo");function K(e){return(K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function z(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function V(e,t){return(V=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Z(e);if(t){var r=Z(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return H(this,a)}}function H(e,t){return!t||"object"!==K(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Z(e){return(Z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var W=JSON.parse(sessionStorage.getItem("productItem"))||{};console.log(W);var _=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&V(e,t)}(i,e);var t,n,l,c=Q(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=c.call(this,e)).getMoudleInfo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";Object(s.c)(s.a.getMoudleInfo,{productId:t.props.productId,moduleId:e},{loading:!0}).then((function(e){t.setState({allInfo:e.data}),e.data.firmwareDefList&&(t.setState({dataSource:e.data.firmwareDefList}),t.setState({currentModuleId:e.data.moduleId}),W.moduleId=e.data.moduleId,sessionStorage.setItem("productItem",JSON.stringify(W)))}))},t.onFinish=function(e){console.log("验证是否通过:",e),t.props.nextStep()},t.downInstructions=function(){alert("暂无说明书！")},t.updateFirmware=function(){alert("暂未开放！")},t.getSchemeType=function(){if(!W.schemeType)return"";switch(W.schemeType){case 1:return"免开发方案，只需选择推荐模组以及配置固件信息，快速实现硬件智能化。";case 2:return"独立MCU方案，需选择下载MCU开发资料包等，进行相应开发。";case 3:return"SoC方案，不提供通用固件程序，需自行开发模组固件。"}},t.downloadData=function(){Object(s.c)(s.a.downloadData,{productId:t.props.productId,moduleId:t.state.currentModuleId}).then((function(e){e.data?window.location=e.data:alert("暂无数据！")}))},t.columns=[{title:"固件名称/固件Key",dataIndex:"burnFileName"},{title:"关联硬件",dataIndex:"moduleName"},{title:"芯片平台",dataIndex:"originalModuleTypeName"},{title:"固件类型",dataIndex:"type"},{title:"当前版本",dataIndex:"burnFileVersion"},{title:"操作",render:function(e,a,n){return r.a.createElement("div",{className:"table-operation",onClick:function(){return t.updateFirmware(a.id)}},"固件升级")}}],t.state={dataSource:[],allInfo:{},selectedId:"1"},t}return t=i,(n=[{key:"componentDidMount",value:function(){this.props.onRef&&this.props.onRef(this),this.getMoudleInfo(W.moduleId)}},{key:"render",value:function(){var e=this,t=this.state,n=t.dataSource,l=t.allInfo;return r.a.createElement("div",{className:"hardware-dev-page"},r.a.createElement("div",{className:"hardware-wrap"},r.a.createElement("div",{className:"desc"},this.getSchemeType()),r.a.createElement("div",{className:"module-box"},r.a.createElement("div",{className:"module-header"},r.a.createElement("div",{className:"module-tip"},"已选模组")),r.a.createElement("div",{className:"module-cont"},r.a.createElement("div",{className:"flex-s"},r.a.createElement("div",{className:"module-cont-left"},r.a.createElement("img",{src:l.modulePicture||a("jt+J"),alt:""})),r.a.createElement("div",{className:"module-cont-right"},r.a.createElement("div",{className:"module-title"},l.moduleName||"-"),r.a.createElement("div",{className:"flex"},r.a.createElement("div",{className:"desc-item"},r.a.createElement("span",{className:"desc-item-title"},"芯片："),l.originalModuleTypeName||"-"),r.a.createElement("div",{className:"desc-item"},r.a.createElement("span",{className:"desc-item-title"},"尺寸："),l.sizeWidth,"x",l.sizeHeight,"x",l.sizeThickness),r.a.createElement("div",{className:"desc-item"},r.a.createElement("span",{className:"desc-item-title"},"适用："),l.applyScope||"-")),r.a.createElement("div",{className:"desc-item"},r.a.createElement("span",{className:"desc-item-title"},"特性："),"1.配网方式:",l.netTypeName||"-","； 2.支持协议:",l.bindTypeName||"-","； 3.通信通讯速率:",l.communicateSpeed||"-","bps； 4.是否支持文件传输:",0===l.supportFileTransfer?"否":"是"),r.a.createElement("div",{className:"more",onClick:this.downInstructions},"说明书",r.a.createElement(B.a,null)))),r.a.createElement("div",{className:"module-right-box"},l.price&&r.a.createElement("div",{className:"price"},"¥",l.price,"/个")))),r.a.createElement("div",{className:"module-box"},r.a.createElement("div",{className:"module-tip mar-t-b"},"已生成固件"),l.firmwareDefList&&r.a.createElement(f.a,{rowKey:"burnFileVersion",columns:this.columns,dataSource:n,pagination:!1,size:"small"}),0===!l.firmwareDefList&&r.a.createElement("div",{className:"no-match-firmware"},r.a.createElement("div",{className:"no-match-firmware-img"},r.a.createElement("img",{src:a("e35r"),alt:""})),r.a.createElement("div",{className:"no-match-firmware-tip"},"您选择的模组暂无通用固件程序，请自行开发模组固件。"))),r.a.createElement("div",{className:"module-box"},r.a.createElement("div",{className:"module-tip mar30"},"开发调试"),r.a.createElement("div",{className:"debug"},r.a.createElement("div",{className:"flex-c"},r.a.createElement("img",{className:"debug-icon",src:a("idcQ"),alt:""}),1===W.schemeType&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,"设计PCB"),r.a.createElement("div",{className:"blue",onClick:function(){return e.downloadData()}},"参考电路原理图")),2===W.schemeType&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,"MCU模组 SDK开发"),r.a.createElement("div",{className:"blue"},r.a.createElement("span",{onClick:function(){return e.downloadData()}},"下载MCU开发资料包"),r.a.createElement(U.a,{title:"包含MCU SDK、串口协议、模组调试助手等。SDK根据您产品的基本信息和功能定义生成对应的模组代码。若您的产品信息和功能定义发生变化，请重新生成。重新生成。",placement:"top"},r.a.createElement(J.a,{className:"tooltip-icon"})))),3===W.schemeType&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,"模组SDK开发"),r.a.createElement("div",{className:"blue"},r.a.createElement("span",{onClick:function(){return e.downloadData()}},"下载模组SDK开发资料包"),r.a.createElement(U.a,{title:"包含模组 SDK、Bin文件等",placement:"top"},r.a.createElement(J.a,{className:"tooltip-icon"}))))),r.a.createElement("div",{className:"line"},r.a.createElement("img",{src:a("Lz/R"),alt:""})),r.a.createElement("div",{className:"flex-c"},r.a.createElement("img",{className:"debug-icon",src:a("iNUt"),alt:""}),r.a.createElement("div",null,"功能测试"),r.a.createElement("div",{className:"mar8"},"（请先配网以及通信安全机制的配置）")),r.a.createElement("div",{className:"line"},r.a.createElement("img",{src:a("Lz/R"),alt:""})),r.a.createElement("div",{className:"flex-c"},r.a.createElement("img",{className:"debug-icon",src:a("e11v"),alt:""}),r.a.createElement("div",null,"联网验证"),r.a.createElement("div",{className:"blue"},"下载“数联智能”App"))))))}}])&&z(t.prototype,n),l&&z(t,l),i}(n.Component),Y=(a("k3Gp"),a("kLXV")),X=(a("Jmwx"),a("BMrR")),q=(a("rO+z"),a("kPKH"));a("oVuX"),a("QkCI");function G(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,l=[],c=!0,i=!1;try{for(a=a.call(e);!(c=(n=a.next()).done)&&(l.push(n.value),!t||l.length!==t);c=!0);}catch(e){i=!0,r=e}finally{try{c||null==a.return||a.return()}finally{if(i)throw r}}return l}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return $(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return $(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var ee=a("HILT"),te=a("96C7"),ae=a("b/4l");var ne=function(e){var t,a=e.networkModalVisible,l=e.productId,c=e.cancelHandle,i=G(v.a.useForm(),1)[0],o=Object(n.useRef)(),u=G(Object(n.useState)({}),2),m=u[0],d=u[1],f=G(Object(n.useState)([]),2),p=f[0],b=f[1];return Object(n.useEffect)((function(){Object(s.c)(s.a.getNetDataByProductId,{productId:l}).then((function(e){d(e.data),b((function(){return e.data.helpPage?e.data.helpPage.imageUrls.filter((function(e){return e})):[]}))}))}),[]),r.a.createElement(Y.a,{title:"配网信息",visible:a,width:875,onOk:c,onCancel:c,maskClosable:!1,wrapClassName:"replace-module-modal"},r.a.createElement("div",{className:"network-info-modal"},r.a.createElement(v.a,{ref:o,form:i,labelCol:{span:5},wrapperCol:{span:19}},r.a.createElement("div",{className:"network-info-modal-title"},"配网方式"),r.a.createElement(v.a.Item,{label:"已选通信协议"},r.a.createElement("span",null,m.bindTypeName)),r.a.createElement(v.a.Item,{label:"配网方式"},r.a.createElement("span",null,(t=m.bindTypeList&&m.bindTypeList.map((function(e){return m.baseTypeId===e.baseTypeId?e.baseTypeName:""})).filter((function(e){return e})))&&t.length?t.join(","):"-")),1===m.bindTypeId&&r.a.createElement(v.a.Item,{label:"AP-SSID",name:"ssid"},r.a.createElement("span",null,m.ssid||"-")),(1===m.bindTypeId||2===m.bindTypeId)&&r.a.createElement(v.a.Item,{label:"广播名",name:"radiocastName"},r.a.createElement("span",null,m.radiocastName||"-")),(1===m.bindTypeId||2===m.bindTypeId)&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"network-info-modal-title"},"配网图片引导",r.a.createElement("span",{className:"tip"},"（需产品支持WiFi或蓝牙配置能力）")),r.a.createElement(X.a,null,r.a.createElement(q.a,{span:12},r.a.createElement(v.a.Item,{label:"默认联网指引",name:"guidePage",labelCol:{span:10},className:"upload-img"},r.a.createElement("div",{className:"native-upload"},r.a.createElement("div",{className:"img-wrap"},r.a.createElement("img",{src:m.guidePage?m.guidePage.guidePage:ee,alt:""}))))),r.a.createElement(q.a,{span:12},r.a.createElement(v.a.Item,{label:"默认联网失败提示",name:"bindFailPage",labelCol:{span:10},className:"upload-img"},r.a.createElement("div",{className:"native-upload"},r.a.createElement("div",{className:"img-wrap"},r.a.createElement("img",{src:m.guidePage?m.guidePage.bindFailPage:te,alt:""})))))),p&&p.length>0&&r.a.createElement(v.a.Item,{label:"图片轮播帮助信息",className:"upload-img carousel-container",labelCol:{span:5},wrapperCol:{span:20}},p.map((function(e){return r.a.createElement("div",{className:"img-box"},r.a.createElement("img",{src:e||ae,alt:""}))})))))))},re=(a("zKZe"),a("zueq"));a("3EbP");function le(){return(le=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function ce(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,l=[],c=!0,i=!1;try{for(a=a.call(e);!(c=(n=a.next()).done)&&(l.push(n.value),!t||l.length!==t);c=!0);}catch(e){i=!0,r=e}finally{try{c||null==a.return||a.return()}finally{if(i)throw r}}return l}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ie(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return ie(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var oe=["一型一密","一型一密pro","一机一密"];var ue=function(e){var t=e.securityVisible,a=e.cancelHandle,n=e.productExtend,l=ce(v.a.useForm(),1)[0];return r.a.createElement(Y.a,{title:"通信安全机制",visible:t,width:740,onOk:a,onCancel:a,maskClosable:!1,wrapClassName:"replace-module-modal"},r.a.createElement("div",{className:"communication-security-modal"},r.a.createElement("div",{className:"tip-desc"},r.a.createElement(re.a,null),r.a.createElement("span",{className:"tip-text"},"数据在产品发布后可在设备注册模块查看")),r.a.createElement(v.a,le({form:l},{labelCol:{span:5},wrapperCol:{span:14}}),r.a.createElement(v.a.Item,{name:"authorityType",label:"验证方式"},r.a.createElement("span",null,oe[n])))))};a("yniU");function se(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,l=[],c=!0,i=!1;try{for(a=a.call(e);!(c=(n=a.next()).done)&&(l.push(n.value),!t||l.length!==t);c=!0);}catch(e){i=!0,r=e}finally{try{c||null==a.return||a.return()}finally{if(i)throw r}}return l}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return me(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return me(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function me(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var de=[{title:"配网信息",desc:"选择设备联网方式，设置配网引导图，相关指引等",isConfiged:!0,type:"network",url:a("2mZb")},{title:"通信安全机制",desc:"配置设备通信的安全机制，兼顾客户的便利以及安全需求",isConfiged:!0,type:"security",url:a("sfQM")}],fe=[{title:"配置产品固件模块",desc:"支持配置OTA升级模块，比如区分控制板、驱动板、显示板等不同模块",isConfiged:!0,type:"addFirmware",url:a("sxCh")},{title:"固件升级",desc:"MCU固件或SDK估计配置远程升级，无需烧录。需控制板支持。",isConfiged:!1,type:"firmwareUpdate",url:a("YKHW")},{title:"场景联动配置",desc:"配置自动化联动的条件动作，以便加入场景，跟其他设备联动控制。",isConfiged:!1,type:"scene",url:a("JGhx")},{title:"云端定时",desc:"云端设定开关时间及周循环，无需硬件嵌入式开发",isConfiged:!1,type:"cloud",url:a("hGad")},{title:"设备告警",desc:"可定义配置设备预警消息推送，方便随时随地的设备监控",isConfiged:!1,type:"deviceWarning",url:a("mBzF")}];function pe(e,t){var a=e.productId,l=e.nextStep,c=se(Object(n.useState)(!1),2),i=c[0],o=c[1],u=se(Object(n.useState)(!1),2),m=u[0],d=u[1],f=se(Object(n.useState)(!1),2),p=(f[0],f[1]),b=se(Object(n.useState)(!1),2),v=(b[0],b[1]),y=se(Object(n.useState)(!1),2),E=(y[0],y[1]),h=se(Object(n.useState)(""),2),N=h[0],w=h[1],I=function(){l()};Object(n.useImperativeHandle)(t,(function(){return{onFinish:I}}));var O=function(e){switch(console.log(e),e){case"network":o(!0);break;case"security":d(!0);break;case"addFirmware":p(!0);break;case"gateway":v(!0)}};return Object(n.useEffect)((function(){d(!1),Object(s.c)(s.a.getSecurityConfigStatus,{productId:a},{loading:!0}).then((function(e){e.data.securityConfigflag&&w(e.data.productExtend.authorityType)}))}),[]),r.a.createElement("div",{className:"service-config-page2"},r.a.createElement("div",{className:"desc"},"免开发方案，只需选择推荐模组、以及配置固件信息，快速实现硬件智能化。"),r.a.createElement("div",{className:"service-config-title"},"必选配置"),r.a.createElement("div",{className:"service-config-cont"},de.map((function(e,t){return r.a.createElement("div",{className:"config-card",key:t},r.a.createElement("div",{className:"config-card-left"},r.a.createElement("img",{src:e.url,alt:"图片"})),r.a.createElement("div",{className:"config-card-right"},r.a.createElement("div",{className:"config-card-right-title"},e.title),r.a.createElement("div",{className:"config-card-right-desc"},e.desc),r.a.createElement("div",{className:"config-card-right-btn",onClick:function(){e.type,o(!0)}},"查看")),e.isConfiged&&r.a.createElement("div",{className:"configured-logo"},"已配置"))}))),r.a.createElement("div",{className:"service-config-title"},"可选配置"),r.a.createElement("div",{className:"service-config-cont"},fe.map((function(e,t){return r.a.createElement("div",{className:"config-card",key:t},r.a.createElement("div",{className:"config-card-left"},r.a.createElement("img",{src:e.url,alt:"图片"})),r.a.createElement("div",{className:"config-card-right"},r.a.createElement("div",{className:"config-card-right-title"},e.title),r.a.createElement("div",{className:"config-card-right-desc"},e.desc),r.a.createElement("div",{className:"flex-start"},e.isConfiged?"":"firmwareUpdate"===e.type?r.a.createElement("div",{className:"config-card-right-btn",onClick:function(){O(e.type)}},r.a.createElement(g.Link,{to:"/open/product/otaUpdate",target:"_blank"},"配置")):"cloud"===e.type?r.a.createElement("div",{className:"config-card-right-btn",onClick:function(){O(e.type)}},r.a.createElement(g.Link,{to:"/open/product/cloudTimer",target:"_blank"},"配置")):r.a.createElement("div",{className:"config-card-right-btn",onClick:function(){O(e.type)}},"配置"),e.isConfiged?"addFirmware"===e.type?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"config-card-right-btn",onClick:function(){O(e.type)}},"配置"),r.a.createElement("div",{className:"config-card-right-btn mar6",onClick:function(){E(!0)}},"详情")):r.a.createElement("div",{className:"config-card-right-btn",onClick:function(){O(e.type)}},"修改"):"")),e.isConfiged&&r.a.createElement("div",{className:"configured-logo"},"已配置"))}))),i&&r.a.createElement(ne,{productId:a,networkModalVisible:i,cancelHandle:function(){o(!1)}}),m&&r.a.createElement(ue,{securityVisible:m,productExtend:N,cancelHandle:function(){d(!1)}}))}var be=pe=Object(n.forwardRef)(pe),ve=a("g4q9"),ye=(a("RKNx"),a("L41K")),Ee=(a("8QGh"),a("2fM7")),ge=a("0eIn"),he=a.n(ge),Ne=a("NsHq"),we=a("mU7p"),Ie=a("DgvE"),Oe=a("P2RN"),Se=(a("we4v"),a("rVDo"));function je(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,l=[],c=!0,i=!1;try{for(a=a.call(e);!(c=(n=a.next()).done)&&(l.push(n.value),!t||l.length!==t);c=!0);}catch(e){i=!0,r=e}finally{try{c||null==a.return||a.return()}finally{if(i)throw r}}return l}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return xe(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return xe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xe(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function Ae(e){var t=e.isModalVisible,a=e.colseMoadl,l=e.cancelModel;sessionStorage.getItem("productItem")&&JSON.parse(sessionStorage.getItem("productItem"));var c=je(v.a.useForm(),1)[0],i=Object(n.useRef)(null),o=Object(n.useMemo)((function(){return r.a.createElement("span",null,"一型一密",r.a.createElement(m.a,{tip:"设备通信时，仅校验烧录的产品密钥，设备安全性较低。"}))}),[]);return r.a.createElement(Y.a,{title:"注册设备",visible:t,onOk:function(){c.validateFields().then((function(e){var t={productId:11549,data:e.upload[0].url};Object(s.c)(s.a.proReledExport,t).then((function(e){a()}))})).catch((function(e){}))},onCancel:l,width:"555px",wrapClassName:"add-protocols-wrap"},r.a.createElement("div",{className:"device-regist"},r.a.createElement(v.a,{form:c,labelAlign:"right"},r.a.createElement(v.a.Item,{label:"验证方式："},o),r.a.createElement(v.a.Item,{label:"导入设备物理地址"},r.a.createElement(v.a.Item,{name:"upload",rules:[{required:!0,message:"请上传文件"}]},r.a.createElement(Se.b,{ref:i,maxCount:1,format:".xls,.xlsx",isNotImg:!0,maxSize:10})),r.a.createElement("a",{className:"down-model",onClick:function(){window.open("http://skintest.hetyj.com/31438/6b0b20891e06ac31d0eed37a5083cca9.xlsx")}},"下载模板")))))}function Ce(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ke(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ce(Object(a),!0).forEach((function(t){Pe(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ce(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Pe(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Te(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,l=[],c=!0,i=!1;try{for(a=a.call(e);!(c=(n=a.next()).done)&&(l.push(n.value),!t||l.length!==t);c=!0);}catch(e){i=!0,r=e}finally{try{c||null==a.return||a.return()}finally{if(i)throw r}}return l}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return De(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return De(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function De(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var Re=Ee.a.Option,Le=ye.a.Step;function Me(){var e=Te(v.a.useForm(),1)[0],t=Te(Object(n.useState)([]),2),a=t[0],l=t[1],c=Te(Object(n.useState)([{label:"设备总数量",count:0},{label:"已入网设备",count:0},{label:"未入网设备",count:0}]),2),i=c[0],o=c[1],u=[{title:"设备ID",dataIndex:"did",key:"did"},{title:"物理地址",dataIndex:"physicalAddr",key:"physicalAddr"},{title:"通信验证方式",dataIndex:"authorityType",key:"authorityType",render:function(e){return r.a.createElement("span",null,0==(t=e)?"一型一密":1==t?"一型一密plus":2==t?"一机一密":void 0);var t}},{title:"设备秘钥",dataIndex:"deviceSecret",key:"deviceSecret"},{title:"入网状态",dataIndex:"status",key:"status",render:function(e){return r.a.createElement("span",null,e?"已入网":"未入网")}},{title:"入网时间",dataIndex:"activeTime",key:"activeTime",render:function(e){return Ie.a.utcToDev(e)}}];Object(n.useEffect)((function(){m()}),[]);var m=function(){Object(s.c)(s.a.proReledCount).then((function(e){o([{label:"设备总数量",count:e.data.total},{label:"已入网设备",count:e.data.activate},{label:"未入网设备",count:e.data.unactivate}])}))},p=Te(Object(n.useState)(!1),2),b=p[0],E=p[1],g=Te(Object(n.useState)({pageIndex:1,totalRows:0,pageRows:10}),2),h=g[0],N=g[1];Object(n.useEffect)((function(){w()}),[h.pageIndex,h.pageRows]);var w=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],a=ke(ke(ke({},e.getFieldsValue()),h),{},{productId:11549});Object(s.c)(s.a.proReledRegist,a,{loading:t}).then((function(e){l(e.data.list),N((function(t){var a=JSON.parse(JSON.stringify(t));return Object.assign(a,{totalRows:e.data.pager.totalRows})}))}))};return r.a.createElement("div",{id:"product-device-regist"},r.a.createElement("div",{className:"comm-shadowbox setp-ttip"},r.a.createElement("div",{className:"step-title"},r.a.createElement("img",{src:he.a,alt:""}),r.a.createElement("span",null,"注册设备步骤")),r.a.createElement(ye.a,{current:-1,initial:0},r.a.createElement(Le,{title:"选择不同校验机制",description:"注册设备，产品发布前，需在配置服务步骤，确定安全通信安全机制。"}),r.a.createElement(Le,{title:"注册设备物理地址",description:"Clife平台提供产品密钥验证、产品密钥&设备ID验证、设备ID&设备密钥验证多种安全通信机制。"}),r.a.createElement(Le,{title:"查看入网设备",description:r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,"Clife平台提供产品密钥验证、产品密钥&设备ID验证、设备ID&设备密钥验证多种安全通信机制。"),r.a.createElement("a",{onClick:function(){}},"下载密钥烧录工具"))}))),r.a.createElement(Ne.a,{data:i}),r.a.createElement("div",{className:"comm-shadowbox device-content"},r.a.createElement("div",{className:"content-top"},r.a.createElement("div",{className:"content-top-left"},r.a.createElement(v.a,{className:"device-filter-form",form:e,layout:"inline"},r.a.createElement(v.a.Item,{name:"status",label:"入网状态"},r.a.createElement(Ee.a,{allowClear:!0,style:{width:"200px"}},we.c.map((function(e){return r.a.createElement(Re,{value:e.key,key:e.key},e.value)})))),r.a.createElement(v.a.Item,{label:"请输入设备ID"},r.a.createElement(v.a.Item,{name:"id",noStyle:!0},r.a.createElement(y.a,{style:{width:"465px"},placeholder:"请输入设备ID"})),r.a.createElement(d.a,{type:"primary",onClick:function(){1===h.pageIndex?w():N((function(e){var t=JSON.parse(JSON.stringify(e));return Object.assign(t,{pageIndex:1})}))}},"查询")))),r.a.createElement(d.a,{type:"primary",onClick:function(){E(!0)}},"注册设备")),r.a.createElement(f.a,{rowKey:"did",dataSource:a,columns:u,pagination:{defaultCurrent:1,current:h.pageIndex,onChange:function(e,t){t==h.pageRows?N((function(a){var n=JSON.parse(JSON.stringify(a));return Object.assign(n,{pageIndex:e,pageRows:t})})):N((function(e){var a=JSON.parse(JSON.stringify(e));return Object.assign(a,{pageIndex:1,pageRows:t})}))},pageSize:h.pageRows,total:h.totalRows,showQuickJumper:!0,pageSizeOptions:[10],showTotal:function(){return r.a.createElement("span",null,"共 ",r.a.createElement("a",null,h.totalRows)," 条")}}})),b&&r.a.createElement(Ae,{isModalVisible:b,cancelModel:function(){E(!1)},colseMoadl:function(){Object(Oe.a)({type:"success",description:"注册成功！"}),E(!1)}}))}var Fe,Ue=a("Ytl9");a("9s7C");function Be(e){return(Be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Je(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ke(e,t){return(Ke=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ze(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Qe(e);if(t){var r=Qe(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Ve(this,a)}}function Ve(e,t){return!t||"object"!==Be(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Qe(e){return(Qe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var He=u.a.TabPane,Ze=Object(l.connect)((function(e){return{deviceDebugAccountList:e.getIn(["deviceDebug","deviceDebugAccountList"]).toJS(),deviceDebugMacList:e.getIn(["deviceDebug","deviceDebugMacList"]).toJS()}}),(function(e){return{updateDeviceDebugAccountList:function(t){return e(Object(Ue.a)(t))},updateDeviceDebugMacList:function(t){return e(Object(Ue.b)(t))}}}))(Fe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ke(e,t)}(c,e);var t,a,n,l=ze(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=l.call(this,e)).callback=function(e){var a=t.props.productId;window.location.hash="#/open/product/proManage/details/".concat(a,"?step=").concat(e)},t.state={steps:Object(Ie.g)("step")||"1"},t}return t=c,(a=[{key:"render",value:function(){var e=this,t=this.props,a=t.productId,n=t.productBaseInfo;return t.protocolLists,n.authorityType,n.accessModeId,r.a.createElement("div",{className:"comm-shadowbox common-tab"},r.a.createElement(u.a,{defaultActiveKey:this.state.steps,onChange:function(t){return e.callback(t)}},r.a.createElement(He,{key:"1",tab:"基本信息"},r.a.createElement(D,{productId:a})),r.a.createElement(He,{key:"2",tab:"功能定义"},r.a.createElement(F,null)),r.a.createElement(He,{key:"3",tab:"控制面板"},r.a.createElement(ve.a,null)),r.a.createElement(He,{key:"4",tab:"硬件开发"},r.a.createElement(_,{productId:a})),r.a.createElement(He,{key:"5",tab:"服务配置"},r.a.createElement(be,{productId:a})),r.a.createElement(He,{key:"7",tab:"设备注册"},r.a.createElement(Me,null))))}}])&&Je(t.prototype,a),n&&Je(t,n),c}(n.Component))||Fe;a("WjP9"),a("aTcW");t.default=Object(l.connect)((function(e){return{productBaseInfo:e.getIn(["product","productBaseInfo"]).toJS(),protocolLists:e.getIn(["product","productProtocolLists"]).toJS()}}),(function(e){return{getProductBaseInfo:function(t){return e(Object(c.getProductBaseInfo)(t))},getProtocolLists:function(t){return e(Object(c.getProtocolLists)(t))}}}))((function(e){var t=e.productBaseInfo,a=e.match,n=(e.getProductBaseInfo,e.getProtocolLists,e.protocolLists),l=function(e){return+e.params.id}(a),c={};if(!sessionStorage.getItem("productItem"))return r.a.createElement(i.a,{tipText:"没有传入产品ID哦"});if(c=JSON.parse(sessionStorage.getItem("productItem")),!l)return r.a.createElement(i.a,{tipText:"没有传入产品ID哦"});var u=r.a.createElement("div",{className:"product_title_baseinfo_list"},r.a.createElement("div",null,r.a.createElement("div",null,"品类："),r.a.createElement("div",null,c.deviceType)),r.a.createElement("div",null,r.a.createElement("div",null,"产品ID："),r.a.createElement("div",null,c.productId)),r.a.createElement("div",null,r.a.createElement("div",null,"通讯协议："),r.a.createElement("div",null,c.bindTypeStr)),r.a.createElement("div",null,r.a.createElement("div",null,"产品编码："),r.a.createElement("div",null,c.productCode)),r.a.createElement("div",null,r.a.createElement("div",null,"产品密钥："),r.a.createElement("div",null,c.deviceKey)));return r.a.createElement("div",{className:"eidt-wrapper"},r.a.createElement(o.a,{title:"开发流程",titleTag:"免开发方案",btnTxt:"编辑",backTitle:"开发流程",children:u}),r.a.createElement("div",{className:"comm-shadowbox product-detail-wrap"},r.a.createElement(Ze,{productId:l,protocolLists:n,productBaseInfo:t})))}))},we4v:function(e,t,a){},x8oo:function(e,t,a){},yniU:function(e,t,a){}}]);
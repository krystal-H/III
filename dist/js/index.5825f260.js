(window.webpackJsonp=window.webpackJsonp||[]).push([["index"],{"+IdD":function(e,t,n){"use strict";n.d(t,"f",(function(){return i})),n.d(t,"d",(function(){return u})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return s})),n.d(t,"e",(function(){return f}));n("07d7"),n("5s+n"),n("p532");var r=n("Nlzp"),o=n("JPcv"),a=n("2ZBQ"),i=function(e){return function(t,n){Object(r.c)(r.a.getDownProduct,e,{loading:!0}).then((function(e){var n=function(e){return{type:a.g,list:Object(o.fromJS)(e)}}(e.data&&e.data.list||[]);t(n)}))}},u=function(e){return function(t){t({type:a.b,statu:!1}),Object(r.c)(r.a.getDeviceStat,e).then((function(e){t({type:a.f,data:Object(o.fromJS)(e.data)})})).finally((function(){t({type:a.b,statu:!0})}))}},c=function(e){return function(t){Object(r.c)(r.a.getDeviceList,e,{loading:!0}).then((function(e){t({type:a.e,data:Object(o.fromJS)(e.data)})}))}},l=function(e){return function(t){Object(r.c)(r.a.getDeviceLabelList,e).then((function(e){t({type:a.c,data:Object(o.fromJS)(e.data)})}))}},s=function(e){return function(t){Object(r.c)(r.a.getDeviceLabelList,e).then((function(e){t({type:a.a,data:Object(o.fromJS)(e.data)})}))}},f=function(e){return function(t){Object(r.d)(r.a.getLabelBaseList,e).then((function(e){t({type:a.d,data:Object(o.fromJS)(e.data||[])})}))}}},"/MKj":function(e,t,n){e.exports=n("WUjv")(66)},0:function(e,t){},"0R0V":function(e,t,n){e.exports=n("WUjv")(95)},"17x9":function(e,t,n){e.exports=n("WUjv")(13)},"2ZBQ":function(e,t,n){"use strict";n.d(t,"g",(function(){return r})),n.d(t,"f",(function(){return o})),n.d(t,"e",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return u})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return l}));var r="DEVICE_UPDATE_PRODUCT_LIST",o="UPDATE_DEVICE_STAT",a="UPDATE_DEVICE_LIST",i="UPDATE_DEVICE_LABEL",u="UPDATE_DEVICE_LABELBASE",c="UPDATE_DEFAULT_DEVICE_LABEL",l="UPDATE_DEVICE_COUNT_STATU"},"2jDL":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n("2B1R"),n("TeQF");var r=function(e,t,n,r,o,a){for(var i=e.nodeList,u=function(e){return e.filter((function(e){return"eventTrigger"===e.id}))[0].list.map((function(e){return e.id}))}(o),c=!1,l=0;l<i.length;l++)if(u.indexOf(i[l].nodeType)>-1){c=!0;break}return!!c&&"最多只能有一个输入类型的节点，请删除不需要的触发节点"}},"2mql":function(e,t,n){e.exports=n("WUjv")(21)},"3L+O":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return a})),n.d(t,"d",(function(){return i}));var r="show-login-modal",o="update-developer-info",a="MUEN_LIST",i="update_insyanceList"},"3d2c":function(e,t,n){},"3tak":function(e,t,n){},"4Tgu":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAABGCAYAAABxLuKEAAANeklEQVR4Xs1ca3RU1RXe+9x7Z+5kMnk/IKEhBAnEIEuCIIigIApKq7QutGnRqhWR6LJ1dVWXqxSpj9rSWlsFIj5bKy0VUYsvLO/ycKkQLCqvAIVIJpkwSQiZx32e03UHBodhJjNz507K/ZXMnP3t73xzHvvss2cQ+ulhjOHzG6EMGVRQgFIEKGUIxcDAgQh2hiAaVJCBxBjIgBBEBicYgIcAeBhCy71TwY2IrD8oYyadvLGDOTolqGMMaghCNWXgSscfQeilDA4iwr5CEZpuuQKD6eD1ZWu5MKGRsRlqKYUJBGAUA+AzQR4BNAqwhxD4+N6r4SurR5JlwixaxEjxlTCGEJjBGJRlQox4mIjgphTWntgGuxYtQmqFb0uEWbKR1XIMZjOAUitImcVAAI+OsOr+qfiVWYywXVrCLNvK8kGF2cBgdLpELLVH2A0CrGqYhN1mcU0Ls2QDqyMAtwGc3k0uwEeiAH+9/xpsMsMtZWGW72QC7YWbGYWrzDiMtpFV4NtPsHy/TEVVA54BoNMOwZxsDOS5iN8ugJaOHySwhbhg9bzLUE0FJyVhlu9kWbQX5jMKF6XiJLptexfN/eqQXn3cS6v8AZYHwGLyQETqyoLOwjzSVlMpHKociB1m/CKBQ8QFjfMuw0Cy9kkLs3wdy6UcPJDOjnPSB45tu5XLWzx0eDwx+iKe60LPhFphR9UgzpNsB88upghuosOz867FnmRskxImJAqBnzOAwmRAY7U50spKNu2Sp8sKc5rFOG2HbHgF13TNOOGzVHEQoJNQ+F0y4iQUJjR9TsHP0hkpLR2s8MPt8ixdZ0KqnYnXvqqc2zNjgm1HqnhGzENy4OlE06pPYc4stA+ks6ZIEggrPpJulVWWnWonErWfMEpYN7qaP5yoXfT7Z9acZ/takPsUpnET+366u8/aHcrEI279klTJJ9Ne4DF4+0xxhZmdy9it5k/BlfH8xBXmTJwyNxmC8dr4giC+/qE0h1KWkfOS4Xd0tbB1wijeVKRLAV6MF+fEFCYU0SqwMN3gbdsebeSeg+qVkcJli+jzSdZNq/wc4q6/zr7G5AcogQ0eixUhxxRm+UZ2j25BmP/mBnlGRzetDJMeVw3uJbcHBvzqnay293dimZktO1oAgqjffZP4Cs+DbkYcDmH3vKn4wnnrUPQLxoGQMLjfjJNom9fel27xBVmB8bpow8C/HvELDuH0zrSl2eZ9bJXNdirActL1ddNV9n+UFxPT5yKKsCT64HnOiDFSB6WTYKFVp+SX10hzZOX0tJl1OWv9xXcC5ZEiaDrqL28VPSt38C5fgJpOYl07zvbPYRVcm1mBjVO5Zys8FpmyOEeYpevZWES4y6yDaLvlb0s/DscurzUoPTVlam487KYWoXtNkxA47EHO003EoMJsiMAAEZx2qpTlo1RZQune48gfcp+b3pgx3va2mWg4kgtj8Mp90/Bs0HhWmFDmbRMsSCeQi+70y2vkObJCs20CStsf9VlyCn9rl+h56m3unLzP9VeKq4cMwBPpfKBG4HfvFHginAk8K0zjJjaSUbgvHfBo29Wb5OmeTjqkvAi87/zUX2QFttfPBa9/yiFGLtyzp9lXFOeR3nTxkcDS+VPwSwPnrDBLN7C5CFCXLnik/eadat3eo9q4cRdB29I7/AOtwp6x2NndeQryDTyBR2nuLPHPVmAzgKb7rsEXzwoTyuYHYbHVievOHpq9aoNSf/N43fPQDUHL8sDLNzvcL60nIbziPNIye5r9AyuEMRLshQ54yLh9CI2Yxo1sImMwxwrwaIx1n6oT504ODJwyQrVkKhn4xm527W+yA74gddWNELaMH8nvs4o7Irw+fypuDwmTiWkUJnrZAP/lowZKlxqLu1XkDZyPvrR3PPmWTVz0Q327RIUej184aQV+eDqhQXj5Jvhtupdh8UhNHeIbPzhXutQK0udsr4DakU78utwlD+lV+fb3movfscKHcak3bwo8jI0bWDkDWGAFaCyMqwb7xlXlS5Yu6qHpRDGoaYrD+FulJPjm/tK/WNUHBHgCn1/PJlCE260CjcaZXOkfMzQvONZqfFnDXkaVULQsa1zPWwdL/m6VD8LgNVy2ns0ChOlWgUbjjBkYrBlV6rfkRiESO6CSk4TJecZrHr/9wMZjBZss6wODj7BxPZvHECxfA8Ikh+QppVdXnvquZaTPAPUESZudk0Ox0ecdOR/t8zr/a5UPZPA5LtvAjPXlnMOdVQ4MHCdPbbeM7LLs/BXm5g1gazavlAc17uSaQyUrqSU31md73mpMpScBIZQayNTzg0u65tg5amnO16+wXh5152dtuR80dzmOW8qdQZexK/2eAaR5pdE3reuG9k4qd8m1VpFXdBKguuI40OXc3tTuCp1trHwQwI/LNrIlwICzEjga66ICuWxSRe+NVvlw99r2f+ERv3D7bJ1WYZ6Dg6D3izCEANTXdt5m49K9bAMw0gLvHshbcSLA+TIiigFqCNMfU8nwNW6Qv7a2KDgp3c74ZN23al/p6+ni9GV/eir1w+JrkLALwN1a472DI2D6NpJSCkc71aNbWsvXZlIYMBbfTG/XkR343rDWH+U67aEw3sxzyucHj487vK190Doz9inYtGY8wIskc2N1xy02UJ2uLLs9BZKhpj5/ACRFgS4l68D2tjLrotwYRE4HeBk+EkT6nV3Tficis2sak3Mcgh0xcSaCMQY+fxBkVQlBdcrOAzvaB2ZUGDCOBJk+RIaFybZTceZQzx3h/xWNSdl2Yuc5Pq46sqKCPxgASr+peQ5Sm2f91xVvpzriUmkfOkRmOu0QJjSy2FddW9w7NZIg1SmoqkptAkc4QoytGChjoOk6qIoa+jv6ocgH3z9aaVmKIZZgobRDphNVYcfXVnmvKxDVqmgiRtc1RQZVTa7Uzohj1h4b8pLCiKkr2UQj52yiymi4bAO7GwDGJDIy+36uqDunV52oR4hf9cBoaPSApiUWqEPO2/1Je9EnZvkksNvVcA2+lPFkuEHiqoquyQOy5YuT6YgxfaimhQQy4paYQx0J3dox+G/dGYh+z0mGW3V90tFNc9xeVtTZTQsllYk6BW7ixay9YVL3ZABGkhEmsg1jFHSdAWM6GLsTnFlzCOHpMxvyPZ80C3KWiP7CHNJZUsR5Bxejl+PBdALivOsTg4zZm4LDX+sDDh7Xq9q9rDIo0/MqF8ZXU+/i+t5CK28JNh/Ian30H7bzckgcQS0/B9tK80nrsAruWFmKFRDnXbgZwqRyRWsULe/ap4049LV2cbjMo6/RsOTuYOslZbIlybBeme+5+Q+ubFllCTMCWSI5WV5Mjowcyh0cWEQSXq/EvKJN5lJfp0A+2avV7D2sjVFUlpXs1BBtqP31/t7ukmytOFmbWO00HeWGV3PkA25MuaYmz0Xahw7i9l02nG+ONd3iXuqHplMfZSC79mvD9jTrY2NNl2Q663KA8up8n784WwvdOaf6MEBt4WpXz7+/IqZrjQ2fNgEDwyq4PeNrhS/ttm/K8eOWgRhGsQqHjDVk+x51cjJTJlFnBR7pUz8IusdWSoMStY18X9VRWrQ6x7dtP1p2zWsX0De6hv+4rpo/nLBwyCATLjUz6nPX71QmtLTTGitq5SI7en2d3tkwLcjniFrcQqJwe3eP0PHIyiznUQ9mJP06pIz7YvpEW32fpWZhMj95WX9y2x71AaPoJ5VPNtW2M8fo7vorZK48Ty0k+E3wZ0ybo50278qPBX5tE2/ZKInFL99FmrYuFs8LbmMe4G59mlU3H5V2K1ryC2yqokS25wjSIQOYP0dkWk8A+WMdmKXRxLtOOj4NW0FA/+gR4qhXGvBINFbck+1NTyr3HT6uP2f1NEq3M1baV5bzP3lvge3ZWJh9JkSmLZDfbe/Uv20lmQsFqyifrNv8a/G6eHz6FOae5Szry2b5P6f8NK0vbl0oYoR55OWQ/ReNsI/+850omRLGMLrzWVa8r0Vq8vlZSlvshSZGmI/Lga2Vw8VL/z4PvX1xTJxbBIA7nmGVe1ukTwMSSyty/X+L5bBj17DB4ti/PXj+Ypv04hvdcPbjbPixLmlLQGL/1+9WmxXXKWJbRYE4ZdUv8UAyGEmNmDDQbY2s5NgxeVNXD00qt5IMgf5oU5BL9g4ts1/96gPJF0mnJIzRiUVvMNu2L5S32r36zP7oVLo+igvIv0ZOtN/43A0op4KVsjBh8Ot/JT/s8dKF/RUEptIpo61NQP+AIn7hBwuFP6Rqa7Q3LYxhfNcyVnWkRVnh7dHHm3GeKZvCPO7Tod+y1ceKaJP1mZYwYSczH1Pu8Xbrj/slVpKs40y0czqwrSCXe/zDR22N6eJbIkxo7VnESBOnPdjRo/20v2OebAe6S4r4p+sU/o8X1M+kRH46RibwpifUu0/62dyeXnqpTq37rnWkH45HJddJduc68dU1C4QXLtgf1ok1dOcvY/nubq2h+xSddSpAazWNma50MPAFHgPZWbgv34XvlBfYljY2mP8ZlERTzbKplMiRMZLq/6SOC/hxqj9I62SZGb9ZlafqLEvTwaHrEKqA4DmQOA6CPIcBjsBJhw2bs0Wyy5XFNv7lQeEzq0dGPN7/AzbqsQp/08/PAAAAAElFTkSuQmCC"},"54Vy":function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));n("tkto"),n("pNMO"),n("TeQF"),n("5DmW"),n("FZtP"),n("27RR"),n("4Brf"),n("07d7"),n("0oug"),n("4mDm"),n("PKPk"),n("3bBZ"),n("+2oP"),n("pjDv"),n("mbEz"),n("wCAj"),n("k3Gp");var r=n("kLXV"),o=(n("1vPl"),n("5rEg")),a=(n("8QGh"),n("2fM7")),i=(n("2B1R"),n("sMBO"),n("ma9I"),n("q1tI")),u=n.n(i),c=n("WsrF"),l=(n("XlDN"),n("Nlzp"));function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){u=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=a.a.Option,g=o.a.TextArea,v=/^[\w\u4E00-\u9FA5]{1,30}$/,b=/^[1-9]\d{0,9}$/,h=(c.a.create({name:"form_in_modal-project-add"})((function(e){var t=e.form,n=e.visible,i=e.onCancel,l=e.onOk,s=e.projectId,f=e.projectList,p=t.getFieldDecorator,y=t.validateFieldsAndScroll;return u.a.createElement(r.a,{visible:n,width:600,title:"新增服务",centered:!0,closable:!1,onCancel:i,onOk:function(){y((function(e,t){e||(s&&(t.projectId=s),l(d({},t)))}))},destroyOnClose:!0,maskClosable:!1},u.a.createElement(c.a,{labelCol:{span:4},wrapperCol:{span:20},labelAlign:"left"},u.a.createElement(c.a.Item,{label:"服务名称"},p("name",{rules:[{required:!0,message:"请输入服务名称"},{pattern:v,message:"中英文、数字、下划线，长度不超过30"}],initialValue:""})(u.a.createElement(o.a,{placeholder:"中英文、数字、下划线，长度不超过30"}))),!s&&u.a.createElement(c.a.Item,{label:"所属项目"},p("projectId",{rules:[{required:!0,message:"请选择所属项目"}],initialValue:""})(u.a.createElement(a.a,null,u.a.createElement(m,{value:""},"选择所属项目"),f.map((function(e){var t=e.projectId,n=e.name;return u.a.createElement(m,{value:t,key:t},n)}))))),u.a.createElement(c.a.Item,{label:"服务类型"},p("type",{rules:[{required:!0,message:"请选择服务类型"}],initialValue:""})(u.a.createElement(a.a,null,u.a.createElement(m,{value:""},"选择服务类型"),u.a.createElement(m,{value:"0"},"业务逻辑服务"),u.a.createElement(m,{value:"1"},"数据分析服务")))),u.a.createElement(c.a.Item,{label:"服务描述"},p("desc",{initialValue:""})(u.a.createElement(g,{placeholder:"不超过50个字符",maxLength:50,rows:3})))))})),c.a.create({name:"form_in_modal-project-copy"})((function(e){var t=e.form,n=e.onCancel,a=e.onOk,i=e.visible,l=e.editContent,s=t.getFieldDecorator,f=t.validateFieldsAndScroll,p=l.id,y=l.name,m=l.desc;return u.a.createElement(r.a,{visible:i,width:600,title:-1!==p?"修改":"复制服务",centered:!0,closable:!1,onCancel:n,onOk:function(){f((function(e,t){e||a(d({},t))}))},destroyOnClose:!0,maskClosable:!1},u.a.createElement(c.a,{labelCol:{span:4},wrapperCol:{span:20},labelAlign:"left"},u.a.createElement(c.a.Item,{label:"服务名称"},s("name",{rules:[{required:!0,message:"请输入服务名称"},{pattern:v,message:"中英文、数字、下划线，长度不超过30"}],initialValue:y})(u.a.createElement(o.a,{placeholder:""}))),u.a.createElement(c.a.Item,{label:"服务描述"},s("desc",{initialValue:m})(u.a.createElement(g,{placeholder:"不超过50个字符",maxLength:50,rows:3})))))})),c.a.create({name:"form_in_modal-serve-source"})((function(e){var t=s(Object(i.useState)({}),2),n=t[0],a=t[1],f=e.form,p=e.onCancel,y=e.onOk,m=e.visible,g=e.envdata,v=void 0===g?{}:g,h=e.confirmLoading,O=f.getFieldDecorator,w=f.validateFieldsAndScroll,E=v.actionType,j=v.testEnv,P=v.proEnv,I=v.name,S=v.id,T=n.cpu,C=void 0===T?"":T,D=n.memory,_=void 0===D?"":D,L=n.replicas,k=void 0===L?"":L,R=n.timeout,N=void 0===R?"":R;Object(i.useEffect)((function(){m&&Object(l.c)(l.a.getPublishParam,{serviceId:S,envType:1==E?1:0},{loading:!0}).then((function(e){a(d({},e.data||{}))}))}),[m]);var A="测试环境",M="发布";return 2==E?(A="生产环境",3==P&&(M="启动")):3==j&&(M="启动"),u.a.createElement(r.a,{visible:m,width:600,title:"".concat(A).concat(M,"服务：").concat(I),centered:!0,closable:!1,onCancel:p,onOk:function(){w((function(e,t){if(!e){var n=t.cpu,r=t.memory,o=t.replicas,a=t.timeout,i=n===C&&r===_&&o===k&&a===N;y(d(d({},t),{},{changed:!i}))}}))},destroyOnClose:!0,maskClosable:!1,confirmLoading:h},u.a.createElement("div",{style:{fontSize:"12px"}},"服务运行参数："),u.a.createElement(c.a,{labelCol:{span:10},wrapperCol:{span:10},labelAlign:"right"},u.a.createElement(c.a.Item,{label:"CPU（微核）"},O("cpu",{rules:[{required:!0,message:"请输入CPU核数"},{pattern:b,message:"正整数，不超过10位"}],initialValue:C})(u.a.createElement(o.a,{placeholder:"正整数，不超过10位"}))),u.a.createElement(c.a.Item,{label:"内存（M）"},O("memory",{rules:[{required:!0,message:"请输入内存"},{pattern:b,message:"正整数，不超过10位"}],initialValue:_})(u.a.createElement(o.a,{placeholder:"正整数，不超过10位"}))),u.a.createElement(c.a.Item,{label:"副本数（个）"},O("replicas",{rules:[{required:!0,message:"请输入副本数"},{pattern:b,message:"正整数，不超过10位"}],initialValue:k})(u.a.createElement(o.a,{placeholder:"正整数，不超过10位"}))),u.a.createElement(c.a.Item,{label:"函数超时时长（秒）"},O("timeout",{rules:[{required:!0,message:"请输入超时时长"},{pattern:b,message:"正整数，不超过10位"}],initialValue:N})(u.a.createElement(o.a,{placeholder:"正整数，不超过10位"})))))})))},"55Ip":function(e,t,n){e.exports=n("WUjv")(71)},"8oxB":function(e,t,n){e.exports=n("WUjv")(81)},ANjH:function(e,t,n){e.exports=n("WUjv")(65)},Bffz:function(e,t,n){"use strict";n.d(t,"b",(function(){return r}));n("FZtP"),n("tkto"),n("yq1k");var r="/v5/web/open",o="/v4/web/tencentcloud/upload";"open.clife.cn"!=window.location.hostname&&"cms.clife.cn"!=window.location.hostname||(o="https://cms.clife.cn/v4/web/tencentcloud/upload");var a="?version=1.1",i=["upFileUrl"],u={upFileUrl:o,loginCheck:"/common/admin/loginCheck",logout:"/common/admin/logout",verifyCodeUrl:"/common/admin/getImgVeriCode",register:"/public/account/register",registerConfirm:"/public/account/registerConfirm",resendRegisterEmail:"/public/account/resendRegisterEmail",resetPassword:"/public/account/resetPassword",subResetPassword:"/reset/sub/resetPwd",forgetPasswordAuth:"/reset/forget/auth",resendForgetPasswordEmail:"/reset/forget/resendEmail",resetAuth:"/reset/auth",authConfirm:"/reset/authConfirm",resetEmail:"/reset/resetEmail",resetEmailConfirm:"/reset/emailConfirm",setPassword:"/reset/setPassword",getDeveloperInfo:"/developer/getDeveloperInfo",upDeveloperInfo:"/developer/updateInfo",getRightsOneself:"/rights/getRightsOneself",cancelAccount:"/developer/cancelAccount",withdraw:"/developer/withdraw",getProductList:"/product/listAllProductAndAccreditInfo",copyProduct:"/product/copy",delectProduct:"/product/deleteProduct",getProductBaseInfo:"/product/getProduct",updateProductBaseInfo:"/product/update",getProtocolTemplates:"/protoManage/getProtocolTemplatesByProductId",addProtocolTemplates:"/protoManage/saveProtocolTemplates",getProtocolList:"/productProtocol/getProtocolListByProductId",saveProtocol:"/productProtocol/saveProtocol",delProtocol:"/protoManage/delProtocol",exportProtocol:"//protoManage/exportProtocolToJson",getProtocolDictionaryCommonList:"/protoManage/getProtocolDictionaryCommonList",searchProtocolDictionary:"/protoManage/searchProtocolDictionary",getSubjectMenu:"/protoManage/getSubjectMenu",getSubjectExtendMenu:"/protoManage/getSubjectExtendMenu",getFunctionMenu:"/protoManage/getFunctionMenu",getFunctionExtendMenu:"/protoManage/getFunctionExtendMenu",getTsl:"/tsl/getTSL",exportTsl:"/tsl/export",saveNoProductId:"/thing/label/saveNoProductId",getConfigSteps:"/product/getConfigSteps",saveConfigSteps:"/product/saveConfigSteps",getH5Pages:"/projectManage/getProjectPage",getTemplateMarket:"/h5/template/getTemplateMarket",getTemplateBaseInfo:"/h5/template/getTemplateBaseInfo",getTemplateAnalysis:"/h5/template/getAnalysis",useAppPanelTemplate:"/projectManage/useAppPanelTemplate",saveProject:"/projectManage/saveProject",delProject:"/projectManage/delProject",copyProject:"/projectManage/copyProject",getAppsByProductId:"/projectManage/getAppsByProductId",getFormalPubHistory:"/projectManage/getFormalPubHistory",getGreyPubHistory:"/projectManage/getGreyPubHistory",garyUpdate:"/projectManage/garyUpdate",formalUpdate:"/projectManage/formalUpdate",offlineUiDesign:"/projectManage/offlineUiDesign",cancelGrayUpdate:"/projectManage/cancelGrayUpdate",netWorkDelete:"/device/netWorkLogo/delete",netWorkAddAndUpdate:"/device/netWorkLogo/addAndUpdate",getLinkConfiguration:"/device/netWorkLogo/getDetail",getLinkHelpImg:"/product/help/get",saveLinkHelpImg:"/product/help/save",getTimeServiceList:"/timerService/getList",updateTimeService:"/timerService/update",getTimeService:"/timerService/get",saveTimeService:"/timerService/save",getSceneFunctionList:"/scene/getSceneFunctionList",addBatchSceneFunction:"/scene/addBatchSceneFunction",addOrUpdateSingleCondition:"/scene/addOrUpdateSingleCondition",addCustomAction:"/scene/addCustomAction",updateSceneFunction:"/scene/updateSceneFunction",deleteSceneFunctionById:"/scene/deleteSceneFunctionById",auditBatchSceneFunction:"/scene/auditBatchSceneFunction",getAuditRecord:"/scene/getAuditRecord",queryServerConfig:"/device/debug/queryServerConfig",productIdentifier:"/product/getProductIdentifier",accessToken:"/device/debug/getAccessToken",dataTypeList:"/device/debug/getDataTypeList",propertyConfig:"/device/debug/getPropertyConfig_v1.1",deviceDebugAccountGetList:"/device/debug/account/getList",deviceDebugAccountInsert:"/device/debug/account/insert",deviceDebugAccountDelete:"/device/debug/account/delete",deviceDebugMacGetList:"/device/debug/mac/getList",deviceDebugMacInsert:"/device/debug/mac/insert",deviceDebugMacDelete:"/device/debug/mac/delete",upgradeDebug:"/device/debug/upgradeDebug",debugSecretList:"/device/debug/mac/debugSecretList",addDebugMac:"/device/debug/mac/addDebugMac",delDebugMac:"/device/debug/mac/delDebugMac",getApiList:"/apiInfo/getOpenApiList",getDimensionList:"/dimension/getDimensionList",getMethodList:"/stats/customApi/getMethodList",getMethodLimit:"/stats/customApi/getMethodLimit",getMethodProductList:"/stats/singleMonitor/behavior/getProductList",getProtocolListByProductId:"/protoManage/getProtocolListByProductId",addMethod:"/stats/customApi/addMethod",getMethodDetail:"/stats/customApi/getMethodDeail",delMethod:"/stats/customApi/delMethod",getCatalogList:"/product/getCatalogList",productBaseTypeList:"/product/baseType/list",addProduct:"/product/addProduct",moduleBrandList:"/product/moduleBrand/list",getModuleList:"/product/getModuleList",mcuCodeCheck:"/protoManage/mcuCodeCheck",mcuCodeExport:"/protoManage/mcuCodeExport",saveModule:"/product/saveModule",getModuleInfo:"/product/getModuleInfo",versionList:"/device/version/list",getAllDeviceVersionType:"/device/version/getAllDeviceVersionType",getAllFirmwareVersionType:"/device/version/getAllFirmwareVersionType",versionAdd:"/device/version/add",versionDelete:"/device/version/delete",versionCheckMac:"/device/version/checkMac",versionValidate:"/device/version/validate",versionPublish:"/device/version/publish",saveCommerceInfo:"/product/saveCommerceInfo",productPublishAdd:"/productPublish/add",getCommerceInfo:"/product/getCommerceInfo",getPublishProductInfo:"/product/getPublishProductInfo",getProductLabelList:"/label/getList",getProductLabelBaseList:"/label/getDownList",addProductLabel:"/label/add",updateProductLabel:"/label/update",delProductLabel:"/label/delete",getThingLabelList:"/thing/label/getList",getUserProduct:"/deviceInfo/getProduct",getDeviceStat:"/deviceInfo/deviceStat",getDeviceList:"/deviceInfo/getDeviveList",getDeviceInfo:"/deviceInfo/get",getDeviceLabelList:"/deviceLabel/getList",getLabelBaseList:"/deviceLabel/getDownList",addDeviceLabel:"/deviceLabel/add",updateDeviceLabel:"/deviceLabel/update",deleteDeviceLabel:"/deviceLabel/delete",exportDeviceList:"/deviceV5/export",getChildlist:"/public/account/getChildlist",freezeChild:"/public/account/freezeChild",unfreezeChild:"/public/account/unfreezeChild",deleteChild:"/public/account/deleteChild",getRoleList:"/role/getRoleList",addMultiChild:"/public/account/addMultiChild",updateChild:"/public/account/updateChild",getChildWithSecret:"/public/account/getChildWithSecret",getRights:"/rights/getRights",getRolePage:"/role/getRolePage",deleteRole:"/role/deleteRole",getGroupMenuList:"/rolePlus/getGroupMenuList",saveRole:"/rolePlus/saveRole",getProvince:"/stats/analysis/getProvince",getCityByProvinceId:"/stats/analysis/getCityByProvinceId",getDataSubscriptionList:"/data/push/config/getList",getCurSubscription:"/data/push/config/getByUrlConfId",stopCurSubscription:"/data/push/config/stop"+a,enabledCurSubscription:"/data/push/config/enabled"+a,getProductByDeveloperId:"/data/push/config/getProductByDeveloperId",getLabelByProductId:"/data/push/config/getLabelByProductId",createSubscription:"/data/push/config/create"+a,saveSubscription:"/data/push/config/save"+a,getApplicationList:"/devapp/getAppList",saveAppBaseInfo:"/devapp/saveAppBaseInfo"+a,saveMiniProgramsInfo:"/devapp/saveMiniProgramsInfo"+a,deleteRelationProduct:"/devapp/deleteRelaProduct"+a,deleteAppVersion:"/devapp/version/delete"+a,getAppInfo:"/devapp/getAppInfo",updateRelaProduct:"/devapp/updateRelaProduct"+a,deleteApp:"/devapp/delete"+a,createAppVersion:"/devapp/version/add"+a,getAppVersionDetail:"/devapp/version/get",getRelaProducts:"/devapp/getRelaProducts",getVersionList:"/devapp/getList",getDevProductList:"/devapp/getDevProductList",getOperateLogList:"/operate/log/getList",getNoticeList:"/systemNotice/getNoticeList",getNoticeDetail:"/systemNotice/getNoticeDetail",setRead:"/systemNotice/setRead",getUnreadQuantity:"/systemNotice/getUnreadQuantity",getJsContent:"/protoManage/getJsProtoScript",sumbitJsContent:"/protoManage/saveJsProtoScript",getStatisticsData:"/device/register/statistics",getDeviceRegisterList:"/device/register/list",registerImport:"/device/register/import",getStatistics:"/device/register/senior/statistics",getSeniorDeviceList:"/device/register/senior/list",getDeviceWarningTotal:"/warning/info/total",getWarningList:"/warning/info/getList",saveWarningConfig:"/warning/rule/add",getWarningConfigLi:"/warning/rule/getList",delWarningConfig:"/warning/rule/delete",startWarningConfigLi:"/warning/rule/startRule",stopWarningConfig:"/warning/rule/stopRule",getWarningConfigDetail:"/warning/rule/get",getWarningInfo:"/warning/info/get",dealWithWarning:"/warning/info/deal",reflushWarningDeviceIds:"/warning/info/flush",getRomoteConfigListByProduct:"/remote/config/product/task/getPage",saveRomoteConfig:"/remote/config/product/task/save",submitRomoteConfig:"/remote/config/product/task/submit",deleteRomoteConfig:"/remote/config/product/task/delete",getAllDeviceInfo:"/remote/config/product/device/getAllDeviceInfoPage",getDeviceInfoByIdOrMacAddress:"/remote/config/product/device/getDeviceInfoByIdOrMacAddress",downloadRemoteDeviceTemplateExcel:"/remote/config/product/device/downloadExcel",importRemoteDeviceExcel:"/remote/config/product/device/importExcel",getRemoteDetail:"/remote/config/product/task/get",getResultTotal:"/remote/config/product/task/getResultTotal",getDeviceResultList:"/remote/config/product/task/getResultPager",retryByTaskId:"/remote/config/product/task/retry",batchRetry:"/remote/config/product/task/batchRetry",exportTaskResult:"/remote/config/product/task/exportResult",getReceiveMsg:"/remote/config/product/task/getReceiveMsg",getRomoteConfigListForDevice:"/remote/config/device/task/getPage",getRemoteDetailForDevice:"/remote/config/device/task/get",saveRomoteConfigForDevice:"/remote/config/device/task/saveAndSubmit",retryByTaskIdForDevice:"/remote/config/device/task/retry",getReceiveMsgForDevice:"/remote/config/device/task/getReceiveMsg",getCaseList:"/instance/getList",getCasePageList:"/instance/getPage",updateCaseStatus:"/instance/updateStatus",addCase:"/instance/add",applySource:"/instance/update",getAuthorizeList:"/auth/getList",deleAuthorize:"/auth/deleteAuth",getAuthList:"/auth/authList",addAuthorize:"/auth/add",getDownProduct:"/project/device/getDownProduct",getAuthorServeList:"/serve/getServerList",getDataAssetsList:"/data/assets/getList",getDataAssetsListAuth:"/data/assets/getAssetsList",addDataAssets:"/data/assets/add",delDataAssets:"/data/assets/delete",updateDataAssets:"/data/assets/update",getInfoDataAssets:"/data/assets/get",testDataAssets:"/data/assets/test",getGroupList:"/group/getList",getGroupListAuth:"/group/getGroupList",updateGroup:"/group/addOrUpdate",deleteGroup:"/group/delete",getGroupDetail:"/group/get",getGroupDeviceList:"/group/getDeviceList",addGroupDevice:"/group/relaDevice",getGroupSlctDev:"/group/getRelaList",delGroupDevice:"/group/deleteRela",getCreateProduct:"/prod/getCreateProduct",getProjectList:"/project/getList",addProject:"/project/add",updateProject:"/project/update",deleteProject:"/project/delete",getProductInProject:"/prod/getProduct",getRelaProduct:"/prod/getRelaProduct",getRelaDevice:"/project/device/getRelaDevice",getDeviceInProject:"/project/device/getDevice",getServeList:"/serve/getList",serveAdd:"/serve/add",serveCopy:"/serveOpe/duplicate",serveDelete:"/serve/delete",servePublish:"/serveOpe/publish",serveInvoke:"/serveOpe/invoke",serveCallExplain:"/serveOpe/callExplain",getAllRelatedProduct:"/project/device/getDownProduct",getAllRelatedDevice:"/project/device/getRelatedDevice",unrelaProduct:"/prod/unrelaProduct",unrelaDevice:"/project/device/unrelaDevice",relaProduct:"/prod/relaProduct",relaDevice:"/project/device/relaDevice",addDevice:"/project/device/addDevice",getServiceLog:"/serveOpe/getServiceLog",getFlowData:"/serveOpe/editFlow",saveFlowData:"/serveOpe/saveFlow",getDataAnlzType:"/serveOpe/getDataAnlzType",getInvokeUrl:"/serveOpe/getInvokeUrl",parserSql:"/dataAccess/parserSql",getServeStatu:"/serve/get",getDownTbTreeByDs:"/dataAccess/getDownTbTreeByDs",getPublishParam:"/serveOpe/getPublishParam",updateServe:"/serve/update",sqlTestTslData:"/dataoperate/search/tslData",getProLogicTreeData:"/dataoperate/search/struct/product",sqlTestProductData:"/dataoperate/search/data/product",downTslHistory:"/dataoperate/search/download/history",addTslHistory:"/dataoperate/search/dataDownload",getDownDevice:"/project/device/getDevice",getDownPropEvent:"/device5/getDownPropEvent",getDownDatasource:"/data/assets/getDownDatasource",getDownTableByDatasource:"/dataAccess/getDownTableByDatasource",getDownFieldsByDatasourceTable:"/dataAccess/getDownFieldsByDatasourceTable",getDownEventList:"/device5/getDownEventList",getDataTransferList:"/transfer/getList",delOneTransfer:"/transfer/delete",saveTransfer:"/transfer/save",getDataTransfer:"/transfer/get",getTransferMenuList:"/transfer/getMenuList",getTransferDataTable:"/transfer/getTableInfo",checkSqlTransfer:"/transfer/checkSQL",getRocketMQTopicList:"/transfer/getRocketMQTopicList",geMonitorList:"/monitor/list",startMonitor:"/monitor/start",stopMonitor:"/monitor/stop",deleteMonitor:"/monitor/delete",addMonitor:"/monitor/add",updateMonitor:"/monitor/update",getMonitor:"/monitor/get",getTransfer4Monitor:"/transfer/getTransferList4Monitor",otaDevVersionList:"/device/version/5/getList",otaGetExtVersion:"/device/version/5/getExtVersion",otaAddVersion:"/device/version/5/add",otaImportMac:"/device/version/5/importMac",otaValidate:"/device/version/5/validate",otaDeleteVer:"/device/version/5/delete",otaRelease:"/device/version/5/publish",otaGetBatch:"/device/version/5/publish/getBatch",otaGetVersionDetail:"/device/version/5/version/get",otaGetBatchDevice:"/device/version/5/publish/get",otaGetBatchInfo:"/device/version/5/publish/getBatchInfo",otaCancelDevicePub:"/device/version/5/publish/cancel",otaValiGetinfo:"/device/version/5/validate/getInfo"};Object.keys(u).forEach((function(e){i.includes(e)||(u[e]=r+u[e])})),t.a=u},CS2L:function(e,t,n){"use strict";n.d(t,"H",(function(){return r})),n.d(t,"F",(function(){return o})),n.d(t,"G",(function(){return a})),n.d(t,"I",(function(){return i})),n.d(t,"D",(function(){return u})),n.d(t,"E",(function(){return c})),n.d(t,"C",(function(){return l})),n.d(t,"J",(function(){return s})),n.d(t,"j",(function(){return f})),n.d(t,"K",(function(){return p})),n.d(t,"A",(function(){return d})),n.d(t,"s",(function(){return y})),n.d(t,"i",(function(){return m})),n.d(t,"r",(function(){return g})),n.d(t,"k",(function(){return v})),n.d(t,"b",(function(){return b})),n.d(t,"l",(function(){return h})),n.d(t,"m",(function(){return O})),n.d(t,"a",(function(){return w})),n.d(t,"t",(function(){return E})),n.d(t,"u",(function(){return j})),n.d(t,"e",(function(){return P})),n.d(t,"f",(function(){return I})),n.d(t,"g",(function(){return S})),n.d(t,"h",(function(){return T})),n.d(t,"n",(function(){return C})),n.d(t,"q",(function(){return D})),n.d(t,"B",(function(){return _})),n.d(t,"w",(function(){return L})),n.d(t,"z",(function(){return k})),n.d(t,"y",(function(){return R})),n.d(t,"x",(function(){return N})),n.d(t,"c",(function(){return A})),n.d(t,"v",(function(){return M})),n.d(t,"d",(function(){return x})),n.d(t,"p",(function(){return V})),n.d(t,"o",(function(){return B}));var r="UPDATE_PRODUCT_LIST",o="GET_PRODUCT_BASE_INFO",a="UPDATE_PRODUCT_BASE_INFO_DETAIL",i="UPDATE_PRODUCT_PROTOCOL_LISTS",u="UPDATE_CONFIG_STEPS",c="UPDATE_H5MANAGE_PAGES",l="UPDATE_APPS_BY_PRODUCTID",s="UPDATE_TIME_SERVICE_LIST",f="DEVICE_ADN_WS",p="WEBSOCKET_MESSAGE",d="TOKEN",y="RESET_DATA",m="DATA_TYPE_LIST",g="PROPERTY_CONFIG",v="DEVICE_DEBUG_ACCOUNT_GRT_LIST",b="CHANGE_DEVICE_DEBUG_MAC_DATA",h="DEVICE_DEBUG_MAC_LIST",O="EDIT_DEVICE_DEBUG_MAC_DATA",w="ADD_DEVICE_DEBUG_MAC_LIST",E="SELECTED_DATA_1",j="SELECTED_DATA_2",P="CLEAR_EXCEPTION_1",I="CLEAR_EXCEPTION_2",S="COLAR_DEV_DATA1",T="COLAR_DEV_DATA2",C="GET_CATALOG_LIST",D="PRODUCT_BASE_TYPE_LIST",_="TRIGGER_DEBUGGER_MODAL",L="SET_JS_CONTENT",k="hardware/SWITCH_TAB",R="hardware/SET_MODULE_LIST",N="hardware/SET_MODULE_ITEM",A="hardware/CHANGE_MODULE",M="hardware/SET_HARDWARE_TYPE",x="hardware/CHANGE_PRODUCT_INFO",V="hardware/MODIFY_COM_FREQ",B="hardware/MCU_CODE_CHECK"},CpnY:function(e,t,n){"use strict";n.d(t,"b",(function(){return _})),n.d(t,"c",(function(){return L}));n("NBAS"),n("SuFq"),n("pNMO"),n("4Brf"),n("07d7"),n("0oug"),n("4mDm"),n("PKPk"),n("3bBZ"),n("1vPl");var r=n("5rEg"),o=(n("Aosp"),n("diRs")),a=(n("AUBz"),n("ZTPi")),i=(n("sMBO"),n("FZtP"),n("tkto"),n("2B1R"),n("q1tI")),u=n.n(i),c=n("Lyp1"),l=n("WsrF"),s=(n("XlDN"),n("LgsE")),f=n("V0bm"),p=n("kEWA"),d=n("OIuG");function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O(e);if(t){var o=O(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h(this,n)}}function h(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(a,e);var t,n,r,o=b(a);function a(){return m(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){var e=this.props.data||{},t=e.code,n=e.data,r=this.props.nodeItem.configuration.name,o=t===p.b.Success,a='"'.concat(r,'"日志'),i=o?void 0:"draw-debug-error";return u.a.createElement("div",{className:"draw-debug"},u.a.createElement("span",null,a),o?u.a.createElement(d.a,{keyName:r,data:n}):u.a.createElement(u.a.Fragment,null,u.a.createElement("br",null),u.a.createElement("span",{className:i},n+"")))}}])&&g(t.prototype,n),r&&g(t,r),a}(i.Component);function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=T(e);if(t){var o=T(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return S(this,n)}}function S(e,t){return!t||"object"!==E(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var C,D=a.a.TabPane;!function(e){e.CONFIG="0",e.LOG="1"}(C||(C={}));var _={layout:"vertical",labelCol:{xs:{span:24},sm:{span:24}},wrapperCol:{xs:{span:24},sm:{span:24}}},L=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return u.a.createElement(u.a.Fragment,null,e,t?u.a.createElement(o.a,{content:t,overlayClassName:"draw-popover"},u.a.createElement(c.a,null)):null,n||null)},k=L(s.a.nameStr,s.a.nameExplain),R={},N=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}(c,e);var t,n,o,i=I(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=i.call(this,e)).animated={inkBar:!0,tabPane:!1},t.tab=function(e){return t.setState({tab:e})},t.itemError=!1,t.state={tab:C.CONFIG},t}return t=c,(n=[{key:"componentDidMount",value:function(){var e=this.props,t=e.form,n=e.nodeItem,r=n.id,o=n.isError;R[r]&&t.setFields(R[r]),this.itemError=o,o&&t.validateFields()}},{key:"componentDidUpdate",value:function(){var e=this.props,t=e.form,n=e.nodeItem,r=n.isError,o=n.configuration.name;r!==this.itemError&&(this.itemError=r,r&&t.validateFields()),o!==t.getFieldValue("name")&&t.setFieldsValue({name:o})}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.form,n=e.nodeItem.id,r=t.getFieldsError(),o=!1,a={};Object.keys(r).forEach((function(e){r[e]&&(o=!0,a[e]={errors:(r[e]||[]).map((function(t){return{field:e,message:t}}))})})),R[n]=o?a:void 0}},{key:"render",value:function(){var e=this.state.tab,t=this.props,n=t.readonly,o=t.render,i=t.form,c=t.nodeItem,p=t.log,d=t.debuggedMap,y=c.id,m=c.nodeType,g=c.configuration.name,v=i.getFieldDecorator,b=f.a[m].apiDocumentLink,h=b?u.a.createElement("div",{className:"draw-del"},u.a.createElement("a",{href:b,target:"_blank",rel:"noreferrer",className:"draw-use-node"},s.a.nameMore)):null,O=d[y]?p||u.a.createElement(w,{nodeItem:c,data:d[y]}):null;return u.a.createElement("div",{className:"draw-config-inner"},u.a.createElement(a.a,{activeKey:e,animated:this.animated,onChange:this.tab},u.a.createElement(D,{tab:"节点配置",key:C.CONFIG},u.a.createElement(l.a,_,u.a.createElement(l.a.Item,{label:k},h,v("name",{initialValue:g,rules:s.a.name()})(u.a.createElement(r.a,{placeholder:"请输入"+s.a.nameStr,disabled:n}))),o(i))),u.a.createElement(D,{tab:"节点日志",key:C.LOG},O||u.a.createElement("p",null,"暂无日志"))))}}])&&j(t.prototype,n),o&&j(t,o),c}(i.Component);t.a=l.a.create({name:"BaseConfiguration",onValuesChange:function(e,t,n){var r=e.nodeItem.id,o=e.changeNodeConfiguration;console.log(888888,r,t);var a=!1,i={};Object.keys(t).forEach((function(e){/^__.*__$/.test(e)||(a=!0,i[e]=t[e])})),a&&o(r,i)}})(N)},"F6+i":function(e,t,n){},Hglc:function(e,t,n){},J76n:function(e,t,n){"use strict";n("2B1R"),n("oVuX"),n("FZtP"),n("x0AG"),n("pNMO"),n("4Brf"),n("07d7"),n("0oug"),n("4mDm"),n("PKPk"),n("3bBZ"),n("pjDv"),n("+2oP"),n("sMBO");var r=n("a+Kn"),o=n("V0bm"),a=n("gtRY");function i(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var c=document,l=window,s=new function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.wrap=void 0,this.inner=void 0,this.svg=void 0,this.width=void 0,this.height=void 0,this.logMaxHeight=c.documentElement.clientHeight-o.o-o.g,this.viewMinWidth=0,this.viewMinHeight=0,this.init=function(e,n,r){t.setDom(e,n,r),t.wrap&&(t.initWH(),t.bindResize())},this.setDom=function(e,n,r){t.wrap=c.getElementById(e),t.inner=c.getElementById(n),t.svg=c.getElementById(r)},this.initWH=function(){if(t.wrap){t.width=t.wrap.offsetWidth+20,t.height=t.wrap.offsetHeight+20,t.logMaxHeight=c.documentElement.clientHeight-o.o-o.g;var e=t.svg,n=t.inner,r=t.width,a=t.height,i=t.viewMinWidth,u=t.viewMinHeight;if(e&&n){var l=Math.max(r,i)+"px",s=Math.max(a,u)+"px";e.setAttribute("height",s),n.style.width=l,n.style.height=s}}},this.checkMin=function(e){var n=Math.max.apply(Math,i(e.map((function(e){return e.x}))))+o.l,r=Math.max.apply(Math,i(e.map((function(e){var t=e.y,n=e.configuration.output.length;return t+(n<=1?32:18*n)}))));t.viewMinWidth=n,t.viewMinHeight=r,t.initWH()},this.bindResize=function(){r.a.addEvent(l,"resize",t.checkSize)},this.checkSize=function(){t.svg&&t.initWH()},this.countPath=function(e,n){var r=e,o=n||e;return t.getLineString(r,o)},this.getLineString=function(e,n){var r=["M"+e.x,e.y].join(" "),o=t.getCenterPoint(e,n),a=t.getQPoint(e,o);return r+=["Q"+a.x,a.y,o.x,o.y].join(" "),r+=["T"+n.x,n.y].join(" ")},this.getCenterPoint=function(e,t){return{x:(e.x+t.x)/2,y:(e.y+t.y)/2}},this.getQPoint=function(e,t){e.x;return{x:e.x<=t.x?(e.x+t.x)/2+(t.x-e.x)/10:e.x+3*Math.abs(e.x-t.x)/5,y:e.y}},this.checkLine=function(e,n,r,o){var a=e.entryId,i=e.pOutputId,u=e.configuration.output,c=e.pIdpOutputIdSpare;i&&a&&t.resetLine(o[i],n),c.length>0&&c.forEach((function(e){t.resetLine(o[e[1]],n)})),u.forEach((function(e){var r=e.id;e.connectEntryId&&t.resetLine(o[r],n)}))},this.resetLine=function(e,n){var r=e.id,i=e.outputId,u=e.toId;if(u){var c=n[r],l=c.x,s=c.y,f=c.configuration.output,p=Object(a.u)(n[r]),d=f.length,y=f.findIndex((function(e){return e.id===i}));e.startPoint={x:l+o.m,y:1===d?s+p/2:s+18*y+2.5+6.5},e.path=t.countPath(e.startPoint,Object(o.i)(n[u]))}}};t.a=s},JPcv:function(e,t,n){e.exports=n("WUjv")(26)},JX7q:function(e,t,n){e.exports=n("WUjv")(34)},LgsE:function(e,t,n){"use strict";n("TWNs"),n("rB9j"),n("JfAA");var r=function(e){return{required:!0,message:e+"不能为空"}},o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50;return{pattern:new RegExp("^.{"+e+","+t+"}$"),message:"长度为"+(t?e+"~"+t:"最少"+e)+"个字符"}},a=function(e,t){return{pattern:e,message:t}},i=/^[a-zA-Z0-9\-()_\u4e00-\u9fa5]{1,30}$/,u=/^[a-zA-Z][\w_]{0,49}$/,c=/^(\/?[\w_]+)*$/,l=/https?:\/\/[-A-Za-z0-9+&@#/%?=~_|!:,.;]+[-A-Za-z0-9+&@#/%=~_|]/,s=/^[0-9]{1,30}$/,f={nameStr:"节点名称",nameMore:"如何使用该节点？",nameExplain:"支持中英文、数字、特殊字符_-()，长度不超过30个字符",nameTest:i,isRequire:r,checkRules:a,name:function(){return[r("节点名称"),a(i,"支持中英文、数字、特殊字符_-()，长度不超过30个字符")]},paramExplain:"仅支持字母大小写、数字、下划线，必须以字母开头，长度不超过50个字符",param:function(e){return[r(e),a(u,"仅支持字母大小写、数字、下划线，必须以字母开头，长度不超过50个字符")]},actionExplain:"使用SDK调用时作为API的参数“action”进行调用。使用Web或移动工作台调用的时候无需在相关工作台输入该参数。请求path长度为2~50个字符，只支持字母数字下划线斜线，不能以斜线结尾",action:function(e){return[r(e),o(2,50),a(c,"只支持字母数字下划线斜线，不能以斜线结尾")]},urlExplain:"请输入URL地址，如：https://www.example.com",urlTest:l,url:[r("后端请求地址"),a(l,"请输入正确的URL格式")],isInt:function(e){return[r(e),a(s,"请输入非负整数")]},isIntNotRequire:function(){return[a(s,"请输入非负整数")]}};t.a=f},MKeS:function(e,t,n){e.exports=n("WUjv")(94)},MgzW:function(e,t,n){e.exports=n("WUjv")(35)},Nlzp:function(e,t,n){"use strict";n.d(t,"a",(function(){return r.a})),n.d(t,"c",(function(){return P})),n.d(t,"d",(function(){return I})),n.d(t,"b",(function(){return u.a}));var r=n("Bffz"),o=n("BkRI"),a=n.n(o),i=(n("TeQF"),n("pNMO"),n("4Brf"),n("yq1k"),n("07d7"),n("5s+n"),n("ma9I"),n("zKZe"),n("tkto"),n("5DmW"),n("FZtP"),n("27RR"),n("vDqi")),u=n.n(i),c=n("P2RN"),l=n("Qyje"),s=n.n(l),f=n("DgvE"),p=n("Q2AE"),d=n("vS40"),y=n("+VSf");function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=[],h=[],O=u.a.create({method:"get",timeout:3e4,headers:{"Content-Type":"application/x-www-form-urlencoded","X-Requested-With":"XMLHttpRequest"},transformRequest:function(e,t){return t["Content-Type"].indexOf("application/x-www-form-urlencoded")>-1?s.a.stringify(e):e}});function w(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};0===(b=b.filter((function(t){return t!==e.url}))).length&&p.a.dispatch(Object(y.a)(!1))}function E(e){var t=e.type,n=void 0===t?"warn":t,r=e.message,o=void 0===r?"请求异常":r,a=e.description,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};h.includes(i.url)?h.filter((function(e){return e!==i.url})):Object(c.a)({type:n,message:o,description:a})}function j(e){var t=a()(e),n=t,r=n.method,o=void 0===r?"get":r,i=n.needVersion,u=n.needFormData,c=n.needJson,l=n.loading,s=n.noNotification,d=n.url,m=n.data;l&&(0===b.length&&p.a.dispatch(Object(y.a)(!0)),b.push(d)),s&&h.push(d),delete t.loading;var g="get"===o?"params":"data";if(i&&(t[g].version=i),delete t.needVersion,t.noInstance&&(delete t[g].superInstanceId,delete t.noInstance),"get"===o&&delete t.data,"post"===o&&u){var v=Object(f.l)(m);t=Object.assign(t,{data:v,headers:{"Content-Type":"multipart/form-data"}})}if(delete t.needFormData,"post"===o&&c){var w=JSON.stringify(m);t=Object.assign(t,{data:w,headers:{"Content-Type":"application/json"}})}return delete t.needJson,O(t)}function P(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return t.superInstanceId||(t.superInstanceId=localStorage.getItem("superInstanceId")),j(g(g({url:e,params:t},n),r))}function I(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return t.superInstanceId||(t.superInstanceId=localStorage.getItem("superInstanceId")),j(g(g({url:e,method:"post",data:t},n),r))}O.interceptors.request.use((function(e){return e}),(function(e){return Promise.reject(e)})),O.interceptors.response.use((function(e){var t=e.data,n=e.status,r=e.statusText,o=e.config;if(w(o),t){var a=t.code,i=t.msg;return void 0!==a&&0!==a?(100010110===a?p.a.dispatch(Object(d.a)(!0)):E({description:i},o),Promise.reject(t)):t}return E({type:"error"},o),Promise.reject({status:n,statusText:r})}),(function(e){var t=e.response,n=e.config,r=null;if(w(n),t&&t.data){var o=t.data,a=o.code,i=o.msg;a&&i&&(r="code : ".concat(a," ; msg : ").concat(i))}return E({type:"error",message:"请求失败",description:r||"请稍后重试！"},n),Promise.reject(e)}))},Q2AE:function(e,t,n){"use strict";var r=n("ANjH"),o=n("sINF"),a=n("0R0V"),i=(n("tkto"),n("pNMO"),n("TeQF"),n("5DmW"),n("FZtP"),n("27RR"),n("JPcv")),u=n("CS2L");function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=Object(i.fromJS)({productList:{list:[],pager:{}},productBaseInfo:{},productProtocolLists:[],productConfigSteps:[],productH5Pages:{},appsByProductId:[],timeServiceList:[],optionsList:{},productBaseTypeList:{},visibleDebugger:!1,jsContent:"",tabIndex:1,moduleList:[],hardwareType:null,moduleItem:{},commFreq:10,mcuCodeCheck:!1}),p=Object(i.fromJS)({deviceAndWs:{wsUrl:{data:{}},productInfo:{data:{}},token:{data:{}}},websocketMessage:{devData:[],devData2:[],deviceDebuggerException:"",deviceDebuggerException2:"",onlineDevice:{}},dataTypeList:{data:[]},propertyConfig:{},deviceDebugAccountList:{data:[]},deviceDebugMacList:{data:[]},selectedData1:{},selectedData2:{}}),d=(n("dL2e"),n("Ytl9"),n("2ZBQ")),y=Object(i.fromJS)({productList:[],deviceStat:{},deviceList:{},deviceLabel:{list:[],pager:{}},deviceLabelBase:[],defaultLabel:[],freshStatu:!0}),m=(n("+IdD"),n("3L+O")),g=Object(i.fromJS)({loginModalStatu:!1,developerInfo:{},menulist:{navMenu:[],userMenu:[{}]},instanceList:[]}),v=(n("vS40"),Object(i.fromJS)({curDataDimension:{},apiList:[],pager:{}})),b=(n("Nlzp"),n("fbCW"),"customMethod/GET_API"),h=Object(i.fromJS)({methodList:[],MethodNums:{},pager:{},curApi:{},productList:[],protocolList:[],bindType:null}),O=function(e,t){return e.get("productList").toJS().find((function(e,n){return e.productId===t.productId})).bindType},w=n("rvMJ"),E=n("hGlg"),j=Object(i.fromJS)({newMessageNums:{}}),P=(n("d8kt"),n("4Brf"),n("07d7"),n("0oug"),n("4mDm"),n("PKPk"),n("3bBZ"),n("pjDv"),n("+2oP"),n("sMBO"),n("8/o9"),n("tsqr")),I=(n("ma9I"),n("x0AG"),n("pDQq"),n("b9dg")),S=n("kEWA"),T=n("V0bm"),C=n("J76n"),D=n("gtRY"),_=n("Z5S8");function L(e){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){u=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw o}}return a}(e,t)||x(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){A(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function M(e){return function(e){if(Array.isArray(e))return V(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||x(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){if(e){if("string"==typeof e)return V(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?V(e,t):void 0}}function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var B={show:!1,type:S.e.NULL,id:null,x:0,y:0},F={isLoading:!1,isError:!1,list:[]},q=function(e){var t={nodeList:e.nodeList,lineList:e.lineList,chooseId:e.chooseId},n=M(e.stackHistory);return n.push(JSON.stringify(t)),n},U=function(e,t,n,r){var o=q(e),a=T.a[t].canDrop(e,t,n,r);if(a)return P.b.error(a),e;var i=M(e.nodeList),u=N({},e.nodeMap),c=Object(T.d)(e,t,n,r);return i.push(c),u[c.id]=c,C.a.checkMin(i),N(N({},e),{},{mustSave:!0,nodeList:i,nodeMap:u,chooseId:c.id,showConfiguration:!0,stackHistory:o})},J=function(e,t,n,r,o){var a=e.stackHistory;o&&(a=q(e));var i=M(e.nodeList),u=N({},e.nodeMap),c=M(e.lineList),l=N({},e.lineMap);return u[t].x=n,u[t].y=r,C.a.checkMin(i),C.a.checkLine(u[t],u,c,l),N(N({},e),{},{nodeList:i,nodeMap:u,lineList:c,lineMap:l,stackHistory:a})},H=function(e,t,n,r){var o=q(e),a=M(e.lineList),i=N({},e.lineMap),u=t.x,c=t.y,l=Object(T.j)(e,u,c),s=Object(T.c)(e,l,n,r);return a.push(s),i[r]=s,N(N({},e),{},{lineList:a,lineMap:i,lineArrow:l,connectId:r,stackHistory:o})},W=function(e,t,n,r){var o=M(e.lineList),a=N({},e.lineMap),i=a[t].startPoint,u=Object(T.j)(e,n,r);return a[t].path=C.a.countPath(i,u),N(N({},e),{},{lineList:o,lineMap:a,lineArrow:u})},G=function(e,t){var n=function(e){var t=M(e.stackHistory);return t.pop(),t}(e),r=M(e.lineList),o=N({},e.lineMap);return r=r.filter((function(e){return e.outputId!==t})),o[t]=void 0,N(N({},e),{},{lineList:r,lineMap:o,lineArrow:null,connectId:null,stackHistory:n})},K=function(e,t,n,r,o){var a=M(e.lineList),i=N({},e.lineMap),u=M(e.nodeList),c=N({},e.nodeMap),l=i[t],s=l.id,f=l.startPoint;i[t].toId=n,i[t].entryId=r,i[t].path=C.a.countPath(f,Object(T.i)(c[n]));var p="forLoopEnd"===o&&c[n].pId,d=c[s].configuration.output.find((function(e){return e.id===t}))||{};if(d.connectEntryId=r,p){var y=c[n].pIdpOutputIdSpare||[];c[n].pIdpOutputIdSpare=[].concat(M(y),[[s,t]])}else d.connectId=n,c[n].pId=s,c[n].pOutputId=t;var m=c[s],g=c[n];return _.c[m.nodeType].afterConnect(S.c.StartPoint,m.configuration,m,g,e),_.c[g.nodeType].afterConnect(S.c.EndPoint,g.configuration,m,g,e),N(N({},e),{},{mustSave:!0,nodeList:u,nodeMap:c,lineList:a,lineMap:i,lineArrow:null,connectId:null})},Q=function(e,t){var n=N(N({},e),{},{chooseId:t});return null!==t&&e.nodeMap[t]&&(n.showConfiguration=!0),n},z=function(e,t,n,r,o){var a=N(N({},e),{},{chooseId:n,contextMenu:{show:!0,type:t,id:n,x:r,y:o}});return t===S.e.NODE&&(a.showConfiguration=!0),a},Z=function(e){var t=q(e),n=M(e.lineList),r=N({},e.lineMap),o=M(e.nodeList),a=N({},e.nodeMap),i=e.chooseId,u=i;i=null;var c=n.find((function(e){return e.uniqueId===u}))||{},l=c.id,s=void 0===l?"":l,f=c.outputId,p=void 0===f?"":f,d=c.toId,y=c.entryId,m=n.findIndex((function(e){return e.uniqueId===u}));m>-1&&n.splice(m,1),r[p]=void 0;var g=a[s],v=d&&a[d]||void 0,b=g.configuration.output.find((function(e){return e.id===p})),h=v.pIdpOutputIdSpare||[];if(v&&h.length>0)if(b.connectId){var O=k(h.pop(),2),w=O[0],E=O[1];v.pId=w,v.pOutputId=E;var j=a[w].configuration.output.find((function(e){return e.id===E}));j.connectId=d,j.connectEntryId=y}else{var P=h.findIndex((function(e){return e[0]==s}));h.splice(P,1)}else v&&(v.pId=null,v.pOutputId=null);return b&&(b.connectId=void 0,b.connectEntryId=void 0),N(N({},e),{},{mustSave:!0,nodeList:o,nodeMap:a,lineList:n,lineMap:r,chooseId:i,stackHistory:t})},Y=function(e,t,n,r,o){var a=n[e],i=a.pId,u=a.pOutputId,c=a.configuration.output,l=a.pIdpOutputIdSpare,s=t.findIndex((function(t){return t.id===e}));s>-1&&t.splice(s,1),n[e]=void 0,[[i,u]].concat(M(l)).forEach((function(e){var t=k(e,2),a=t[0],i=t[1];if(a&&i){var u=n[a].configuration.output.find((function(e){return e.id===i}));u&&(u.connectId=void 0,u.connectEntryId=void 0);var c=r.findIndex((function(e){return e.outputId===i}));c>-1&&r.splice(c,1),o[i]=void 0}})),c.forEach((function(e){var t=e.id,a=e.connectId,i=e.connectEntryId;if(i&&((s=r.findIndex((function(e){return e.outputId===t})))>-1&&r.splice(s,1),o[t]=void 0,a)){var u=n[a];if(u.pId=null,u.pOutputId=null,u.pIdpOutputIdSpare.length>0){var c=k(u.pIdpOutputIdSpare.pop(),2),l=c[0],f=c[1];u.pId=l,u.pOutputId=f;var p=n[l].configuration.output.find((function(e){return e.id===f}));p.connectId=a,p.connectEntryId=i}}}))},X=function(e){var t=q(e),n=M(e.lineList),r=N({},e.lineMap),o=M(e.nodeList),a=N({},e.nodeMap),i=e.chooseId,u=i;return i=null,u&&Y(u,o,a,n,r),N(N({},e),{},{mustSave:!0,nodeList:o,nodeMap:a,lineList:n,lineMap:r,chooseId:i,stackHistory:t})},$=function(e,t,n){var r=M(e.nodeList),o=N({},e.nodeMap),a=M(e.lineList),i=N({},e.lineMap);if(o[t]){var u=o[t].configuration.output,c=u.length;if(o[t].configuration=N(N({},o[t].configuration),n),o[t].isError){var l=!!_.c[o[t].nodeType].validate(o[t].configuration,o[t],e);l||(o[t].isError=l)}var s=o[t].configuration.output;if(c!==s.length){var f=o[t].pOutputId;f&&C.a.resetLine(i[f],o),u.forEach((function(e){var t=e.id,n=e.connectId,r=e.connectEntryId;if(-1===s.findIndex((function(e){return e.id===t}))){if(n&&r){var u=a.findIndex((function(e){return e.outputId===t}));u>-1&&a.splice(u,1),i[t]=void 0,o[n].pId=null,o[n].pOutputId=null}}else r&&C.a.resetLine(i[t],o)}))}}return N(N({},e),{},{mustSave:!0,nodeList:r,nodeMap:o,lineList:a,lineMap:i})},ee=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=M(e.nodeList),o=N({},e.nodeMap),a=L(t),i="string"===a||"number"===a?[t]:t;return i.forEach((function(e){o[e]&&(o[e].isError=n)})),N(N({},e),{},{nodeList:r,nodeMap:o})},te=function(e){var t=M(e.stackHistory),n=t.pop();if(n){var r=JSON.parse(n),o=r.nodeList,a=r.lineList,i=r.chooseId,u={},c={};return o.forEach((function(e){return u[e.id]=e})),a.forEach((function(e){return c[e.outputId]=e})),C.a.checkMin(o),N(N({},e),{},{mustSave:!0,stackHistory:t,nodeList:o,nodeMap:u,lineList:a,lineMap:c,chooseId:i})}return N(N({},e),{},{stackHistory:t})},ne=function(e){var t=q(e),n=M(e.nodeList),r=N({},e.nodeMap),o=M(e.lineList),a=N({},e.lineMap),i=e.chooseId,u={type:S.f.CUT,nodeData:Object(T.b)(r[i])};return Y(i,n,r,o,a),N(N({},e),{},{mustSave:!0,nodeList:n,nodeMap:r,lineList:o,lineMap:a,stackHistory:t,copy:u})},re=function(e){var t=e.chooseId,n=e.nodeMap,r={type:S.f.COPY,nodeData:Object(T.b)(n[t])};return N(N({},e),{},{copy:r})},oe=function(e){var t=M(e.stackHistory),n=e.contextMenu,r=n.x,o=n.y,a=e.copy,i=a,u=i.type,c=i.nodeData;u===S.f.CUT&&(a=null);var l=Object(T.n)(c,r,o,e),s=M(e.nodeList),f=N({},e.nodeMap);return!1!==l&&(t=q(e),s.push(l),f[l.id]=l,C.a.checkMin(s)),N(N({},e),{},{mustSave:!0,nodeList:s,nodeMap:f,copy:a,stackHistory:t})},ae=function(e){var t=e.nodeList,n=e.nodeMap,r=e.lineList,o=e.lineMap;if(0===t.length)return e;var a=q(e),i=Object(D.g)(t,n,r,o),u=i.nodeList,c=i.nodeMap,l=i.lineList,s=i.lineMap;return C.a.checkMin(u),N(N({},e),{},{nodeList:u,nodeMap:c,lineList:l,lineMap:s,stackHistory:a})},ie=function(e,t,n,r,o,a,i,u,c){var l={};try{l=Object(D.n)(a,JSON.parse(i)),C.a.checkMin(l.nodeList)}catch(e){setTimeout((function(){P.b.error("节点编排数据解析失败")}),200)}return N(N({},e),{},{action:t||"",authCheck:n||0,flowId:r,productionName:o,testEnv:u,proEnv:c},l)},ue=function(e,t,n,r){var o={isSaving:!1,root:t,action:n,authCheck:r};return o.testEnv=S.p.Compiled,N(N({},e),{},{mustSave:!1},o)},ce=function(e){var t={isSaving:!1};return t.testEnv=S.p.Running,N(N({},e),{},{mustSave:!1},t)},le=function(e,t){return N(N({},e),{},{testEnv:S.p.Debugging,showLog:!0,showLogHeight:e.showLogHeight||T.f},Object(D.o)(t))},se={readonly:!1,action:"",authCheck:0,projectId:null,serviceId:null,flowId:null,productionName:null,mustSave:!0,testEnv:S.p.Developing,proEnv:S.p.Developing,isSaving:!1,isInDeploy:!1,isInDebug:!1,isInPublish:!1,isopenPublish:!1,showChooser:!0,showConfiguration:!0,showConfigurationWithFullScreen:!1,showLog:!1,showLogHeight:0,showDebugInput:!1,searchText:"",root:null,nodeList:[],nodeMap:{},debuggedData:null,debuggedResult:null,debuggedOutput:null,debuggedMap:{},lineList:[],lineMap:{},connectId:null,lineArrow:null,contextMenu:B,chooseId:null,chooseLineId:null,copy:null,stackHistory:[],isLoading:!1,product:N({},F),api:N({},F),platformapi:N({},F),mqTopic:N({},F),rocketMQTopic:N({},F),database:N({},F),redis:N({},F)},fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.isLoading,o=t.action,a=t.authCheck,i=t.projectId,u=t.serviceId,c=t.flowId,l=t.readonly,s=t.productionName,f=t.nodeList,p=t.lineList,d=t.testEnv,y=t.proEnv,m=t.searchText,g=t.nodeId,v=t.nodeType,b=t.x,h=t.y,O=t.isMoveStart,w=t.startPoint,E=t.startNodeId,j=t.startOutputId,P=t.currentOutputId,S=t.toId,D=t.entryId,_=t.showType,L=t.id,k=t.config,R=t.isError,M=t.listKey,x=t.list,V=t.root,F=t.data,q=t.logHeight,Y=t.isopenPublish;switch(n){case I.x:return N(N({},se),{},{projectId:i,serviceId:u,readonly:l});case I.C:return N(N({},e),{},{isLoading:r});case I.M:return ue(N({},e),V,o,a);case I.s:return ce(N({},e));case I.n:return le(N({},e),F);case I.K:return ie(N({},e),o,a,c,s,f,p,d,y);case I.B:return N(N({},e),{},A({},M,{isLoading:!0,isError:!1,list:[]}));case I.A:return N(N({},e),{},A({},M,{isLoading:!1,isError:!1,list:x}));case I.z:return N(N({},e),{},A({},M,{isLoading:!1,isError:!0,list:[]}));case I.e:return N(N({},e),{},{searchText:m});case I.a:return Q(N({},e),L);case I.b:return N(N({},e),{},{chooseLineId:L});case I.t:return U(N({},e),v,b,h);case I.E:return J(N({},e),g,b,h,O);case I.j:return H(N({},e),w,E,j);case I.y:return W(N({},e),P,b,h);case I.g:return G(N({},e),P);case I.h:return K(N({},e),P,S,D,v);case I.O:return z(N({},e),_,L,b,h);case I.v:return N(N({},e),{},{contextMenu:N({},B)});case I.o:return Z(N({},e));case I.p:return X(N({},e));case I.d:return $(N({},e),g,k);case I.F:return ee(N({},e),g,R);case I.T:return te(N({},e));case I.k:return ne(N({},e));case I.i:return re(N({},e));case I.H:return oe(N({},e));case I.f:return ae(N({},e));case I.N:return N(N({},e),{},{isSaving:!0});case I.L:return N(N({},e),{},{isSaving:!1});case I.r:return N(N({},e),{},{isInDeploy:!0});case I.q:return N(N({},e),{},{isInDeploy:!1});case I.m:return N(N({},e),{},{isInDebug:!0});case I.l:return N(N({},e),{},{isInDebug:!1});case I.J:return N(N({},e),{},{isInPublish:!0});case I.I:return N(N({},e),{},{isInPublish:!1});case I.G:return N(N({},e),{},{isopenPublish:Y});case I.P:return N(N({},e),{},{showDebugInput:!0});case I.w:return N(N({},e),{},{showDebugInput:!1});case I.Q:return N(N({},e),{},{showChooser:!e.showChooser});case I.R:return N(N({},e),{},{showConfiguration:!e.showConfiguration});case I.S:return N(N({},e),{},{showLog:!e.showLog,showLogHeight:e.showLog?0:T.f});case I.u:return N(N({},e),{},{showConfigurationWithFullScreen:!e.showConfigurationWithFullScreen});case I.c:return N(N({},e),{},{showLog:q>0,showLogHeight:q});case I.D:return N(N({},e),{},{showLogHeight:e.showLogHeight===C.a.logMaxHeight?T.f:C.a.logMaxHeight});default:return e}};function pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function de(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pe(Object(n),!0).forEach((function(t){ye(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ye(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var me={productList:[],versionList:{list:[],pager:{}},extVerisonLi:[],deviceGorupLi:[],firmwareDetails:{}};var ge=Object(a.combineReducers)({product:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u.H:return e.set("productList",t.list);case u.F:return e.set("productBaseInfo",t.info);case u.G:var n=e.getIn(["productBaseInfo"]).toJS();return e.merge({productBaseInfo:l(l({},n),t.info)});case u.I:return e.set("productProtocolLists",t.list);case u.D:return e.set("productConfigSteps",t.list);case u.E:return e.set("productH5Pages",t.data);case u.C:return e.set("appsByProductId",t.list);case u.J:return e.set("timeServiceList",t.data);case u.n:return e.set("optionsList",t.data);case u.q:return e.set("productBaseTypeList",t.data);case u.B:return e.set("visibleDebugger",t.visible);case u.w:return e.set("jsContent",t.jsContent);case u.z:return e.set("tabIndex",t.tabIndex);case u.y:return e.set("moduleList",t.list);case u.x:return e.set("moduleItem",t.moduleItem);case u.c:return e.merge({tabIndex:2,moduleItem:{}});case u.o:return e.set("mcuCodeCheck",t.bl);case u.v:return e.set("hardwareType",t.hardwareType);case u.p:return e.set("commFreq",t.commFreq);case u.d:return e.merge({productBaseInfo:l(l({},e.getIn(["productBaseInfo"]).toJS()),t.params)});default:return e}},deviceDebug:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u.j:return e.set("deviceAndWs",t.data);case u.K:return e.set("websocketMessage",t.data);case u.A:return e.setIn(["deviceAndWs","wsUrl","data"],t.data);case u.s:return e.set("websocketMessage",t.data);case u.i:return e.set("dataTypeList",t.data);case u.r:return e.set("propertyConfig",t.data);case u.l:return e.set("deviceDebugMacList",t.data||[]);case u.b:case u.m:case u.a:return e.set("deviceDebugMacList",t.data);case u.k:return e.set("deviceDebugAccountList",t.data);case u.t:return e.set("selectedData1",t.data||{});case u.u:return e.set("selectedData2",t.data||{});case u.e:return e.setIn(["websocketMessage","deviceDebuggerException"],t.data);case u.f:return e.setIn(["websocketMessage","deviceDebuggerException2"],t.data);case u.g:return e.setIn(["websocketMessage","devData"],t.data);case u.h:return e.setIn(["websocketMessage","devData2"],t.data);default:return e}},device:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d.g:return e.set("productList",t.list);case d.f:return e.set("deviceStat",t.data);case d.e:return e.set("deviceList",t.data);case d.c:return e.set("deviceLabel",t.data);case d.d:return e.set("deviceLabelBase",t.data);case d.a:return e.set("defaultLabel",t.data);case d.b:return e.set("freshStatu",t.statu);default:return e}},userCenter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m.b:return e.set("loginModalStatu",t.statu||!1);case m.c:return e.set("developerInfo",t.info||!1);case m.a:return e.set("menulist",t.data||[]);case m.d:return e.set("instanceList",t.data||[]);default:return e}},deviceDataApi:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"deviceDataApi/CHANGE_CUR_DATA_DIMENSION":return e.set("curDataDimension",t.curDataDimension);case"deviceDataApi/CHANGE_API_LIST":return e.merge({apiList:t.apiList,pager:t.pager});default:return e}},customMethod:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"customMethod/CHANGE_METHOD_LIST":return e.merge({methodList:t.methodList,pager:t.pager});case"customMethod/CHANGE_METHOD_NUMS":return e.set("MethodNums",t.MethodNums);case b:return e.set("curApi",t.curApi);case"customMethod/CHANGE_PRODUCT_LIST":return e.set("productList",t.productList);case"customMethod/CHANGE_PROTOCOL_LIST":var n=O(e,t);return e.merge({protocolList:t.protocolList,bindType:n});case"customMethod/CHANGE_CUR_API":return"productId"===t.key?e.setIn(["curApi",t.key],t.value).setIn(["curApi","dataType"],void 0).setIn(["curApi","property"],void 0):"dataType"===t.key?e.setIn(["curApi",t.key],t.value).setIn(["curApi","property"],void 0):e.setIn(["curApi",t.key],t.value);default:return e}},otaUpgrade:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.productList,o=t.versionList,a=t.extVerisonLi,i=t.deviceGorupLi,u=t.firmwareDetails;switch(n){case"OTA_ACTIONTYPE_GETPROLIST":return de(de({},e),{},{productList:r});case"OTA_ACTIONTYPE_GETVERLIST":return de(de({},e),{},{versionList:o});case"OTA_ACTIONTYPE_GETEXTVERLI":return de(de({},e),{},{extVerisonLi:a});case"OTA_ACTIONTYPE_GETDEVGROUPLI":return de(de({},e),{},{deviceGorupLi:i});case"OTA_ACTIONTYPE_FIRMWAREDETAIL":return de(de({},e),{},{firmwareDetails:u});default:return e}},loadingShow:w.a,message:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.a:return e.set("newMessageNums",t.data||{});default:return e}},drawView:fe}),ve=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||r.compose,be=Object(r.createStore)(ge,ve(Object(r.applyMiddleware)(o.default)));t.a=be},QtFR:function(e,t,n){},TOwV:function(e,t,n){e.exports=n("WUjv")(40)},Ty5D:function(e,t,n){e.exports=n("WUjv")(2)},V0bm:function(e,t,n){"use strict";n.d(t,"o",(function(){return d})),n.d(t,"m",(function(){return y})),n.d(t,"l",(function(){return m})),n.d(t,"g",(function(){return g})),n.d(t,"f",(function(){return v})),n.d(t,"k",(function(){return b})),n.d(t,"a",(function(){return h})),n.d(t,"h",(function(){return O})),n.d(t,"i",(function(){return w})),n.d(t,"j",(function(){return E})),n.d(t,"e",(function(){return j})),n.d(t,"d",(function(){return P})),n.d(t,"b",(function(){return I})),n.d(t,"n",(function(){return S})),n.d(t,"c",(function(){return T}));n("8/o9");var r=n("tsqr"),o=(n("sMBO"),n("2B1R"),n("yyme"),n("pNMO"),n("4Brf"),n("07d7"),n("0oug"),n("4mDm"),n("PKPk"),n("3bBZ"),n("+2oP"),n("pjDv"),n("tkto"),n("TeQF"),n("5DmW"),n("FZtP"),n("27RR"),n("a+Kn")),a=n("J76n"),i=n("gtRY"),u=n("Z5S8");function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){u=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var d=52,y=136,m=144,g=30,v=196,b=u.a,h=u.c,O=u.b,w=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.x,r=e.y,o=Object(i.u)(e);return{x:n-(t?0:11),y:r+o/2}},E=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=e.showChooser,i=(a.a.wrap?a.a.wrap.scrollLeft:0)+(o?t-220:t),u=(a.a.wrap?a.a.wrap.scrollTop:0)+n-d;return r&&(i=i<0?0:i,u=u<0?0:u),{x:i,y:u}},j=function(){return{id:o.a.getUnique()}},P=function(e,t,n,r){var a=h[t],i=a.name,u=a.entryNum,c=f(a.output,1)[0],s=a.initData,p=E(e,n,r,!0);return l(l({id:o.a.getUnique(),nodeType:t},p),{},{entryId:u>0?o.a.getUnique():null,pId:null,pOutputId:null,isError:!1,pIdpOutputIdSpare:[],configuration:l({name:i,output:Array(c).fill(null).map((function(){return j()}))},s())})},I=function(e){var t=e.nodeType,n=e.entryId,r=e.isError,a=e.configuration;return(a=o.a.getCopyByPure(a)).output=a.output.map((function(e){return l(l({},e),{},{id:"",connectId:void 0,connectEntryId:void 0})})),{id:"",nodeType:t,x:0,y:0,entryId:n?"":null,pId:null,pOutputId:null,isError:r,configuration:a}},S=function(e,t,n,a){var i=e.nodeType,u=e.entryId,c=e.isError,s=e.configuration,f=E(a,t,n,!0),p=f.x,d=f.y,y=h[i].canDrop(a,i,p,d);return y?(r.b.error(y),!1):((s=o.a.getCopyByPure(s)).output=s.output.map((function(e){return l(l({},e),{},{id:o.a.getUnique(),connectId:void 0,connectEntryId:void 0})})),{id:o.a.getUnique(),nodeType:i,x:p,y:d,entryId:""===u?o.a.getUnique():null,pId:null,pOutputId:null,isError:c,configuration:s})},T=function(e,t,n,r){return{uniqueId:o.a.getUnique(),id:n,outputId:r,startPoint:t,path:a.a.countPath(t),toId:null,entryId:null}}},WUjv:function(e,t){e.exports=react_libs_dll},XZxo:function(e,t,n){var r={"./zh-cn":"XDpg","./zh-cn.js":"XDpg"};function o(e){var t=a(e);return n(t)}function a(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=a,e.exports=o,o.id="XZxo"},Ytl9:function(e,t,n){"use strict";n.d(t,"f",(function(){return v})),n.d(t,"l",(function(){return b})),n.d(t,"k",(function(){return h})),n.d(t,"s",(function(){return O})),n.d(t,"e",(function(){return w})),n.d(t,"i",(function(){return E})),n.d(t,"h",(function(){return j})),n.d(t,"u",(function(){return P})),n.d(t,"b",(function(){return S})),n.d(t,"c",(function(){return T})),n.d(t,"d",(function(){return C})),n.d(t,"a",(function(){return D})),n.d(t,"t",(function(){return _})),n.d(t,"g",(function(){return L})),n.d(t,"j",(function(){return k})),n.d(t,"m",(function(){return N})),n.d(t,"n",(function(){return M})),n.d(t,"q",(function(){return x})),n.d(t,"r",(function(){return V})),n.d(t,"o",(function(){return B})),n.d(t,"p",(function(){return F}));n("O+I2");var r=n("TeRw"),o=(n("oVuX"),n("FZtP"),n("Nlzp")),a=n("JPcv"),i=n("CS2L"),u=n("vDqi"),c=n.n(u),l=[],s=[],f="",p="",d={};function y(e){return Object(o.c)(o.a.queryServerConfig,{productId:e})}function m(e){return Object(o.c)(o.a.productIdentifier,{productId:e})}function g(){return Object(o.c)(o.a.accessToken)}var v=function(e){return function(t,n){c.a.all([y(e),m(e),g()]).then(c.a.spread((function(e,n,r){var o=function(e){return{type:i.j,data:Object(a.fromJS)(e)}}({wsUrl:e,productInfo:n,token:r});t(o)})))}};var b=function(e){return function(t,n){var o,u,c;e.dataTypeString={U:"上行数据",D:"下行数据",E:"调试异常信息"}[e.dataType],e.packetLengthString=e.packetLength+"字节",e.dataLengthString=e.dataLength+"字节",e.id=function(){for(var e=[],t=0;t<36;t++)e[t]="0123456789abcdef".substr(Math.floor(16*Math.random()),1);return e[14]="4",e[19]="0123456789abcdef".substr(3&e[19]|8,1),e[8]=e[13]=e[18]=e[23]="-",e.join("")}(),0==e.bussinessType||1==e.bussinessType?"FF03"==e.command?f=e.parseData.exception+"\r\n"+f:l.unshift(e):2==e.bussinessType||3==e.bussinessType?"FF04"==e.command||"FF05"==e.command?p=e.parseData.exception+"\r\n"+p:s.unshift(e):"FFFF"==e.command&&e.parseData.info&&r.a.open({message:"命令调试提示",description:e.parseData.info,style:{width:500,marginLeft:-265}}),o=e.macAddress,u=e.packetStart,d[o]={time:(new Date).getTime(),packetStart:u},t((c={devData:l,devData2:s,onlineDevice:d,deviceDebuggerException:f,deviceDebuggerException2:p},{type:i.K,data:Object(a.fromJS)(c)}))}},h=function(e){return function(e,t){c.a.all([g()]).then(c.a.spread((function(t){var n,r=(n=t,{type:i.A,data:Object(a.fromJS)(n)});e(r)})))}},O=function(e){return function(e,t){e(function(e){return{type:i.s,data:Object(a.fromJS)(e)}}({deviceDebuggerDataList:[],deviceDebuggerDataList2:[],deviceDebuggerException:"",deviceDebuggerException2:"",onlineDevice:{}}))}},w=function(e){return function(t,n){Object(o.c)(o.a.dataTypeList,{productId:e}).then((function(e){var n=function(e){return{type:i.i,data:Object(a.fromJS)(e)}}(e);t(n)}))}},E=function(e){return function(t,n){Object(o.c)(o.a.propertyConfig,{productId:e},{needVersion:1.1}).then((function(e){var n=e.data,r=n.idList,o={},u=function(e){r[e].forEach((function(t){o[t]=e}))};for(var c in r)u(c);var l=function(e){return{type:i.r,data:Object(a.fromJS)(e)}}({propertyConfigId:o,propertyConfig:n.protocolList});t(l)}))}},j=function(e){return function(t,n){Object(o.c)(o.a.debugSecretList,{productId:e},{loading:!0}).then((function(e){var n=P(e);t(n)}))}},P=function(e){return{type:i.l,data:Object(a.fromJS)(e)}},I=function(e){return{type:i.b,data:Object(a.fromJS)(e)}},S=function(e){return function(t,n){t(I(e))}},T=function(e,t,n){return function(r,a){if(n){var i=I(n);r(i)}else Object(o.c)(o.a.delDebugMac,{id:t},{loading:!0}).then((function(t){0==t.code&&Object(o.c)(o.a.debugSecretList,{productId:e},{loading:!0}).then((function(e){var t=P(e);r(t)}))}))}},C=function(e){return function(t,n){t(function(e){return{type:i.m,data:Object(a.fromJS)(e)}}(e))}},D=function(e){return function(t,n){t(function(e){return{type:i.a,data:Object(a.fromJS)(e)}}(e))}},_=function(e){return{type:i.k,data:Object(a.fromJS)(e)}},L=function(e){return function(t,n){Object(o.c)(o.a.deviceDebugAccountGetList,{productId:e}).then((function(e){var n=_(e);t(n)}))}},k=function(e){return function(t,n){t(_(e))}},R=function(e){return{type:i.t,data:Object(a.fromJS)(e)}},N=function(e){return function(t,n){t(R(e))}},A=function(e){return{type:i.u,data:Object(a.fromJS)(e)}},M=function(e){return function(t,n){t(A(e))}},x=function(){return function(e,t){var n;e((n=f="",{type:i.e,data:Object(a.fromJS)(n)}))}},V=function(){return f="",function(e,t){var n;e((n=f,{type:i.f,data:Object(a.fromJS)(n)}))}},B=function(){return function(e,t){var n=(l=[],{type:i.g,data:Object(a.fromJS)(l)}),r=R({});e(n),e(r)}},F=function(){return function(e,t){var n=(s=[],{type:i.h,data:Object(a.fromJS)(l)}),r=A({});e(n),e(r)}}},Z5S8:function(e,t,n){"use strict";n.d(t,"b",(function(){return ko})),n.d(t,"c",(function(){return Ro}));n("2B1R"),n("TeQF"),n("sMBO"),n("FZtP"),n("tkto"),n("pNMO"),n("5DmW"),n("27RR");var r=n("ZShN"),o=(n("SuFq"),n("zKZe"),n("4Brf"),n("07d7"),n("0oug"),n("4mDm"),n("PKPk"),n("3bBZ"),n("qNb/"),n("PArb")),a=(n("K4yd"),n("9yH6")),i=(n("8QGh"),n("2fM7")),u=(n("ma9I"),n("NBAS"),n("q1tI")),c=n.n(u),l=n("CpnY"),s=n("WsrF"),f=(n("XlDN"),n("kEWA")),p=n("LgsE"),d=n("be64");function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=P(e);if(t){var o=P(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return j(this,n)}}function j(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var I=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(y,e);var t,n,r,u=E(y);function y(){var e;h(this,y);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=u.call.apply(u,[this].concat(n))).onChange=function(t){var n=e.props,r=n.nodeItem.id;(0,n.changeNodeConfiguration)(r,t)},e.tab=function(t){e.props.nodeItem.isError&&setTimeout((function(){t.validateFields()}),200)},e.getProtocolComponent=function(t){var n=e.props,r=n.readonly,o=n.nodeItem.configuration,a=o.productId,u=o.protocolType,l=n.product,f=l.isLoading,y=l.isError,m=l.list,g=t.getFieldDecorator,v=y||0===m.length;return c.a.createElement(c.a.Fragment,null,c.a.createElement(s.a.Item,{label:"选择产品"},g("productId",{initialValue:a,rules:[p.a.isRequire("产品")]})(c.a.createElement(i.a,{showSearch:!0,placeholder:v?"暂无可用产品":"请选择产品",notFoundContent:"未找到相应记录",optionFilterProp:"children",loading:f,disabled:v||r},m.map((function(e){var t=e.id,n=e.value;return c.a.createElement(i.a.Option,{value:t,key:t},n)}))))),c.a.createElement(s.a.Item,{label:"选择Topic",required:!0},g("protocolType",{initialValue:u,rules:[p.a.isRequire("Topic")]})(c.a.createElement(i.a,{showSearch:!0,placeholder:"请选择Topic",notFoundContent:"未找到相应记录",optionFilterProp:"children",disabled:r},d.m.map((function(e){var t=e.id,n=e.value;return c.a.createElement(i.a.Option,{value:t,key:t},n)}))))))},e.getUserDefined=function(t){var n=e.props,r=n.readonly,o=n.mqTopic,a=o.isError,u=o.isLoading,l=o.list,f=n.nodeItem.configuration,d=a||0===l.length,y=f.queueId,m=t.getFieldDecorator;return c.a.createElement(c.a.Fragment,null,c.a.createElement(s.a.Item,{label:"监听Topic"},m("queueId",{initialValue:y,rules:[p.a.isRequire("自定义队列")]})(c.a.createElement(i.a,{showSearch:!0,placeholder:d?"暂无可用队列":"请选择自定义队列",notFoundContent:"未找到相应记录",optionFilterProp:"children",loading:u,disabled:d||r},l.map((function(e){var t=e.id,n=e.value;return c.a.createElement(i.a.Option,{value:t,key:t},n)}))))),c.a.createElement("a",{className:"goto-dataasset",href:"#/userCenter/dataasset",target:"_blank"},"数据资产知识库管理"))},e.getChildren=function(t){var n=e.props,r=n.readonly,i=n.nodeItem.configuration.type,u=t.getFieldDecorator,l=i===f.n.ProductProtocol?e.getProtocolComponent(t):e.getUserDefined(t);return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"draw-group"},c.a.createElement("div",{className:"draw-group-inner"},"Topic配置")),c.a.createElement(s.a.Item,{label:"订阅Topic类型",required:!0},u("type",{initialValue:i})(c.a.createElement(a.a.Group,{disabled:r,onChange:function(){return e.tab(t)}},d.B.map((function(e){var t=e.id,n=e.value;return c.a.createElement(a.a,{value:t,key:t},n)}))))),c.a.createElement(o.a,null),l)},e}return t=y,(n=[{key:"render",value:function(){var e=this.props.nodeItem.id,t=v(v({},this.props),{},{log:void 0,render:this.getChildren});return c.a.createElement(l.a,m({},t,{key:e}))}}])&&O(t.prototype,n),r&&O(t,r),y}(u.Component),S=n("2jDL"),T={id:"mqttEvent",name:"MQTT事件",nodeType:102,iconCls:"mqttEvent",description:"侦听MQTT Topic上报的设备消息并触发服务，无需定义物模型",apiDocumentLink:"",canDrop:S.a,entryNum:0,output:[1,1,1],configuration:I,initData:function(){return{type:f.n.ProductProtocol,productId:void 0,protocolType:void 0,queueId:void 0,params:[],showParamModal:!1,showParamId:void 0}},validate:function(e,t,n){var r=e.type,o=e.productId,a=e.protocolType,i=e.queueId;if(r===f.n.ProductProtocol){if(void 0===o)return"产品不能为空";if(void 0===a)return"Topic不能为空"}else if(void 0===i)return"监听Topic的选择队列不能为空";return!1},toData:function(e,t,n){var r=e.type,o=e.productId,a=e.protocolType,i=e.queueId;return{dsType:r,productId:void 0===o?null:o,eventType:void 0===a?null:a,dsId:void 0===i?null:i}},toConfiguration:function(e){var t=e.dsType,n=e.productId,r=e.eventType,o=e.dsId;return{type:t,productId:null===n?void 0:n,protocolType:null===r?void 0:r,queueId:null===o?void 0:o}}},C=(n("pjDv"),n("+2oP"),n("1vPl"),n("5rEg")),D=(n("L/Qf"),n("2/Rp")),_=(n("k994"),n("NJEC")),L=(n("x0AG"),n("pDQq"),n("fbCW"),n("ajDV")),k=n("y3Kf"),R=n("8Skl"),N=n("G3dp"),A=n("4i/N"),M=n("xvlK"),x=(n("k3Gp"),n("kLXV")),V=(n("U8R4"),n("+eQT")),B=(n("8/o9"),n("tsqr")),F=(n("rB9j"),n("UxlC"),n("wd/R")),q=n.n(F);function U(e){return(U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach((function(t){W(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function W(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function G(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function K(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Q(e,t){return(Q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Y(e);if(t){var o=Y(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Z(this,n)}}function Z(e,t){return!t||"object"!==U(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Y(e){return(Y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var X="选择用于比较的数据源",$={width:"100%"},ee=d.f[0].id,te=d.c[0].id,ne=d.z[0].id,re={source:f.g.Value,sourceType:ee,sourceValue:"",operate:void 0,target:f.g.Value,targetType:ee,targetValue:""},oe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Q(e,t)}(a,e);var t,n,r,o=z(a);function a(){var e;G(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=o.call.apply(o,[this].concat(n))).state=H({},re),e.isInit=!1,e.changeFirst=function(t,n){var r=n===f.g.Value?ee:ne;t===f.i.Source?e.setState({source:n,sourceType:r,sourceValue:""}):e.setState({target:n,targetType:r,targetValue:""})},e.changeSecond=function(t,n){var r=n===f.q.Boolean?te:"";t===f.i.Source?e.setState({sourceType:n,sourceValue:r}):e.setState({targetType:n,targetValue:r})},e.changeThird=function(t,n){t===f.i.Source?e.setState({sourceValue:n}):e.setState({targetValue:n})},e.changeOperate=function(t){e.setState({operate:t})},e.onClose=function(){e.props.hide()},e.check=function(){var t=e.props,n=t.needSource,r=void 0===n||n,o=t.needOperate,a=void 0===o||o,i=e.state,u=i.source,c=i.sourceType,l=i.sourceValue,s=i.operate,p=i.target,y=i.targetType,m=i.targetValue;if(r&&u===f.g.Value){if(c===f.q.Number&&isNaN(parseFloat(l)))return B.b.error("请输入正确的数值"),!1;if(""===l)return B.b.error(c===f.q.String?"请输入字符串":"请选择时间"),!1}if(a&&void 0===s)return B.b.error("请选择比较方式"),!1;if(a&&d.i.indexOf(s)>-1)return!0;if(p===f.g.Value){if(y===f.q.Number&&isNaN(parseFloat(m)))return B.b.error("请输入正确的数值"),!1;if(""===m)return B.b.error(y===f.q.String?"请输入字符串":"请选择时间"),!1}return!0},e.submit=function(){if(e.check()){var t=e.props,n=t.submit,r=t.hide,o=H({},e.state);(o.source===f.g.Value&&o.sourceType)===f.q.Number&&(o.sourceValue=parseFloat(o.sourceValue)+""),(o.target===f.g.Value&&o.targetType)===f.q.Number&&(o.targetValue=parseFloat(o.targetValue)+""),n(o),r()}},e.getSource=function(t,n,r,o){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],u=e.props,l=u.parents,p=u.onlyNumber,y=void 0!==p&&p,m=u.label,g=n===f.g.Value,v=n===f.g.Node,b=g&&!y?d.f:g&&y?d.f.slice(0,1):l,h=m||(a?"选择数据源":X),O=function(n){return e.changeThird(t,n.target.value.replace(/[^\d.]/g,""))},w=function(n){return e.changeThird(t,n.target.value)},E=function(n){return e.changeThird(t,n)},j=function(n){return e.changeThird(t,n)},P=null;if(g)P=r===f.q.Number||r===f.q.String?c.a.createElement(C.a,{placeholder:"请输入一个"+(r===f.q.Number?"数值":"字符串"),onChange:r===f.q.Number?O:w,value:o}):r===f.q.Boolean?c.a.createElement(i.a,{placeholder:"请选择",value:o,onChange:E},d.c.map((function(e){var t=e.id,n=e.value;return c.a.createElement(i.a.Option,{value:t,key:t},n)}))):c.a.createElement(V.a,{placeholder:"请选择日期和时间",format:"YYYY-MM-DD HH:mm:ss",style:$,showToday:!1,showTime:{defaultValue:q()("00:00:00","HH:mm:ss")},onChange:j});else if(v){var I=l.find((function(e){return e.id===r}))||{},S=I.type,T=I.list;P=S===f.l.LIST?c.a.createElement(i.a,{placeholder:"请选择",value:o,onChange:E},(T||[]).map((function(e){var t=e.id,n=e.value;return c.a.createElement(i.a.Option,{value:t,key:t},n)}))):c.a.createElement(C.a,{placeholder:"不填写变量名则默认为整个返回值",onChange:w,value:o})}return c.a.createElement(s.a.Item,{label:h,required:!0},c.a.createElement("div",{className:"draw-menu-group"},d.E.map((function(r){var o=r.id,a=r.value,i=r.disabled,u=n===o,l=u||i?void 0:function(){return e.changeFirst(t,o)};return c.a.createElement("div",{className:"draw-menu"+(u?" draw-menu-selected":"")+(i?" draw-menu-disabled":""),onClick:l,key:o},a)}))),c.a.createElement("div",{className:"draw-line"},c.a.createElement(i.a,{placeholder:"请选择",value:r,disabled:g&&y,onChange:function(n){return e.changeSecond(t,n)}},b.map((function(e){var t=e.id,n=e.value;return c.a.createElement(i.a.Option,{value:t,key:t},n)})))),c.a.createElement("div",{className:"draw-line"},P))},e}return t=a,(n=[{key:"componentDidUpdate",value:function(){var e=this.props,t=this.isInit,n=e.isShow,r=e.id,o=e.list;if(!t&&n)if(this.isInit=!0,void 0===r)this.setState(H({},re));else{var a=o.find((function(e){return e.id===r}))||{},i=a.source,u=void 0===i?f.g.Value:i,c=a.sourceType,l=void 0===c?ee:c,s=a.sourceValue,p=void 0===s?"":s,d=a.operate,y=a.target,m=void 0===y?f.g.Value:y,g=a.targetType,v=void 0===g?ee:g,b=a.targetValue,h=void 0===b?"":b;this.setState({source:u,sourceType:l,sourceValue:p,operate:d,target:m,targetType:v,targetValue:h})}else t&&!n&&(this.isInit=!1)}},{key:"render",value:function(){var e=this.props,t=e.isShow,n=e.title,r=e.needSource,o=void 0===r||r,a=e.needOperate,u=void 0===a||a,p=this.state,y=p.source,m=p.sourceType,g=p.sourceValue,v=p.operate,b=p.target,h=p.targetType,O=p.targetValue,w=o?this.getSource(f.i.Source,y,m,g):null,E=-1===d.i.indexOf(v)?this.getSource(f.i.Target,b,h,O,!u):null,j=u?c.a.createElement(s.a.Item,{label:"选择比较方式",required:!0},c.a.createElement(i.a,{placeholder:"请选择比较方式",value:v,onChange:this.changeOperate},d.g.map((function(e){var t=e.id,n=e.value;return c.a.createElement(i.a.Option,{value:t,key:t},n)})))):null;return c.a.createElement(x.a,{title:n,width:360,maskClosable:!1,wrapClassName:"draw-small-form",visible:t,destroyOnClose:!0,onOk:this.submit,onCancel:this.onClose},c.a.createElement(s.a,l.b,w,w?c.a.createElement("div",{className:"draw-line"}):null,j,E?c.a.createElement("div",{className:"draw-line"}):null,E))}}])&&K(t.prototype,n),r&&K(t,r),a}(u.Component),ae=s.a.create({name:"ValueMatchModal"})(oe);function ie(e){return(ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ue(){return(ue=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(n),!0).forEach((function(t){se(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function se(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){u=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw o}}return a}(e,t)||de(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pe(e){return function(e){if(Array.isArray(e))return ye(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||de(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function de(e,t){if(e){if("string"==typeof e)return ye(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ye(e,t):void 0}}function ye(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function me(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ge(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ve(e,t){return(ve=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function be(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Oe(e);if(t){var o=Oe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return he(this,n)}}function he(e,t){return!t||"object"!==ie(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Oe(e){return(Oe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var we=d.s[0].id,Ee=1,je={id:"conditionalJudgment",name:"条件判断",nodeType:201,iconCls:"conditionalJudgment",description:"满足指定条件则输出True，否则输出False",apiDocumentLink:"",entryNum:1,output:[2,2,2],configuration:function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ve(e,t)}(a,e);var t,n,r,o=be(a);function a(){var e;me(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=o.call.apply(o,[this].concat(n))).onChange=function(t){var n=e.props,r=n.nodeItem.id;(0,n.changeNodeConfiguration)(r,t)},e.changeLogic=function(t,n){var r=e.props.nodeItem.configuration.list,o={list:pe(r)},a=r.findIndex((function(e){return e.id===t}));a>-1&&(o.list[a].logic=n),e.onChange(o)},e.reverse=function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=e.props.nodeItem.configuration.list,o={list:pe(r)},a=r.findIndex((function(e){return e.id===t}));if(a>-1){var i,u=n?a-1:a,c=o.list.splice(u,2);if(2===c.length){var l=fe(c,2),s=l[0].logic,f=l[1].logic;c[0].logic=f,c[1].logic=s}(i=o.list).splice.apply(i,[u,0].concat(pe(c.reverse())))}e.onChange(o)},e.down=function(t){e.reverse(t)},e.up=function(t){e.reverse(t,!0)},e.delAll=function(t){e.props.nodeItem.configuration.list.length>0&&(e.onChange({list:[]}),t.setFieldsValue({__listLen__:0}),t.validateFields(["__listLen__"]))},e.del=function(t,n){var r=e.props.nodeItem.configuration.list,o={list:pe(r)},a=r.findIndex((function(e){return e.id===t}));a>-1&&o.list.splice(a,1),n.setFieldsValue({__listLen__:o.list.length}),n.validateFields(["__listLen__"]),e.onChange(o)},e.hideListModal=function(){e.onChange({showListModal:!1,showListId:void 0})},e.addListItem=function(){e.onChange({showListModal:!0,showListId:void 0})},e.editListItem=function(t){e.onChange({showListModal:!0,showListId:t})},e.saveListItem=function(t,n){var r=e.props.nodeItem.configuration,o=r.list,a=r.showListId,i={showListId:void 0,showListModal:!1};if(a){var u=o.find((function(e){return e.id===a}));u&&Object.assign(u,t)}else o.push(le({id:Ee++,logic:we},t)),n.setFieldsValue({__listLen__:o.length});e.onChange(le(le({},i),{},{list:pe(o)}))},e.getDel=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return r?t:c.a.createElement(_.a,{title:e,overlayClassName:"draw-confirm",okText:"删除",okType:"danger",getPopupContainer:function(){return document.body},cancelText:"取消",placement:"topRight",onConfirm:n},t)},e.getChildren=function(t){var n=e.props,r=n.readonly,o=n.parents,a=n.nodeItem.configuration,u=a.list,f=a.showListModal,p=a.showListId,y=u.length>=10,m=y?"最多添加10条件组":"条件",g=0===u.length,v="draw-del"+(g?" disabled":"");return c.a.createElement(c.a.Fragment,null,c.a.createElement(s.a.Item,{label:Object(l.c)("条件配置","可以设置多个子条件，按顺序进行判断并产生最终的布尔值"),required:!0},r?null:c.a.createElement("div",{className:v},e.getDel("您确定要删除所有条件配置吗？",c.a.createElement(L.a,null),(function(){return e.delAll(t)}),g)),c.a.createElement("div",{className:"draw-topic"},u.map((function(n,a){var l=n.id,s=n.operate,f=n.source,p=n.sourceType,y=n.sourceValue,m=n.target,g=n.targetType,v=n.targetValue,b=n.logic,h=d.i.indexOf(s)>-1,O=u.length-1===a,w=Object(d.q)(f,p,y,o)+" ",E=h?"":Object(d.q)(m,g,v,o),j="条件"+(a+1)+"："+w+(h?d.h[s].value2:d.h[s].value)+" "+E,P=O?null:c.a.createElement("div",{className:"draw-logic"},c.a.createElement("div",{className:"draw-logic-inner"},c.a.createElement("div",{className:"draw-logic-content"},c.a.createElement(i.a,{placeholder:"请选择",value:b,onChange:function(t){return e.changeLogic(l,t)},disabled:r},d.s.map((function(e){var t=e.id,n=e.value;return c.a.createElement(i.a.Option,{value:t,key:t},n)}))))));return c.a.createElement(c.a.Fragment,{key:l},c.a.createElement("div",{className:"draw-topic-item"},c.a.createElement("span",{title:j},j),r?null:c.a.createElement("div",{className:"draw-topic-right"},0===a?null:c.a.createElement(k.a,{onClick:function(){return e.up(l)}}),O?null:c.a.createElement(R.a,{onClick:function(){return e.down(l)}}),c.a.createElement(N.a,{onClick:function(){return e.editListItem(l)}}),e.getDel("确定删除该路径吗？",c.a.createElement(A.a,null),(function(){return e.del(l,t)})))),P)}))),r?null:c.a.createElement(D.a,{block:!0,icon:c.a.createElement(M.a,null),onClick:e.addListItem,disabled:y},m),t.getFieldDecorator("__listLen__",{initialValue:u.length,rules:[{pattern:/^[1-9]\d*$/,message:"条件配置不能为空"}]})(c.a.createElement(C.a,{type:"hidden"}))),c.a.createElement(ae,{title:"配置条件",needSource:!0,needOperate:!0,isShow:f,parents:o,id:p,list:u,hide:e.hideListModal,submit:function(n){return e.saveListItem(n,t)}}))},e}return t=a,(n=[{key:"render",value:function(){var e=this.props.nodeItem.id,t=le(le({},this.props),{},{log:void 0,render:this.getChildren});return c.a.createElement(l.a,ue({},t,{key:e}))}}])&&ge(t.prototype,n),r&&ge(t,r),a}(u.Component),outputType:f.l.LIST,outputValue:function(e,t){return[{id:"",value:"判断节点-判断结果"}]},initData:function(){return{list:[],showListModal:!1,showListId:void 0}},validate:function(e,t,n){return 0===e.list.length&&"条件配置不能为空"},toData:function(e,t,n,r){var o=e.list,a=t.pId;return{conditions:o.map((function(e){var t=e.source,n=e.sourceType,o=e.sourceValue,i=e.operate,u=e.target,c=e.targetType,l=e.targetValue,s=e.logic,p=Object(d.o)(t,n,o,r,a),y=p.target,m=p.targetType,g=p.targetValue,v=d.i.indexOf(i)>-1,b=Object(d.o)(u,c,l,r,a),h=b.target,O=b.targetType,w=b.targetValue;return{source:y,sourceType:m,sourceValue:g,operate:i,target:v?f.g.Value:h,targetType:v?f.q.Number:O,targetValue:v?"":w,logicOperate:s}}))}},toConfiguration:function(e){var t=e.conditions,n=-99;return{list:t.map((function(e){var t=e.source,r=e.sourceType,o=e.sourceValue,a=e.operate,i=e.target,u=e.targetType,c=e.targetValue,l=e.logicOperate,s=Object(d.p)(t,r,o),f=s.target,p=s.targetType,y=s.targetValue,m=Object(d.p)(i,u,c),g=m.target,v=m.targetType,b=m.targetValue;return{id:--n,source:f,sourceType:p,sourceValue:y,operate:a,target:g,targetType:v,targetValue:b,logic:l}}))}}},Pe=n("V0bm");function Ie(e){return(Ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Se(){return(Se=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Te(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){u=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw o}}return a}(e,t)||ke(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function De(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ce(Object(n),!0).forEach((function(t){_e(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Le(e){return function(e){if(Array.isArray(e))return Re(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ke(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ke(e,t){if(e){if("string"==typeof e)return Re(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Re(e,t):void 0}}function Re(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Me(e,t){return(Me=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function xe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Be(e);if(t){var o=Be(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ve(this,n)}}function Ve(e,t){return!t||"object"!==Ie(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Be(e){return(Be=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Fe=1;function qe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){u=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ue(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ue(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ue(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Je={id:"optionJudgment",name:"路径选择",nodeType:202,iconCls:"optionJudgment",description:"根据输入的数据进行if-else判断以分配后续路径",apiDocumentLink:"",entryNum:1,output:[2,0,10],configuration:function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Me(e,t)}(a,e);var t,n,r,o=xe(a);function a(){var e;Ne(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=o.call.apply(o,[this].concat(n))).onChange=function(t){var n=e.props,r=n.nodeItem.id;(0,n.changeNodeConfiguration)(r,t)},e.reverse=function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=e.props.nodeItem.configuration.paths,o={paths:Le(r)},a=r.findIndex((function(e){return e.id===t}));if(a>-1){var i,u=n?a-1:a,c=o.paths.splice(u,2);(i=o.paths).splice.apply(i,[u,0].concat(Le(c.reverse())))}e.onChange(o)},e.downPath=function(t){e.reverse(t)},e.upPath=function(t){e.reverse(t,!0)},e.delAllPath=function(t){e.props.nodeItem.configuration.paths.length>0&&(e.onChange({output:[],paths:[]}),t.setFieldsValue({__pathLen__:0}),t.validateFields(["__pathLen__"]))},e.delPath=function(t,n){var r=e.props.nodeItem.configuration,o=r.output,a=r.paths,i={output:Le(o),paths:Le(a)},u=a.findIndex((function(e){return e.id===t}));u>-1&&(i.output.splice(u,1),i.paths.splice(u,1),n.setFieldsValue({__pathLen__:i.paths.length}),n.validateFields(["__pathLen__"])),e.onChange(i)},e.hidePathModal=function(){e.onChange({showPathModal:!1,showPathId:void 0})},e.addInput=function(){e.onChange({showPathModal:!0,showPathId:d.r})},e.addPath=function(){e.onChange({showPathModal:!0,showPathId:void 0})},e.editPath=function(t){e.onChange({showPathModal:!0,showPathId:t})},e.savePath=function(t,n){var r=e.props.nodeItem.configuration,o=r.output,a=r.paths,i=r.showPathId,u={showPathId:void 0,showPathModal:!1};if(i){var c=a.find((function(e){return e.id===i}));if(c)Object.assign(c,t);else if(i===d.r){var l={id:d.r};Object.assign(l,t),u.input=[l],n.setFieldsValue({__inputLen__:1})}}else a.push(De({id:Fe++},t)),u.output=Le(o),u.output.push(Object(Pe.e)()),n.setFieldsValue({__pathLen__:a.length});e.onChange(De(De({},u),{},{paths:Le(a)}))},e.getDel=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return r?t:c.a.createElement(_.a,{title:e,overlayClassName:"draw-confirm",okText:"删除",okType:"danger",getPopupContainer:function(){return document.body},cancelText:"取消",placement:"topRight",onConfirm:n},t)},e.getChildren=function(t){var n=e.props,r=n.readonly,o=n.parents,a=n.nodeItem,i=a.nodeType,u=a.configuration,f=Te(Pe.a[i].output,3)[2],p=u.input,y=u.paths,m=u.showPathModal,g=u.showPathId,v=d.r===g,b=v?"配置输入":"配置路径",h=y.length>=f,O=h?"最多添加"+f+"条路径":"路径",w=p.length>0?c.a.createElement("div",{className:"draw-topic"},p.map((function(t){var n=t.id,a=t.target,i=t.targetType,u=t.targetValue;return c.a.createElement("div",{className:"draw-topic-item",key:n},c.a.createElement("span",null,Object(d.q)(a,i,u,o)),r?null:c.a.createElement("div",{className:"draw-topic-right"},c.a.createElement(N.a,{onClick:function(){return e.editPath(n)}})))}))):c.a.createElement(D.a,{block:!0,icon:c.a.createElement(M.a,null),onClick:e.addInput,disabled:r},"输入"),E=0===y.length,j="draw-del"+(E?" disabled":""),P=c.a.createElement(s.a.Item,{label:Object(l.c)("路径配置","路径选择的输入变量，用于对比所有路径的条件，可以是一个固定值或者来自其他节点的动态值。"),required:!0},r?null:c.a.createElement("div",{className:j},e.getDel("您确定要删除所有路径吗？",c.a.createElement(L.a,null),(function(){return e.delAllPath(t)}),E)),c.a.createElement("div",{className:"draw-topic"},y.map((function(n,a){var i=n.id,u=n.operate,l=n.target,s=n.targetType,f=n.targetValue,p=d.i.indexOf(u)>-1?"":Object(d.q)(l,s,f,o),m="路径"+(a+1)+"："+d.h[u].value+" "+p;return c.a.createElement("div",{className:"draw-topic-item",key:i},c.a.createElement("span",{title:m},m),r?null:c.a.createElement("div",{className:"draw-topic-right"},0===a?null:c.a.createElement(k.a,{onClick:function(){return e.upPath(i)}}),a===y.length-1?null:c.a.createElement(R.a,{onClick:function(){return e.downPath(i)}}),c.a.createElement(N.a,{onClick:function(){return e.editPath(i)}}),e.getDel("确定删除该路径吗？",c.a.createElement(A.a,null),(function(){return e.delPath(i,t)}))))}))),r?null:c.a.createElement(D.a,{block:!0,icon:c.a.createElement(M.a,null),onClick:e.addPath,disabled:h},O),t.getFieldDecorator("__pathLen__",{initialValue:y.length,rules:[{pattern:/^[1-9]\d*$/,message:"路径不能为空"}]})(c.a.createElement(C.a,{type:"hidden"})));return c.a.createElement(c.a.Fragment,null,c.a.createElement(s.a.Item,{label:Object(l.c)("输入","路径选择的输入变量，用于对比所有路径的条件，可以是一个固定值或者来自其他节点的动态值"),required:!0},w,t.getFieldDecorator("__inputLen__",{initialValue:p.length,rules:[{pattern:/^[1-9]\d*$/,message:"输入不能为空"}]})(c.a.createElement(C.a,{type:"hidden"}))),P,c.a.createElement(ae,{title:b,needSource:!1,needOperate:!v,isShow:m,parents:o,id:g,list:p.concat(y),hide:e.hidePathModal,submit:function(n){return e.savePath(n,t)}}))},e}return t=a,(n=[{key:"render",value:function(){var e=this.props.nodeItem.id,t=De(De({},this.props),{},{log:void 0,render:this.getChildren});return c.a.createElement(l.a,Se({},t,{key:e}))}}])&&Ae(t.prototype,n),r&&Ae(t,r),a}(u.Component),initData:function(){return{input:[],paths:[{id:-99,operate:d.i[0],target:f.g.Value,targetType:f.q.Number,targetValue:""},{id:-98,operate:d.i[1],target:f.g.Value,targetType:f.q.Number,targetValue:""}],showPathModal:!1,showPathId:void 0}},validate:function(e,t,n){var r=e.input,o=e.paths;return 0===r.length?"输入不能为空":0===o.length&&"路径配置不能为空"},toData:function(e,t,n,r){var o=qe(e.input,1)[0],a=e.paths,i=t.pId,u=o.target,c=o.targetType,l=o.targetValue,s=Object(d.o)(u,c,l,r,i);return{source:s.target,sourceType:s.targetType,sourceValue:s.targetValue,targets:a.map((function(e){var t=e.operate,n=e.target,o=e.targetType,a=e.targetValue,u=Object(d.o)(n,o,a,r,i);return{operate:t,target:u.target,targetType:u.targetType,targetValue:u.targetValue}}))}},toConfiguration:function(e){var t=e.source,n=e.sourceType,r=e.sourceValue,o=e.targets,a=Object(d.p)(t,n,r),i=a.target,u=a.targetType,c=a.targetValue,l=-99;return{input:[{id:d.r,target:i,targetType:u,targetValue:c}],paths:o.map((function(e){var t=e.operate,n=e.target,r=e.targetType,o=e.targetValue,a=Object(d.p)(n,r,o),i=a.target,u=a.targetType,c=a.targetValue;return{id:--l,operate:t,target:i,targetType:u,targetValue:c}}))}}};function He(e){return(He="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function We(){return(We=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ge(Object(n),!0).forEach((function(t){Qe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ge(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Qe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ze(e){return function(e){if(Array.isArray(e))return Ze(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Ze(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ze(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ze(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $e(e,t){return($e=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function et(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=nt(e);if(t){var o=nt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return tt(this,n)}}function tt(e,t){return!t||"object"!==He(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function nt(e){return(nt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var rt=1,ot=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$e(e,t)}(a,e);var t,n,r,o=et(a);function a(){var e;Ye(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=o.call.apply(o,[this].concat(n))).onChange=function(t){var n=e.props,r=n.nodeItem.id;(0,n.changeNodeConfiguration)(r,t)},e.changeLogic=function(t){e.onChange({logic:t})},e.delAll=function(t){e.props.nodeItem.configuration.list.length>0&&(e.onChange({list:[]}),t.setFieldsValue({__listLen__:0}),t.validateFields(["__listLen__"]))},e.del=function(t,n){var r=e.props.nodeItem.configuration.list,o={list:ze(r)},a=r.findIndex((function(e){return e.id===t}));a>-1&&o.list.splice(a,1),n.setFieldsValue({__listLen__:o.list.length}),n.validateFields(["__listLen__"]),e.onChange(o)},e.hideListModal=function(){e.onChange({showListModal:!1,showListId:void 0})},e.addInput=function(){e.onChange({showListModal:!0,showListId:d.r})},e.addListItem=function(){e.onChange({showListModal:!0,showListId:void 0})},e.editListItem=function(t){e.onChange({showListModal:!0,showListId:t})},e.saveListItem=function(t,n){var r=e.props.nodeItem.configuration,o=r.list,a=r.showListId,i={showListId:void 0,showListModal:!1};if(a){var u=o.find((function(e){return e.id===a}));if(u)Object.assign(u,t);else if(a===d.r){var c={id:d.r};Object.assign(c,t),i.input=[c],n.setFieldsValue({__inputLen__:1})}}else o.push(Ke({id:rt++},t)),n.setFieldsValue({__listLen__:o.length});e.onChange(Ke(Ke({},i),{},{list:ze(o)}))},e.getDel=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return r?t:c.a.createElement(_.a,{title:e,overlayClassName:"draw-confirm",okText:"删除",okType:"danger",getPopupContainer:function(){return document.body},cancelText:"取消",placement:"topRight",onConfirm:n},t)},e.getChildren=function(t){var n=e.props,r=n.readonly,o=n.parents,a=n.nodeItem.configuration,u=a.input,f=a.logic,p=a.list,y=a.showListModal,m=a.showListId,g=d.r===m,v=g?"选择源数据":"选择参数",b=g?"配置源数据":"配置参数",h=p.length>=10,O=h?"最多添加10个参数":"参数",w=u.length>0?c.a.createElement("div",{className:"draw-topic"},u.map((function(t){var n=t.id,a=t.target,i=t.targetType,u=t.targetValue;return c.a.createElement("div",{className:"draw-topic-item",key:n},c.a.createElement("span",null,Object(d.q)(a,i,u,o)),r?null:c.a.createElement("div",{className:"draw-topic-right"},c.a.createElement(N.a,{onClick:function(){return e.editListItem(n)}})))}))):r?null:c.a.createElement(D.a,{block:!0,icon:c.a.createElement(M.a,null),onClick:e.addInput},"配置源数据"),E=0===p.length,j="draw-del"+(E?" disabled":""),P=c.a.createElement(s.a.Item,{label:Object(l.c)("参数配置","用于与数据源进行依次计算的各个参数配置"),required:!0},r?null:c.a.createElement("div",{className:j},e.getDel("您确定要删除所有参数吗？",c.a.createElement(L.a,null),(function(){return e.delAll(t)}),E)),c.a.createElement("div",{className:"draw-topic"},p.map((function(n,a){var i=n.id,u=n.target,l=n.targetType,s=n.targetValue,f="参数"+(a+1)+"："+Object(d.q)(u,l,s,o);return c.a.createElement("div",{className:"draw-topic-item",key:i},c.a.createElement("span",{title:f},f),r?null:c.a.createElement("div",{className:"draw-topic-right"},c.a.createElement(N.a,{onClick:function(){return e.editListItem(i)}}),e.getDel("确定删除该参数吗？",c.a.createElement(A.a,null),(function(){return e.del(i,t)}))))}))),r?null:c.a.createElement(D.a,{block:!0,icon:c.a.createElement(M.a,null),onClick:e.addListItem,disabled:h},O),t.getFieldDecorator("__listLen__",{initialValue:p.length,rules:[{pattern:/^[1-9]\d*$/,message:"参数不能为空"}]})(c.a.createElement(C.a,{type:"hidden"})));return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"draw-group"},c.a.createElement("div",{className:"draw-group-inner"},"输入配置")),c.a.createElement(s.a.Item,{label:Object(l.c)("数据源","数值计算节点的数据源只能是数值型数据。用于作为下述计算的基准数"),required:!0},w,t.getFieldDecorator("__inputLen__",{initialValue:u.length,rules:[{pattern:/^[1-9]\d*$/,message:"数据源不能为空"}]})(c.a.createElement(C.a,{type:"hidden"}))),c.a.createElement("div",{className:"draw-group"},c.a.createElement("div",{className:"draw-group-inner"},"数值计算")),c.a.createElement(s.a.Item,{label:Object(l.c)("运算方法","数值计算节点的数据源只能是数值型数据。用于作为下述计算的基准数"),required:!0},c.a.createElement(i.a,{placeholder:"请选择",value:f,onChange:e.changeLogic,disabled:r},d.t.map((function(e){var t=e.id,n=e.value;return c.a.createElement(i.a.Option,{value:t,key:t},n)})))),P,c.a.createElement(ae,{title:b,label:v,needSource:!1,needOperate:!1,onlyNumber:!0,isShow:y,parents:o,id:m,list:u.concat(p),hide:e.hideListModal,submit:function(n){return e.saveListItem(n,t)}}))},e}return t=a,(n=[{key:"render",value:function(){var e=this.props.nodeItem.id,t=Ke(Ke({},this.props),{},{log:void 0,render:this.getChildren});return c.a.createElement(l.a,We({},t,{key:e}))}}])&&Xe(t.prototype,n),r&&Xe(t,r),a}(u.Component);function at(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){u=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return it(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return it(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function it(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ut=d.t[0].id,ct={id:"calculat",name:"数值计算",nodeType:203,iconCls:"calculat",description:"对来自设备，API等的数据进行数值计算并输出结果",apiDocumentLink:"",entryNum:1,output:[1,1,1],configuration:ot,outputType:f.l.LIST,outputValue:function(e,t){return[{id:"",value:"计算节点-计算结果"}]},initData:function(){return{input:[],logic:ut,list:[],showListModal:!1,showListId:void 0}},validate:function(e,t,n){var r=e.input,o=e.list;return 0===r.length?"数据源配置不能为空":0===o.length&&"参数配置不能为空"},toData:function(e,t,n,r){var o=t.pId,a=at(e.input,1)[0],i=e.logic,u=e.list,c=a.target,l=a.targetType,s=a.targetValue,f=Object(d.o)(c,l,s,r,o);return{source:f.target,sourceType:f.targetType,sourceValue:f.targetValue,operateSign:i,targets:u.map((function(e){var t=e.target,n=e.targetType,a=e.targetValue,i=Object(d.o)(t,n,a,r,o);return{target:i.target,targetType:i.targetType,targetValue:i.targetValue}}))}},toConfiguration:function(e){var t=e.source,n=e.sourceType,r=e.sourceValue,o=e.operateSign,a=e.targets,i=Object(d.p)(t,n,r),u=i.target,c=i.targetType,l=i.targetValue,s=-99;return{input:[{id:d.r,target:u,targetType:c,targetValue:l}],logic:o,list:a.map((function(e){var t=e.target,n=e.targetType,r=e.targetValue,o=Object(d.p)(t,n,r),a=o.target,i=o.targetType,u=o.targetValue;return{id:--s,target:a,targetType:i,targetValue:u}}))}}},lt=n("fPXa"),st=n("a+Kn");function ft(e){return(ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pt(){return(pt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function dt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dt(Object(n),!0).forEach((function(t){mt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function mt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bt(e,t){return(bt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ht(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=wt(e);if(t){var o=wt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ot(this,n)}}function Ot(e,t){return!t||"object"!==ft(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function wt(e){return(wt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Et=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bt(e,t)}(a,e);var t,n,r,o=ht(a);function a(){var e;gt(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=o.call.apply(o,[this].concat(n))).onChange=function(t){var n=e.props,r=n.nodeItem.id;(0,n.changeNodeConfiguration)(r,t)},e.changeTemplate=function(t){e.onChange({jsType:t})},e.setCode=function(t,n){e.onChange({js:t}),n.setFieldsValue({__js__:st.a.toTrim(t)}),n.validateFields(["__js__"])},e.fullScreen=function(){e.props.fullScreen()},e.getDevice=function(t){var n=e.props,r=n.readonly,o=n.product,a=o.isLoading,u=o.isError,l=o.list,f=n.nodeItem.configuration,y=f.productId,m=f.eventType,g=t.getFieldDecorator,v=u||0===l.length;return c.a.createElement(c.a.Fragment,null,c.a.createElement(s.a.Item,{label:"选择产品"},g("productId",{initialValue:y,rules:[p.a.isRequire("产品")]})(c.a.createElement(i.a,{showSearch:!0,placeholder:v?"暂无可用产品":"请选择产品",notFoundContent:"未找到相应记录",optionFilterProp:"children",loading:a,disabled:v||r},l.map((function(e){var t=e.id,n=e.value;return c.a.createElement(i.a.Option,{value:t,key:t},n)}))))),c.a.createElement(s.a.Item,{label:"选择协议"},g("eventType",{initialValue:m,rules:[p.a.isRequire("协议")]})(c.a.createElement(i.a,{showSearch:!0,placeholder:"请选择协议",notFoundContent:"未找到相应记录",optionFilterProp:"children",disabled:r},d.m.map((function(e){var t=e.id,n=e.value;return c.a.createElement(i.a.Option,{value:t,key:t},n)}))))))},e.getChildren=function(t){var n=e.props,r=n.readonly,o=n.isFullScreen,a=n.nodeItem.configuration,u=a.jsType,l=a.js,y=u===f.k.DEVICEACCESS?e.getDevice(t):null;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"draw-group"},c.a.createElement("div",{className:"draw-group-inner"},"Node.js（Node v6.10）")),c.a.createElement(s.a.Item,{label:"脚本",required:!0},r?null:c.a.createElement("div",{className:"draw-del"},c.a.createElement("div",{className:"draw-del-group"},c.a.createElement(D.a,{type:"link",onClick:e.fullScreen},o?"退出全屏":"全屏"))),c.a.createElement(i.a,{placeholder:"请选择",value:u,onChange:e.changeTemplate,disabled:r},d.a.map((function(e){var t=e.id,n=e.value;return c.a.createElement(i.a.Option,{value:t,key:t},n)})))),y,c.a.createElement(s.a.Item,null,c.a.createElement(lt.a,{readOnly:r,code:l,onChange:function(n){return e.setCode(n,t)}}),t.getFieldDecorator("__js__",{initialValue:l,rules:[p.a.isRequire("NodeJS脚本")]})(c.a.createElement(C.a,{type:"hidden"}))))},e}return t=a,(n=[{key:"render",value:function(){var e=this.props.nodeItem.id,t=yt(yt({},this.props),{},{log:void 0,render:this.getChildren});return c.a.createElement(l.a,pt({},t,{key:e}))}}])&&vt(t.prototype,n),r&&vt(t,r),a}(u.Component),jt={id:"nodeJsScript",name:"NodeJS脚本",nodeType:204,iconCls:"nodeJsScript",description:"支持JavaScript进行业务开发，可进行参数解析处理等",apiDocumentLink:"",entryNum:1,output:[1,1,1],configuration:Et,initData:function(){return{dependency:[],jsType:f.k.BLANK,js:"/**\n* @param {Object} payload 上一节点的输出\n*/\nmodule.exports = async function(payload) {\n  // Insert your decryption code\n  return payload;\n}",productId:void 0,eventType:void 0}},validate:function(e,t,n){var r=e.jsType,o=e.js,a=e.productId,i=e.eventType;return""===st.a.toTrim(o)?"NodeJs脚本不能为空":r===f.k.DEVICEACCESS&&(void 0===a?"产品不能为空":void 0===i&&"协议不能为空")},toData:function(e,t,n){var r=e.dependency,o=e.jsType,a=e.js,i=e.productId,u=e.eventType;return{dependency:r,jsType:o,js:a,productId:o===f.k.BLANK?null:i,eventType:o===f.k.BLANK?null:u}},toConfiguration:function(e){var t=e.dependency,n=e.jsType,r=e.js,o=e.productId,a=e.eventType;return{dependency:t,jsType:n,js:r,productId:null===o?void 0:o,eventType:null===a?void 0:a}}};function Pt(e){return(Pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function It(){return(It=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function St(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Tt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?St(Object(n),!0).forEach((function(t){Ct(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):St(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ct(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Lt(e,t){return(Lt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function kt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Nt(e);if(t){var o=Nt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Rt(this,n)}}function Rt(e,t){return!t||"object"!==Pt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Nt(e){return(Nt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var At=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Lt(e,t)}(a,e);var t,n,r,o=kt(a);function a(){var e;Dt(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=o.call.apply(o,[this].concat(n))).onChange=function(t){var n=e.props,r=n.nodeItem.id;(0,n.changeNodeConfiguration)(r,t)},e.setParams=function(t){e.onChange({params:t})},e.getChildren=function(t){var n=e.props,r=n.readonly,o=n.nodeItem.configuration,a=o.method,u=o.apiUrl,f=o.encode,y=o.params,m=t.getFieldDecorator;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"draw-group"},c.a.createElement("div",{className:"draw-group-inner"},"API配置")),c.a.createElement(s.a.Item,{label:"请求方式",required:!0},m("method",{initialValue:a})(c.a.createElement(i.a,{disabled:r},d.v.map((function(e){var t=e.id,n=e.value;return c.a.createElement(i.a.Option,{value:t,key:t},n)}))))),c.a.createElement(s.a.Item,{label:Object(l.c)("API地址",p.a.urlExplain)},m("apiUrl",{initialValue:u,rules:p.a.url})(c.a.createElement(C.a,{placeholder:"请输入API地址",disabled:r}))),c.a.createElement(s.a.Item,{label:"编码",required:!0},m("encode",{initialValue:f})(c.a.createElement(i.a,{disabled:r},d.l.map((function(e){var t=e.id,n=e.value;return c.a.createElement(i.a.Option,{value:t,key:t},n)}))))),c.a.createElement(s.a.Item,{label:"参数编写"},c.a.createElement(lt.a,{readOnly:r,mode:"json",code:y,onChange:e.setParams})))},e}return t=a,(n=[{key:"render",value:function(){var e=this.props.nodeItem.id,t=Tt(Tt({},this.props),{},{log:void 0,render:this.getChildren});return c.a.createElement(l.a,It({},t,{key:e}))}}])&&_t(t.prototype,n),r&&_t(t,r),a}(u.Component),Mt=d.v[1].id,xt=d.l[0].id,Vt={id:"tripartieApi",name:"API服务调用",nodeType:301,iconCls:"tripartieApi",description:"支持调用外部的API，返回body将完整传递，需要后续添加脚本节点进行解析",apiDocumentLink:"",entryNum:1,output:[1,1,1],configuration:At,initData:function(){return{method:Mt,apiUrl:"",encode:xt,params:'{\n  "param1": "",\n  "param2": ""\n}'}},validate:function(e,t,n){var r=e.apiUrl,o=e.params;return""===r?"API地址不能为空":p.a.urlTest.test(r)?!st.a.isJsonString(o)&&"参数格式应为结构体":"API地址格式不正确"},toData:function(e,t,n){return{method:e.method,apiUrl:e.apiUrl,encode:e.encode,params:e.params}},toConfiguration:function(e){return{method:e.method,apiUrl:e.apiUrl,encode:e.encode,params:e.params}}};function Bt(e){return(Bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ft(){return(Ft=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function qt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ut(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qt(Object(n),!0).forEach((function(t){Jt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Jt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ht(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gt(e,t){return(Gt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Kt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=zt(e);if(t){var o=zt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Qt(this,n)}}function Qt(e,t){return!t||"object"!==Bt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function zt(e){return(zt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Zt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Gt(e,t)}(a,e);var t,n,r,o=Kt(a);function a(){var e;Ht(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=o.call.apply(o,[this].concat(n))).state={mustReCode:!1},e.onChange=function(t){var n=e.props,r=n.nodeItem.id;(0,n.changeNodeConfiguration)(r,t)},e.setParams=function(t){e.onChange({params:t})},e.setParams2=function(t){var n=e.props.api.list.find((function(e){return e.id===t}));n&&(e.setParams(n.params),e.setState({mustReCode:!0}))},e.getChildren=function(t){var n=e.state.mustReCode,r=e.props,o=r.readonly,a=r.api,u=a.isLoading,l=a.isError,f=a.list,d=r.nodeItem.configuration,y=d.apiId,m=d.params,g=t.getFieldDecorator,v=l||0===f.length;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"draw-group"},c.a.createElement("div",{className:"draw-group-inner"},"可用API配置")),c.a.createElement(s.a.Item,{label:"API"},g("apiId",{initialValue:y,rules:[p.a.isRequire("API")]})(c.a.createElement(i.a,{showSearch:!0,placeholder:v?"暂无可用API":"请选择API",notFoundContent:"未找到相应记录",optionFilterProp:"children",loading:u,disabled:v||o,onChange:e.setParams2},f.map((function(e){var t=e.id,n=e.value;return c.a.createElement(i.a.Option,{value:t,key:t},n)}))))),void 0===y||n?null:c.a.createElement(s.a.Item,{label:"API入参"},c.a.createElement(lt.a,{readOnly:o,mode:"json",code:m,onChange:e.setParams})))},e}return t=a,(n=[{key:"componentDidUpdate",value:function(){this.state.mustReCode&&this.setState({mustReCode:!1})}},{key:"render",value:function(){var e=this.props.nodeItem.id,t=Ut(Ut({},this.props),{},{log:void 0,render:this.getChildren});return c.a.createElement(l.a,Ft({},t,{key:e}))}}])&&Wt(t.prototype,n),r&&Wt(t,r),a}(u.Component),Yt={id:"officialAPI",name:"项目内API调用",nodeType:302,iconCls:"officialAPI",description:"支持调用项目内其他API，支持返回body解析",apiDocumentLink:"",entryNum:1,output:[1,1,1],configuration:Zt,initData:function(){return{apiId:void 0,params:"{\n}"}},validate:function(e,t,n){var r=e.apiId,o=e.params;return void 0===r?"项目内API不能为空":!st.a.isJsonString(o)&&"参数格式应为结构体"},toData:function(e,t,n){var r=e.apiId,o=e.params,a=n.api.list.find((function(e){return e.id===r}));return{flowId:r,apiUrl:(a||{}).invokeUrl||"",params:o}},toConfiguration:function(e){var t=e.flowId;return{apiId:null===t?void 0:t,params:e.params}}},Xt=(n("GRva"),n("gK9i")),$t=(n("mbEz"),n("wCAj"));function en(e){return(en="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nn(e,t){return(nn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function rn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=an(e);if(t){var o=an(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return on(this,n)}}function on(e,t){return!t||"object"!==en(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function an(e){return(an=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var un={width:"100%"},cn=d.c[0].id,ln=d.z[0].id,sn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nn(e,t)}(a,e);var t,n,r,o=rn(a);function a(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=o.call(this,e)).defaultType=void 0,t.state={mustReCode:!1},t.getValue=function(e){return e===f.q.Boolean?cn:e!==f.q.Time?e===f.q.Array?"[]":e===f.q.Object?"{\n}":"":void 0},t.changeFirst=function(e){var n=e===f.g.Value?t.defaultType:ln,r=t.getValue(n);t.props.onChange({source:e,sourceType:n,sourceValue:r})},t.changeSecond=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t.props.onChange({sourceType:e,sourceValue:n?"":t.getValue(e)}),e!==f.q.Array&&e!==f.q.Object||t.setState({mustReCode:!0})},t.changeThird=function(e){t.props.onChange({sourceValue:e})};var n=e.onlyNumber,r=void 0!==n&&n,i=e.onlyString,u=void 0!==i&&i,c=e.onlyArray,l=void 0===c||c,s=e.moreValueType,p=void 0!==s&&s,y=r?d.f.slice(0,1):u?d.f.slice(2,3):l?d.e.slice(0,1):p?d.f.concat(d.e):d.f;return t.defaultType=y[0].id,t}return t=a,(n=[{key:"componentDidUpdate",value:function(){this.state.mustReCode&&this.setState({mustReCode:!1})}},{key:"render",value:function(){var e=this,t=this.state.mustReCode,n=this.props,r=n.source,o=n.sourceType,a=n.sourceValue,u=n.parents,l=n.readonly,s=void 0!==l&&l,p=n.onlyNumber,y=void 0!==p&&p,m=n.onlyString,g=void 0!==m&&m,v=n.onlyArray,b=void 0!==v&&v,h=n.moreValueType,O=void 0!==h&&h,w=r===f.g.Value,E=r===f.g.Node,j=o===f.q.Array,P=o===f.q.Object,I=w&&y?d.f.slice(0,1):w&&g?d.f.slice(2,3):w&&b?d.e.slice(0,1):w&&O?d.f.concat(d.e):w?d.f:u,S=function(t){return e.changeThird(t.target.value)},T=function(t){return e.changeThird(t)},D=null;if(w)o===f.q.Number||o===f.q.String?D=c.a.createElement(C.a,{placeholder:"请输入一个"+(o===f.q.Number?"数值":"字符串"),onChange:o===f.q.Number?function(t){return e.changeThird(t.target.value.replace(/[^\d.]/g,""))}:S,value:a,disabled:s}):o===f.q.Boolean?D=c.a.createElement(i.a,{placeholder:"请选择",value:a,onChange:T,disabled:s},d.c.map((function(e){var t=e.id,n=e.value;return c.a.createElement(i.a.Option,{value:t,key:t},n)}))):o===f.q.Time?D=c.a.createElement(V.a,{placeholder:"请选择日期和时间",format:d.n,style:un,showToday:!1,showTime:{defaultValue:q()("00:00:00","HH:mm:ss")},value:a,onChange:function(t){return e.changeThird(t)},disabled:s}):(j||P)&&(D=t?null:c.a.createElement(lt.a,{mode:P?"json":"",height:145,readOnly:s,code:a,onChange:T}));else if(E){var _=u.find((function(e){return e.id===o}))||{},L=_.type,k=_.list;D=L===f.l.LIST?c.a.createElement(i.a,{placeholder:"请选择",value:a,onChange:T,disabled:s},(k||[]).map((function(e){var t=e.id,n=e.value;return c.a.createElement(i.a.Option,{value:t,key:t},n)}))):c.a.createElement(C.a,{placeholder:"不填写变量名则默认为整个返回值",onChange:S,value:a,disabled:s})}return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"draw-menu-group"},d.E.map((function(t){var n=t.id,o=t.value,a=t.disabled,i=r===n,u=i||a||s?void 0:function(){return e.changeFirst(n)};return c.a.createElement("div",{className:"draw-menu"+(i?" draw-menu-selected":"")+(a||s?" draw-menu-disabled":""),onClick:u,key:n},o)}))),c.a.createElement("div",{className:"draw-line"},c.a.createElement(i.a,{placeholder:"请选择",value:o,disabled:w&&(y||g||b)||s,onChange:function(t){return e.changeSecond(t,E)}},I.map((function(e){var t=e.id,n=e.value;return c.a.createElement(i.a.Option,{value:t,key:t},n)})))),c.a.createElement("div",{className:"draw-line"},D))}}])&&tn(t.prototype,n),r&&tn(t,r),a}(u.Component);function fn(e){return(fn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pn(){return(pn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function dn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dn(Object(n),!0).forEach((function(t){mn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function mn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bn(e,t){return(bn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function hn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=wn(e);if(t){var o=wn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return On(this,n)}}function On(e,t){return!t||"object"!==fn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function wn(e){return(wn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var En={id:"httpResponse",name:"HTTP返回",nodeType:701,iconCls:"httpResponse",description:"配置HTTP请求返回的数据，返回码等内容",apiDocumentLink:"",entryNum:1,output:[0,0,0],configuration:function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bn(e,t)}(a,e);var t,n,r,o=hn(a);function a(){var e;gn(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=o.call.apply(o,[this].concat(n))).state={show:["1"]},e.columns=[{title:"返回码",width:60,dataIndex:"code",key:"code"},{title:"信息",dataIndex:"message",key:"message",ellipsis:!0}],e.toggle=function(t){e.setState({show:t})},e.onChange=function(t){var n=e.props,r=n.nodeItem.id;(0,n.changeNodeConfiguration)(r,t)},e.getChildren=function(t){var n=e.state.show,r=e.props,o=r.readonly,a=r.parents,i=r.nodeItem.configuration,u=i.source,f=i.sourceType,p=i.sourceValue,y=Object(l.c)("输出","API返回的body可以是静态数据或来自其他节点（在第一个输入框内指定）；如果来自其他节点，可以返回一个值或一个json。");return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"draw-group"},c.a.createElement("div",{className:"draw-group-inner"},"返回")),c.a.createElement(s.a.Item,{label:y,required:!0},c.a.createElement(sn,{readonly:o,moreValueType:!0,parents:a,source:u,sourceType:f,sourceValue:p,onChange:e.onChange})),c.a.createElement("div",{className:"draw-group"},c.a.createElement("div",{className:"draw-group-inner"},"返回码")),c.a.createElement(Xt.a,{defaultActiveKey:n,onChange:e.toggle},c.a.createElement(Xt.a.Panel,{header:"系统返回码",key:"1"},c.a.createElement($t.a,{size:"small",pagination:!1,columns:e.columns,rowKey:"code",dataSource:d.D}))))},e}return t=a,(n=[{key:"render",value:function(){var e=this.props.nodeItem.id,t=yn(yn({},this.props),{},{log:void 0,render:this.getChildren});return c.a.createElement(l.a,pn({},t,{key:e}))}}])&&vn(t.prototype,n),r&&vn(t,r),a}(u.Component),initData:function(){return{source:f.g.Value,sourceType:f.q.Number,sourceValue:""}},afterConnect:function(e,t,n,r,o){e===f.c.EndPoint&&Object.assign(t,{source:f.g.Node,sourceType:n.id,sourceValue:""})},validate:function(e,t,n){var r=e.source,o=e.sourceType,a=e.sourceValue;if(r===f.g.Value){if(o===f.q.Array&&!st.a.isArrayString(a))return"输出内容格式应为数组";if(o===f.q.Object&&!st.a.isJsonString(a))return"输出内容格式应为结构体"}return!1},toData:function(e,t,n,r){var o=e.source,a=e.sourceType,i=e.sourceValue,u=t.pId,c=Object(d.o)(o,a,i,r,u);return{source:c.target,sourceType:c.targetType,value:c.targetValue}},toConfiguration:function(e){var t=e.source,n=e.sourceType,r=e.value,o=Object(d.p)(t,n,r);return{source:o.target,sourceType:o.targetType,sourceValue:o.targetValue}}};function jn(e){return(jn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pn(){return(Pn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function In(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Sn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?In(Object(n),!0).forEach((function(t){Tn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):In(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Tn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Dn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _n(e,t){return(_n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ln(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Rn(e);if(t){var o=Rn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return kn(this,n)}}function kn(e,t){return!t||"object"!==jn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Rn(e){return(Rn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Nn={id:"mqttRelease",name:"MQTT发布",nodeType:401,iconCls:"mqttRelease",description:"通过MQTT Topic发布消息到设备，无需定义物模型",apiDocumentLink:"",entryNum:1,output:[1,1,1],configuration:function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_n(e,t)}(y,e);var t,n,r,u=Ln(y);function y(){var e;Cn(this,y);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=u.call.apply(u,[this].concat(n))).onChange=function(t){var n=e.props,r=n.nodeItem.id;(0,n.changeNodeConfiguration)(r,t)},e.tab=function(t){e.props.nodeItem.isError&&setTimeout((function(){t.validateFields()}),200)},e.changeType=function(t){var n=parseInt(t.target.value);e.onChange({msgType:n,message:n===f.d.Node?d.A:"//支持透传数据，最大不超过256KB\n[101010]"})},e.changeMsg=function(t){e.onChange({message:t})},e.getProtocolComponent=function(t){var n=e.props,r=n.readonly,o=n.nodeItem.configuration,a=o.productId,u=o.protocolType,l=n.product,f=l.isLoading,y=l.isError,m=l.list,g=t.getFieldDecorator,v=y||0===m.length;return c.a.createElement(c.a.Fragment,null,c.a.createElement(s.a.Item,{label:"选择产品"},g("productId",{initialValue:a,rules:[p.a.isRequire("产品")]})(c.a.createElement(i.a,{showSearch:!0,placeholder:v?"暂无可用产品":"请选择产品",notFoundContent:"未找到相应记录",optionFilterProp:"children",loading:f,disabled:v||r},m.map((function(e){var t=e.id,n=e.value;return c.a.createElement(i.a.Option,{value:t,key:t},n)}))))),c.a.createElement(s.a.Item,{label:"选择Topic",required:!0},g("protocolType",{initialValue:u,rules:[p.a.isRequire("Topic")]})(c.a.createElement(i.a,{showSearch:!0,placeholder:"请选择Topic",notFoundContent:"未找到相应记录",optionFilterProp:"children",disabled:r},d.m.map((function(e){var t=e.id,n=e.value;return c.a.createElement(i.a.Option,{value:t,key:t},n)}))))))},e.getUserDefined=function(t){var n=e.props,r=n.readonly,o=n.mqTopic,a=o.isError,u=o.isLoading,l=o.list,f=n.nodeItem.configuration,d=a||0===l.length,y=f.queueId,m=t.getFieldDecorator;return c.a.createElement(c.a.Fragment,null,c.a.createElement(s.a.Item,{label:"监听Topic"},m("queueId",{initialValue:y,rules:[p.a.isRequire("自定义队列")]})(c.a.createElement(i.a,{showSearch:!0,placeholder:d?"暂无可用队列":"请选择自定义队列",notFoundContent:"未找到相应记录",optionFilterProp:"children",loading:u,disabled:d||r},l.map((function(e){var t=e.id,n=e.value;return c.a.createElement(i.a.Option,{value:t,key:t},n)}))))),c.a.createElement("a",{className:"goto-dataasset",href:"#/userCenter/dataasset",target:"_blank"},"数据资产知识库管理"))},e.getChildren=function(t){var n=e.props,r=n.readonly,u=n.nodeItem.configuration,l=n.parents,p=u.type,y=u.msgType,m=u.message,g=t.getFieldDecorator,v=p===f.n.ProductProtocol?e.getProtocolComponent(t):e.getUserDefined(t);return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"draw-group"},c.a.createElement("div",{className:"draw-group-inner"},"Topic配置")),c.a.createElement(s.a.Item,{label:"订阅Topic类型",required:!0},g("type",{initialValue:p})(c.a.createElement(a.a.Group,{disabled:r,onChange:function(){return e.tab(t)}},d.B.map((function(e){var t=e.id,n=e.value;return c.a.createElement(a.a,{value:t,key:t},n)}))))),c.a.createElement("div",{className:"draw-line"}),v,c.a.createElement(o.a,null),c.a.createElement(s.a.Item,{label:"下发内容类型",required:!0},c.a.createElement(a.a.Group,{value:y,onChange:e.changeType,disabled:r},d.j.map((function(e){var t=e.id,n=e.value;return c.a.createElement(a.a,{value:t,key:t},n)})))),c.a.createElement("div",{className:"draw-group"},c.a.createElement("div",{className:"draw-group-inner"},"message")),c.a.createElement(s.a.Item,null,y===f.d.Node?c.a.createElement(i.a,{placeholder:"请选择节点",value:m,onChange:e.changeMsg,disabled:r},l.map((function(e){var t=e.id,n=e.value;return c.a.createElement(i.a.Option,{value:t,key:t},n+" 输出内容")}))):c.a.createElement(lt.a,{mode:"",readOnly:r,height:280,code:m,onChange:e.changeMsg})))},e}return t=y,(n=[{key:"render",value:function(){var e=this.props.nodeItem.id,t=Sn(Sn({},this.props),{},{log:void 0,render:this.getChildren});return c.a.createElement(l.a,Pn({},t,{key:e}))}}])&&Dn(t.prototype,n),r&&Dn(t,r),y}(u.Component),initData:function(){return{type:f.n.ProductProtocol,productId:void 0,protocolType:void 0,queueId:void 0,params:[],showParamModal:!1,showParamId:void 0,msgType:f.d.Node,message:d.A}},validate:function(e,t,n){var r=e.type,o=e.productId,a=e.protocolType,i=e.queueId,u=e.message;if(r===f.n.ProductProtocol){if(void 0===o)return"产品不能为空";if(void 0===a)return"Topic不能为空"}else if(void 0===i)return"监听Topic的选择队列不能为空";return(void 0===u||""===u)&&"下发内容不能为空"},toData:function(e,t,n){var r=e.type,o=e.productId,a=e.protocolType,i=e.queueId,u=e.msgType,c=e.message,l=t.pId;return{msgType:u,message:u===f.d.Node&&c===d.A?l:c,dsType:r,productId:void 0===o?null:o,eventType:void 0===a?null:a,dsId:void 0===i?null:i}},toConfiguration:function(e){var t=e.msgType,n=e.message,r=e.dsType,o=e.productId,a=e.eventType,i=e.dsId;return{type:r,productId:null===o?void 0:o,protocolType:null===a?void 0:a,queueId:null===i?void 0:i,msgType:t,message:n}}};function An(e){return(An="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mn(){return(Mn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function xn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xn(Object(n),!0).forEach((function(t){Bn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Bn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Un(e,t){return(Un=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Jn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Wn(e);if(t){var o=Wn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Hn(this,n)}}function Hn(e,t){return!t||"object"!==An(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Wn(e){return(Wn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Gn={id:"rocketMQRelease",name:"RocketMQ发布",nodeType:402,iconCls:"rocketMQRelease",description:"通过RocketMq发布消息到指定Topic",apiDocumentLink:"",entryNum:1,output:[1,1,1],configuration:function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Un(e,t)}(u,e);var t,n,r,o=Jn(u);function u(){var e;Fn(this,u);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=o.call.apply(o,[this].concat(n))).onChange=function(t){var n=e.props,r=n.nodeItem.id;(0,n.changeNodeConfiguration)(r,t)},e.changeType=function(t){var n=parseInt(t.target.value);e.onChange({msgType:n,message:n===f.d.Node?d.A:"//支持透传数据，最大不超过256KB\n[101010]"})},e.changeMsg=function(t){e.onChange({message:t})},e.getChildren=function(t){var n=e.props,r=n.readonly,o=n.nodeItem.configuration,u=o.dsId,l=o.msgType,y=o.message,m=n.parents,g=n.rocketMQTopic,v=g.isLoading,b=g.isError,h=g.list,O=t.getFieldDecorator,w=b||0===h.length;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"draw-group"},c.a.createElement("div",{className:"draw-group-inner"},"参数配置")),c.a.createElement(s.a.Item,{label:"下发Topic"},O("dsId",{initialValue:u,rules:[p.a.isRequire("下发Topic")]})(c.a.createElement(i.a,{showSearch:!0,placeholder:w?"暂无可用Topic":"请选择Topic",notFoundContent:"未找到相应记录",optionFilterProp:"children",loading:v,disabled:w||r},h.map((function(e){var t=e.id,n=e.value;return c.a.createElement(i.a.Option,{value:t,key:t},n)}))))),c.a.createElement("a",{className:"goto-dataasset",href:"#/userCenter/dataasset",target:"_blank"},"数据资产知识库管理"),c.a.createElement(s.a.Item,{label:"下发内容类型",required:!0},c.a.createElement(a.a.Group,{value:l,onChange:e.changeType,disabled:r},d.j.map((function(e){var t=e.id,n=e.value;return c.a.createElement(a.a,{value:t,key:t},n)})))),c.a.createElement("div",{className:"draw-group"},c.a.createElement("div",{className:"draw-group-inner"},"message")),c.a.createElement(s.a.Item,null,l===f.d.Node?c.a.createElement(i.a,{placeholder:"请选择节点",value:y,onChange:e.changeMsg,disabled:r},m.map((function(e){var t=e.id,n=e.value;return c.a.createElement(i.a.Option,{value:t,key:t},n+" 输出内容")}))):c.a.createElement(lt.a,{readOnly:r,mode:"",height:280,code:y,onChange:e.changeMsg})))},e}return t=u,(n=[{key:"render",value:function(){var e=this.props.nodeItem.id,t=Vn(Vn({},this.props),{},{log:void 0,render:this.getChildren});return c.a.createElement(l.a,Mn({},t,{key:e}))}}])&&qn(t.prototype,n),r&&qn(t,r),u}(u.Component),initData:function(){return{msgType:f.d.Node,message:d.A,dsId:void 0}},validate:function(e,t,n){var r=e.dsId,o=e.message;return void 0===r?"下发Topic不能为空":(void 0===o||""===o)&&"下发内容不能为空"},toData:function(e,t,n){var r=e.dsId,o=e.msgType,a=e.message,i=t.pId;return{dsId:void 0===r?null:r,msgType:o,message:o===f.d.Node&&a===d.A?i:a}},toConfiguration:function(e){var t=e.dsId;return{dsId:null===t?void 0:t,msgType:e.msgType,message:e.message}}};function Kn(e){return(Kn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qn(){return(Qn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function zn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zn(Object(n),!0).forEach((function(t){Yn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Yn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function er(e,t){return(er=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function tr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=rr(e);if(t){var o=rr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return nr(this,n)}}function nr(e,t){return!t||"object"!==Kn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function rr(e){return(rr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var or=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&er(e,t)}(a,e);var t,n,r,o=tr(a);function a(){var e;Xn(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=o.call.apply(o,[this].concat(n))).onChange=function(t){var n=e.props,r=n.nodeItem.id;(0,n.changeNodeConfiguration)(r,t)},e.setSQL=function(t,n){e.onChange({exeSql:t}),n.setFieldsValue({__sql__:st.a.toTrim(t)}),n.validateFields(["__sql__"])},e.setValues=function(t,n){e.onChange({values:t}),n.setFieldsValue({__query__:st.a.toTrim(t)}),n.validateFields(["__query__"])},e.getChildren=function(t){var n=e.props,r=n.readonly,o=n.nodeItem.configuration,a=n.database,u=a.isLoading,l=a.isError,f=a.list,d=o.dsId,y=o.values,m=o.exeSql,g=t.getFieldDecorator,v=l||0===f.length;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"draw-group"},c.a.createElement("div",{className:"draw-group-inner"},"参数")),c.a.createElement(s.a.Item,{label:"数据库选择"},g("dsId",{initialValue:d,rules:[p.a.isRequire("数据库")]})(c.a.createElement(i.a,{showSearch:!0,placeholder:v?"暂无可用数据库":"请选择数据库",notFoundContent:"未找到相应记录",optionFilterProp:"children",loading:u,disabled:v||r},f.map((function(e){var t=e.id,n=e.value;return c.a.createElement(i.a.Option,{value:t,key:t},n)}))))),c.a.createElement("a",{className:"goto-dataasset",href:"#/userCenter/dataasset",target:"_blank"},"数据资产知识库管理"),c.a.createElement(s.a.Item,{label:"SQL输入",required:!0},c.a.createElement(lt.a,{readOnly:r,mode:"mysql",height:200,code:m,onChange:function(n){return e.setSQL(n,t)}}),g("__sql__",{initialValue:m,rules:[p.a.isRequire("SQL输入")]})(c.a.createElement(C.a,{type:"hidden"}))),c.a.createElement(s.a.Item,{label:"入参选择",required:!0},c.a.createElement(lt.a,{readOnly:r,mode:"json",height:120,code:y,onChange:function(n){return e.setValues(n,t)}}),g("__query__",{initialValue:y,rules:[p.a.isRequire("入参")]})(c.a.createElement(C.a,{type:"hidden"}))))},e}return t=a,(n=[{key:"render",value:function(){var e=this.props.nodeItem.id,t=Zn(Zn({},this.props),{},{log:void 0,render:this.getChildren});return c.a.createElement(l.a,Qn({},t,{key:e}))}}])&&$n(t.prototype,n),r&&$n(t,r),a}(u.Component),ar={id:"mySql",name:"数据库MySQL",nodeType:502,iconCls:"mySql",description:"暂无描述",apiDocumentLink:"",entryNum:1,output:[1,1,1],configuration:or,initData:function(){return{dsId:void 0,exeSql:"SELECT * FROM tb_flow_definition\nwhere flow_id in (:flow_id)\nand version = :version;",values:"{\n}"}},validate:function(e,t,n){var r=e.dsId,o=e.exeSql,a=e.values;return void 0===r?"MySQL数据库不能为空":""===st.a.toTrim(o)?"SQL输入不能为空":""===st.a.toTrim(a)?"入参不能为空":!st.a.isJsonString(a)&&"入参格式应为结构体"},toData:function(e,t,n){var r=e.dsId;return{dml:{exeSql:e.exeSql,values:e.values},dsId:void 0===r?null:r}},toConfiguration:function(e){var t=e.dml,n=t.exeSql,r=t.values,o=e.dsId;return{dsId:null===o?void 0:o,exeSql:n,values:r}}};function ir(e){return(ir="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ur(){return(ur=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function cr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cr(Object(n),!0).forEach((function(t){sr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function sr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dr(e,t){return(dr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function yr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=gr(e);if(t){var o=gr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return mr(this,n)}}function mr(e,t){return!t||"object"!==ir(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function gr(e){return(gr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var vr={id:"keyValue",name:"键值对操作",nodeType:503,iconCls:"keyValue",description:"主键-存储值的存储方式，快速对主键对应的值进行增删改查，无需购买数据库",apiDocumentLink:"",entryNum:1,output:[1,1,1],configuration:function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&dr(e,t)}(a,e);var t,n,r,o=yr(a);function a(){var e;fr(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=o.call.apply(o,[this].concat(n))).onChange=function(t){var n=e.props,r=n.nodeItem.id;(0,n.changeNodeConfiguration)(r,t)},e.get__=function(e,t){return e===f.g.Value&&""===t?"":"1"},e.onChangeKey=function(t,n){var r=e.props.nodeItem.configuration.key,o=t.source,a=t.sourceType,i=t.sourceValue,u={};"source"in t&&(u.key=o),"sourceType"in t&&(u.keyType=a),"sourceValue"in t&&(u.keyValue=i),n.setFieldsValue({__keyValue__:e.get__("source"in t?o:r,i)}),n.validateFields(["__keyValue__"]),e.onChange(u)},e.onChangeValue=function(t,n){var r=e.props.nodeItem.configuration.value,o=t.source,a=t.sourceType,i=t.sourceValue,u={};"source"in t&&(u.value=o),"sourceType"in t&&(u.valueType=a),"sourceValue"in t&&(u.valueValue=i),n.setFieldsValue({__valueValue__:e.get__("source"in t?o:r,i)}),n.validateFields(["__valueValue__"]),e.onChange(u)},e.getChildren=function(t){var n=e.props,r=n.readonly,o=n.parents,a=n.nodeItem.configuration,u=n.redis,y=u.isLoading,m=u.isError,g=u.list,v=t.getFieldDecorator,b=m||0===g.length,h=a.redis,O=a.opeType,w=a.key,E=a.keyType,j=a.keyValue,P=a.value,I=a.valueType,S=a.valueValue,T=e.get__(w,j),D=e.get__(P,S);return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"draw-group"},c.a.createElement("div",{className:"draw-group-inner"},"参数")),c.a.createElement(s.a.Item,{label:"选择Redis数据源"},v("redis",{initialValue:h,rules:[p.a.isRequire("Redis数据源")]})(c.a.createElement(i.a,{showSearch:!0,placeholder:b?"暂无可用Redis数据源":"请选择Redis数据源",notFoundContent:"未找到相应记录",optionFilterProp:"children",loading:y,disabled:b||r},g.map((function(e){var t=e.id,n=e.value;return c.a.createElement(i.a.Option,{value:t,key:t},n)}))))),c.a.createElement("a",{className:"goto-dataasset",href:"#/userCenter/dataasset",target:"_blank"},"数据资产知识库管理"),c.a.createElement("div",{className:"draw-group"},c.a.createElement("div",{className:"draw-group-inner"},"KV存储配置")),c.a.createElement(s.a.Item,{label:Object(l.c)("操作","操作对应的是键（Key）值（Value）对存储的增删改查等操作。"),required:!0},v("opeType",{initialValue:O,rules:[p.a.isRequire("操作")]})(c.a.createElement(i.a,{placeholder:"请选择操作",disabled:r},d.w.map((function(e){var t=e.id,n=e.value;return c.a.createElement(i.a.Option,{value:t,key:t},n)}))))),void 0!==O?c.a.createElement(s.a.Item,{label:Object(l.c)("键(key)","key仅支持字符串类型"),required:!0},c.a.createElement(sn,{readonly:r,onlyString:!0,parents:o,source:w,sourceType:E,sourceValue:j,onChange:function(n){return e.onChangeKey(n,t)}}),v("__keyValue__",{initialValue:T,rules:[p.a.isRequire("键(key)")]})(c.a.createElement(C.a,{type:"hidden"}))):null,O===f.j.Set&&c.a.createElement(c.a.Fragment,null,c.a.createElement(s.a.Item,{label:Object(l.c)("值(value)","value仅支持字符串类型"),required:!0},c.a.createElement(sn,{readonly:r,onlyString:!0,parents:o,source:P,sourceType:I,sourceValue:S,onChange:function(n){return e.onChangeValue(n,t)}}),v("__valueValue__",{initialValue:D,rules:[p.a.isRequire("值(value)")]})(c.a.createElement(C.a,{type:"hidden"})))))},e}return t=a,(n=[{key:"render",value:function(){var e=this.props.nodeItem.id,t=lr(lr({},this.props),{},{log:void 0,render:this.getChildren});return c.a.createElement(l.a,ur({},t,{key:e}))}}])&&pr(t.prototype,n),r&&pr(t,r),a}(u.Component),initData:function(){return{redis:void 0,opeType:void 0,key:f.g.Value,keyType:f.q.String,keyValue:"",value:f.g.Value,valueType:f.q.String,valueValue:""}},validate:function(e,t,n){var r=e.redis,o=e.opeType,a=e.key,i=e.keyValue,u=e.value,c=e.valueValue;return void 0===r?"redis数据源不能为空":void 0===o?"操作项不能为空":a===f.g.Value&&""===i?"键(key)不能为空":o===f.j.Set&&u===f.g.Value&&""===c&&"值(value)不能为空"},toData:function(e,t,n,r){var o=t.pId,a=e.redis,i=e.opeType,u=e.key,c=e.keyType,l=e.keyValue,s=e.value,f=e.valueType,p=e.valueValue,y=Object(d.o)(u,c,l,r,o),m=y.target,g=y.targetValue,v=Object(d.o)(s,f,p,r,o);return{dsId:a,opeType:i,keySource:m,keySourceValue:g,source:v.target,sourceValue:v.targetValue}},toConfiguration:function(e){var t=e.dsId,n=e.opeType,r=e.keySource,o=e.keySourceValue,a=e.source,i=e.sourceValue,u=Object(d.p)(r,r===f.g.Value?f.q.String:0,o),c=u.target,l=u.targetType,s=u.targetValue,p=Object(d.p)(a,a===f.g.Value?f.q.String:0,i);return{redis:t,opeType:n,key:c,keyType:l,keyValue:s,value:p.target,valueType:p.targetType,valueValue:p.targetValue}}};function br(e){return(br="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hr(){return(hr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Or(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Or(Object(n),!0).forEach((function(t){Er(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Or(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Er(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ir(e,t){return(Ir=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Sr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Cr(e);if(t){var o=Cr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Tr(this,n)}}function Tr(e,t){return!t||"object"!==br(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Cr(e){return(Cr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Dr={id:"forLoop",name:"循环开始",nodeType:206,iconCls:"forLoop",description:"循环开始节点",apiDocumentLink:"",entryNum:1,output:[1,1,1],configuration:function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ir(e,t)}(a,e);var t,n,r,o=Sr(a);function a(){var e;jr(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=o.call.apply(o,[this].concat(n))).onChange=function(t){var n=e.props,r=n.nodeItem.id;(0,n.changeNodeConfiguration)(r,t)},e.get__=function(e,t){return e===f.g.Value&&""===t?"":"1"},e.onChangeKey=function(t,n){var r=e.props.nodeItem.configuration.source,o=t.source,a=t.sourceType,i=t.sourceValue,u={};"source"in t&&(u.source=o),"sourceType"in t&&(u.sourceType=a),"sourceValue"in t&&(u.sourceValue=i),n.setFieldsValue({__loopobj__:e.get__("source"in t?o:r,i)}),n.validateFields(["__loopobj__"]),e.onChange(u)},e.getChildren=function(t){var n=e.props,r=n.readonly,o=n.parents,a=n.nodeItem.configuration,i=t.getFieldDecorator,u=a.source,f=a.sourceType,d=a.sourceValue,y=e.get__(u,d);return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"draw-group"},c.a.createElement("div",{className:"draw-group-inner"},"参数配置")),c.a.createElement(s.a.Item,{label:Object(l.c)("循环对象","一个数组"),required:!0},c.a.createElement(sn,{readonly:r,onlyArray:!0,parents:o,source:u,sourceType:f,sourceValue:d,onChange:function(n){return e.onChangeKey(n,t)}}),i("__loopobj__",{initialValue:y,rules:[p.a.isRequire("循环对象")]})(c.a.createElement(C.a,{type:"hidden"}))))},e}return t=a,(n=[{key:"render",value:function(){var e=this.props.nodeItem.id,t=wr(wr({},this.props),{},{log:void 0,render:this.getChildren});return c.a.createElement(l.a,hr({},t,{key:e}))}}])&&Pr(t.prototype,n),r&&Pr(t,r),a}(u.Component),initData:function(){return{source:f.g.Value,sourceType:f.q.Array,sourceValue:""}},validate:function(e,t,n){var r=e.source,o=e.sourceValue;return r===f.g.Value&&""===o&&"循环对象不能为空"},toData:function(e,t,n,r){var o=t.pId,a=e.source,i=e.sourceType,u=e.sourceValue,c=Object(d.o)(a,i,u,r,o);return{source:c.target,sourceValue:c.targetValue}},toConfiguration:function(e){var t=e.source,n=e.sourceValue,r=Object(d.p)(t,t===f.g.Value?f.q.Array:0,n);return{source:r.target,sourceType:r.targetType,sourceValue:r.targetValue}}};function _r(e){return(_r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Lr(){return(Lr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function kr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Rr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kr(Object(n),!0).forEach((function(t){Nr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Nr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ar(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xr(e,t){return(xr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Vr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Fr(e);if(t){var o=Fr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Br(this,n)}}function Br(e,t){return!t||"object"!==_r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Fr(e){return(Fr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var qr={id:"forLoopEnd",name:"循环结束",nodeType:207,iconCls:"forLoopEnd",description:"循环结束节点",apiDocumentLink:"",entryNum:1,output:[1,1,1],configuration:function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xr(e,t)}(a,e);var t,n,r,o=Vr(a);function a(){var e;Ar(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=o.call.apply(o,[this].concat(n))).getChildren=function(e){return c.a.createElement(c.a.Fragment,null)},e}return t=a,(n=[{key:"render",value:function(){var e=this.props.nodeItem.id,t=Rr(Rr({},this.props),{},{log:void 0,render:this.getChildren});return c.a.createElement(l.a,Lr({},t,{key:e}))}}])&&Mr(t.prototype,n),r&&Mr(t,r),a}(u.Component),initData:function(){return{}},validate:function(e,t,n){return!1},toData:function(e,t,n,r){return{}},toConfiguration:function(e){return{}}};function Ur(e){return(Ur="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Jr(){return(Jr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Hr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Wr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hr(Object(n),!0).forEach((function(t){Gr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Gr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zr(e,t){return(zr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Zr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Xr(e);if(t){var o=Xr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Yr(this,n)}}function Yr(e,t){return!t||"object"!==Ur(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Xr(e){return(Xr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var $r=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zr(e,t)}(u,e);var t,n,r,o=Zr(u);function u(){var e;Kr(this,u);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=o.call.apply(o,[this].concat(n))).onChange=function(t){var n=e.props,r=n.nodeItem.id;(0,n.changeNodeConfiguration)(r,t)},e.changeType=function(t){var n=parseInt(t.target.value),r={dataType:n,BYTE_ADJUSTMENT:0};n===f.s.String?(r.startIndex=0,r.dataLength=0):(r.startIndex=void 0,r.dataLength=void 0),e.onChange(r)},e.getChildren=function(t){var n=e.props,r=n.readonly,o=n.nodeItem.configuration,u=o.productId,l=o.dataType,y=o.maximumMessageLength,m=o.startIndex,g=o.dataLength,v=(o.encode,o.STR_DELIMITER),b=o.BYTE_ADJUSTMENT,h=n.product,O=h.isLoading,w=h.isError,E=h.list,j=t.getFieldDecorator,P=w||0===E.length;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"draw-group"},c.a.createElement("div",{className:"draw-group-inner"},"参数配置")),c.a.createElement(s.a.Item,{label:"选择产品"},j("productId",{initialValue:u,rules:[p.a.isRequire("产品")]})(c.a.createElement(i.a,{showSearch:!0,placeholder:P?"暂无可用产品":"请选择产品",notFoundContent:"未找到相应数据",optionFilterProp:"children",loading:O,disabled:P||r},E.map((function(e){var t=e.id,n=e.value;return c.a.createElement(i.a.Option,{value:t,key:t},n)}))))),c.a.createElement(s.a.Item,{label:"消息类型",required:!0},c.a.createElement(a.a.Group,{value:l,onChange:e.changeType,disabled:r},d.u.map((function(e){var t=e.id,n=e.value;return c.a.createElement(a.a,{value:t,key:t},n)})))),c.a.createElement(s.a.Item,{label:"完整消息最大长度",required:!0},j("maximumMessageLength",{initialValue:y,rules:p.a.isInt("消息最大长度")})(c.a.createElement(C.a,{type:"number",min:0,placeholder:"请输入完整消息最大长度",disabled:r}))),l===f.s.Stream&&c.a.createElement(c.a.Fragment,null,c.a.createElement(s.a.Item,{label:"数据长度起始下标",required:!0},j("startIndex",{initialValue:m,rules:p.a.isInt("起始下标")})(c.a.createElement(C.a,{type:"number",min:0,placeholder:"请输入数据长度起始下标",disabled:r}))),c.a.createElement(s.a.Item,{label:"数据长度大小",required:!0},j("dataLength",{initialValue:g,rules:p.a.isInt("数据长度大小")})(c.a.createElement(C.a,{type:"number",min:0,placeholder:"请输入数据长度大小",disabled:r}))),c.a.createElement(s.a.Item,{label:"数据追加长度"},j("BYTE_ADJUSTMENT",{initialValue:b,rules:p.a.isIntNotRequire()})(c.a.createElement(C.a,{type:"number",min:0,placeholder:"追加长度默认为0",disabled:r})))),l===f.s.String&&c.a.createElement(c.a.Fragment,null,c.a.createElement(s.a.Item,{label:"字符编码",required:!0},j("encode",{initialValue:"UTF-8"})(c.a.createElement(i.a,null,c.a.createElement(i.a.Option,{value:"UTF-8"},"UTF-8")))),c.a.createElement(s.a.Item,{label:"消息分隔符"},j("STR_DELIMITER",{initialValue:v})(c.a.createElement(C.a,{placeholder:"选填",disabled:r})))))},e}return t=u,(n=[{key:"render",value:function(){var e=this.props.nodeItem.id,t=Wr(Wr({},this.props),{},{log:void 0,render:this.getChildren});return c.a.createElement(l.a,Jr({},t,{key:e}))}}])&&Qr(t.prototype,n),r&&Qr(t,r),u}(u.Component),eo={id:"tcpEvent",name:"TCP事件",nodeType:103,iconCls:"tcpEvent",description:"接收TCP上报的设备消息，并触发TCP事件",apiDocumentLink:"",canDrop:S.a,entryNum:0,output:[1,1,1],configuration:$r,initData:function(){return{productId:void 0,dataType:1,maximumMessageLength:void 0,startIndex:void 0,dataLength:void 0,encode:"UTF-8",STR_DELIMITER:void 0,BYTE_ADJUSTMENT:0}},validate:function(e){var t=e.productId,n=e.dataType,r=e.maximumMessageLength,o=e.startIndex,a=e.dataLength;if(void 0===t)return"产品不能为空";if(void 0===r)return"消息最大长度不能为空";if(n===f.s.Stream){if(void 0===o)return"数据长度起始下标不能为空";if(void 0===a)return"数据长度不能为空"}return!1},toData:function(e){var t=e.productId,n=e.dataType,r=e.maximumMessageLength,o=e.startIndex,a=e.dataLength,i=e.STR_DELIMITER,u=e.BYTE_ADJUSTMENT,c=void 0===u?0:u;return n===f.s.String&&(o=0,a=0,c=0),n===f.s.Stream&&(i=""),{productId:t,dataType:n,maximumMessageLength:r-0,startIndex:o-0,dataLength:a-0,BYTE_ADJUSTMENT:c-0,STR_DELIMITER:i}},toConfiguration:function(e){var t=e.productId,n=e.dataType,r=e.maximumMessageLength,o=e.startIndex,a=e.dataLength,i=e.STR_DELIMITER,u=e.BYTE_ADJUSTMENT;return{productId:null===t?void 0:t,dataType:n||f.s.Stream,maximumMessageLength:r,startIndex:o,dataLength:a,STR_DELIMITER:i,BYTE_ADJUSTMENT:u}}};function to(e){return(to="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function no(){return(no=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ro(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ro(Object(n),!0).forEach((function(t){ao(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ro(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ao(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function io(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function co(e,t){return(co=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function lo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=fo(e);if(t){var o=fo(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return so(this,n)}}function so(e,t){return!t||"object"!==to(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function fo(e){return(fo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var po={id:"tcpRelease",name:"TCP发布",nodeType:403,iconCls:"tcpRelease",description:"响应TCP事件，发送TCP消息",apiDocumentLink:"",entryNum:1,output:[1,1,1],configuration:function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&co(e,t)}(a,e);var t,n,r,o=lo(a);function a(){var e;io(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=o.call.apply(o,[this].concat(n))).onChange=function(t){var n=e.props,r=n.nodeItem.id;(0,n.changeNodeConfiguration)(r,t)},e.onChangeKey=function(t,n){var r=e.props.nodeItem.configuration.source,o=t.source,a=t.sourceType,i=t.sourceValue,u={};"source"in t&&(u.source=o),"sourceType"in t&&(u.sourceType=a),"sourceValue"in t&&(u.sourceValue=i),n.setFieldsValue({__tcpdata__:e.get__("source"in t?o:r,i)}),n.validateFields(["__tcpdata__"]),e.onChange(u)},e.get__=function(e,t){return e===f.g.Value&&""===t?"":"1"},e.getChildren=function(t){var n=e.props,r=n.readonly,o=n.parents,a=n.nodeItem.configuration,i=a.source,u=a.sourceType,l=a.sourceValue,f=t.getFieldDecorator,d=e.get__(i,l);return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"draw-group"},c.a.createElement("div",{className:"draw-group-inner"},"参数配置")),c.a.createElement(s.a.Item,{label:"下发内容",required:!0},c.a.createElement(sn,{readonly:r,onlyString:!0,parents:o,source:i,sourceType:u,sourceValue:l,onChange:function(n){return e.onChangeKey(n,t)}}),f("__tcpdata__",{initialValue:d,rules:[p.a.isRequire("下发内容")]})(c.a.createElement(C.a,{type:"hidden"}))))},e}return t=a,(n=[{key:"render",value:function(){var e=this.props.nodeItem.id,t=oo(oo({},this.props),{},{log:void 0,render:this.getChildren});return c.a.createElement(l.a,no({},t,{key:e}))}}])&&uo(t.prototype,n),r&&uo(t,r),a}(u.Component),initData:function(){return{source:f.g.Value,sourceType:f.q.String,sourceValue:""}},validate:function(e){var t=e.source,n=e.sourceValue;return t===f.g.Value&&""===n&&"下发内容不能为空"},toData:function(e,t,n,r){var o=t.pId,a=e.source,i=e.sourceType,u=e.sourceValue,c=Object(d.o)(a,i,u,r,o);return{source:c.target,sourceValue:c.targetValue}},toConfiguration:function(e){var t=e.source,n=e.sourceValue,r=Object(d.p)(t,t===f.g.Value?f.q.String:0,n);return{source:r.target,sourceType:r.targetType,sourceValue:r.targetValue}}};function yo(e){return(yo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mo(){return(mo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function go(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?go(Object(n),!0).forEach((function(t){bo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):go(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function bo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ho(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Oo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wo(e,t){return(wo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Eo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Po(e);if(t){var o=Po(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return jo(this,n)}}function jo(e,t){return!t||"object"!==yo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Po(e){return(Po=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Io=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wo(e,t)}(a,e);var t,n,r,o=Eo(a);function a(){var e;ho(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=o.call.apply(o,[this].concat(n))).state={mustReCode:!1},e.onChange=function(t){var n=e.props,r=n.nodeItem.id;(0,n.changeNodeConfiguration)(r,t)},e.setParams=function(t){e.onChange({params:t})},e.setParams2=function(t){var n=e.props.platformapi.list.find((function(e){return e.id===t}));n&&(e.setParams(n.params),e.setState({mustReCode:!0}))},e.getChildren=function(t){var n=e.state.mustReCode,r=e.props,o=r.readonly,a=r.platformapi,u=a.isLoading,l=a.isError,f=a.list,d=r.nodeItem.configuration,y=d.apiId,m=d.params,g=t.getFieldDecorator,v=l||0===f.length;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"draw-group"},c.a.createElement("div",{className:"draw-group-inner"},"可用API配置")),c.a.createElement(s.a.Item,{label:"API"},g("apiId",{initialValue:y,rules:[p.a.isRequire("API")]})(c.a.createElement(i.a,{showSearch:!0,placeholder:v?"暂无可用API":"请选择API",notFoundContent:"未找到相应记录",optionFilterProp:"children",loading:u,disabled:v||o,onChange:e.setParams2},f.map((function(e){var t=e.id,n=e.value;return c.a.createElement(i.a.Option,{value:t,key:t},n)}))))),c.a.createElement("a",{className:"goto-dataasset",href:"#/userCenter/dataasset",target:"_blank"},"数据资产知识库管理"),void 0===y||n?null:c.a.createElement(s.a.Item,{label:"API入参"},c.a.createElement(lt.a,{readOnly:o,mode:"json",code:m,onChange:e.setParams})))},e}return t=a,(n=[{key:"componentDidUpdate",value:function(){this.state.mustReCode&&this.setState({mustReCode:!1})}},{key:"render",value:function(){var e=this.props.nodeItem.id,t=vo(vo({},this.props),{},{log:void 0,render:this.getChildren});return c.a.createElement(l.a,mo({},t,{key:e}))}}])&&Oo(t.prototype,n),r&&Oo(t,r),a}(u.Component),So={id:"platformApi",name:"平台API调用",nodeType:303,iconCls:"platformApi",description:"支持调用平台其他API，支持返回body解析",apiDocumentLink:"",entryNum:1,output:[1,1,1],configuration:Io,initData:function(){return{apiId:void 0,params:"{\n}"}},validate:function(e,t,n){var r=e.apiId,o=e.params;return void 0===r?"平台API不能为空":!st.a.isJsonString(o)&&"参数格式应为结构体"},toData:function(e,t,n){return{dsId:e.apiId,params:e.params}},toConfiguration:function(e){var t=e.dsId;return{apiId:null===t?void 0:t,params:e.params}}};function To(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Co(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?To(Object(n),!0).forEach((function(t){Do(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):To(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Do(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _o,Lo=[{id:"eventTrigger",name:"触发事件",list:[r.a,T,eo]},{id:"logicalJudgment",name:"逻辑处理",list:[je,Je,ct,jt,Dr,qr]},{id:"seviceCall",name:"服务调用",list:[Vt,Yt,So]},{id:"output",name:"输出",list:[En]},{id:"message",name:"消息转发",list:[Nn,Gn,po]},{id:"data",name:"数据处理",list:[ar,vr]}],ko=Lo.filter((function(e){return"eventTrigger"===e.id}))[0].list.map((function(e){return e.id})),Ro=(_o={},Lo.forEach((function(e){e.list.forEach((function(e){_o[e.id]=Co(Co({},e),{},{initData:function(){var t=e.initData;return t?t():{}},outputType:void 0!==e.outputType?e.outputType:f.l.AUTO,outputValue:void 0!==e.outputValue?e.outputValue:function(){return[]},canDrop:function(t,n,r,o){var a=e.canDrop||st.a.doNothing;return function(e,t,n,r,o,a){return e.nodeList.length>99&&"节点数量无法超出100个"}(t)||a(t,n,r,o,Lo,Ro)},afterConnect:e.afterConnect?e.afterConnect:st.a.doNothing,validate:function(t,n,r){var o=e.validate||function(){return!1};return function(e,t,n,r,o){return""===e.name?"名称不能为空":!p.a.nameTest.test(e.name)&&"名称不合法"}(t)||o(t,n,r,Lo,Ro)},toConfiguration:function(t){var n=e.initData,r=e.toConfiguration;return Co(Co({},n?n():{}),r(t))}}),_o[e.nodeType]=_o[e.id]}))})),_o);t.a=Lo},ZShN:function(e,t,n){"use strict";n("ma9I"),n("2B1R"),n("sMBO"),n("pNMO"),n("4Brf"),n("SuFq"),n("tkto"),n("TeQF"),n("5DmW"),n("FZtP"),n("27RR"),n("zKZe"),n("07d7"),n("0oug"),n("4mDm"),n("PKPk"),n("3bBZ"),n("K4yd");var r=n("9yH6"),o=(n("1vPl"),n("5rEg")),a=(n("NBAS"),n("q1tI")),i=n.n(a),u=n("CpnY"),c=n("WsrF"),l=(n("XlDN"),n("L/Qf"),n("2/Rp")),s=(n("k994"),n("NJEC")),f=(n("fbCW"),n("pjDv"),n("+2oP"),n("G3dp")),p=n("4i/N"),d=n("ajDV"),y=n("xvlK"),m=(n("k3Gp"),n("kLXV")),g=(n("8QGh"),n("2fM7")),v=(n("8/o9"),n("tsqr")),b=n("LgsE"),h=n("be64");function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=S(e);if(t){var o=S(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return I(this,n)}}function I(e,t){return!t||"object"!==O(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var T=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(s,e);var t,n,a,l=P(s);function s(){var e;w(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=l.call.apply(l,[this].concat(n))).state={count:0},e.isSetCount=!1,e.setCount=function(t){e.setState({count:t.target.value.length})},e.onClose=function(){e.props.hide()},e.submit=function(){var t=e.props,n=t.form,r=t.id,o=t.list,a=t.submit,i=t.hide;n.validateFields().then((function(e){void 0===r&&o.find((function(t){return t.name===e.name}))?v.b.error("参数名称不能与已有参数名称重复，请更改名称"):(a(e),i())})).catch((function(){v.b.error("请按要求进行输入")}))},e}return t=s,(n=[{key:"componentDidUpdate",value:function(){var e=this.props,t=e.isShow,n=e.id,r=e.list;if(t&&!this.isSetCount){this.isSetCount=!0;var o=(r.find((function(e){return e.id===n}))||{}).description,a=void 0===o?"":o;this.setState({count:a.length})}else!t&&this.isSetCount&&(this.isSetCount=!1)}},{key:"render",value:function(){var e=this.state.count,t=this.props,n=t.isShow,a=t.id,l=t.list,s=t.form,f=l.find((function(e){return e.id===a}))||{},p=f.name,d=void 0===p?"":p,y=f.type,v=void 0===y?h.x[0].id:y,O=f.isRequire,w=void 0===O?h.C[0].id:O,E=f.defaultValue,j=void 0===E?"":E,P=f.description,I=void 0===P?"":P,S=s.getFieldDecorator,T=void 0===a?"添加参数":"编辑入参",C=Object(u.c)("参数名称");return i.a.createElement(m.a,{title:T,width:320,wrapClassName:"draw-small-form",maskClosable:!1,visible:n,destroyOnClose:!0,onOk:this.submit,onCancel:this.onClose},i.a.createElement(c.a,u.b,i.a.createElement(c.a.Item,{label:C},S("name",{initialValue:d,rules:b.a.param("参数名称")})(i.a.createElement(o.a,{placeholder:"请输入参数名称"}))),i.a.createElement(c.a.Item,{label:"类型",required:!0},S("type",{initialValue:v})(i.a.createElement(g.a,{placeholder:"请选择类型",optionFilterProp:"children"},h.x.map((function(e){var t=e.id,n=e.value;return i.a.createElement(g.a.Option,{value:t,key:t},n)}))))),i.a.createElement(c.a.Item,{label:"是否必填",required:!0},S("isRequire",{initialValue:w})(i.a.createElement(r.a.Group,null,h.C.map((function(e){var t=e.id,n=e.value;return i.a.createElement(r.a,{value:t,key:t},n)}))))),i.a.createElement(c.a.Item,{label:"默认值"},S("defaultValue",{initialValue:j})(i.a.createElement(o.a,{placeholder:"请输入默认值"}))),i.a.createElement(c.a.Item,{label:"描述"},S("description",{initialValue:I})(i.a.createElement(o.a.TextArea,{placeholder:"请输入描述",maxLength:100,autoSize:{minRows:6,maxRows:6},onChange:this.setCount})),i.a.createElement("div",{className:"draw-count"},e,"/100"))))}}])&&E(t.prototype,n),a&&E(t,a),s}(a.Component),C=c.a.create({name:"ParamModal"})(T);function D(e){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e){return function(e){if(Array.isArray(e))return L(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return L(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return L(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){N(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function V(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=F(e);if(t){var o=F(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return B(this,n)}}function B(e,t){return!t||"object"!==D(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function F(e){return(F=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var q=1,U=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(u,e);var t,n,r,a=V(u);function u(){var e;A(this,u);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=a.call.apply(a,[this].concat(n))).delAllParam=function(){var t=e.props,n=t.configuration.params,r=t.form,o=t.isRequire,a=void 0!==o&&o,i=t.change;n.length>0&&(i({params:[]}),a&&r&&r.setFieldsValue({__paramLen__:0}))},e.delParam=function(t){var n=e.props,r=n.configuration.params,o=n.form,a=n.isRequire,i=void 0!==a&&a;(0,n.change)({params:r=r.filter((function(e){return e.id!==t}))}),i&&o&&o.setFieldsValue({__paramLen__:r.length})},e.hideParamModal=function(){e.props.change({showParamModal:!1,showParamId:void 0})},e.addParam=function(){e.props.change({showParamModal:!0,showParamId:void 0})},e.editParam=function(t){e.props.change({showParamModal:!0,showParamId:t})},e.saveParam=function(t){var n=e.props,r=n.configuration,o=r.params,a=r.showParamId,i=n.isRequire,u=void 0!==i&&i,c=n.form,l=n.change;if(a){var s=o.find((function(e){return e.id===a}));s&&Object.assign(s,t)}else o.push(R({id:q++},t));l({params:_(o),showParamId:void 0,showParamModal:!1}),u&&c&&c.setFieldsValue({__paramLen__:o.length})},e.getDel=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return r?t:i.a.createElement(s.a,{title:e,overlayClassName:"draw-confirm",okText:"删除",okType:"danger",getPopupContainer:function(){return document.body},cancelText:"取消",placement:"topRight",onConfirm:n},t)},e}return t=u,(n=[{key:"render",value:function(){var e=this,t=this.props,n=t.readonly,r=t.isRequire,a=void 0!==r&&r,u=t.form,s=t.configuration,m=s.params,g=s.showParamModal,v=s.showParamId,b=0===m.length,h="draw-del"+(b?" disabled":""),O=b?null:i.a.createElement("div",{className:"draw-topic"},m.map((function(t){var r=t.id,o=t.name;return i.a.createElement("div",{className:"draw-topic-item",key:r},i.a.createElement("span",null,o),n?null:i.a.createElement("div",{className:"draw-topic-right"},i.a.createElement(f.a,{onClick:function(){return e.editParam(r)}}),e.getDel("您确定要删除当前参数吗？",i.a.createElement(p.a,null),(function(){return e.delParam(r)}))))})));return i.a.createElement(i.a.Fragment,null,i.a.createElement(c.a.Item,{label:"入参配置",required:a},a&&u?u.getFieldDecorator("__paramLen__",{initialValue:m.length,rules:[{pattern:/^[1-9]\d*$/,message:"入参不能为空"}]})(i.a.createElement(o.a,{type:"hidden"})):null,n?null:i.a.createElement("div",{className:h},this.getDel("您确定要删除所有参数吗？",i.a.createElement(d.a,null),this.delAllParam,b)),O,i.a.createElement(l.a,{block:!0,icon:i.a.createElement(y.a,null),onClick:this.addParam,disabled:n},"添加入参")),i.a.createElement(C,{isShow:g,id:v,list:m,hide:this.hideParamModal,submit:this.saveParam}))}}])&&M(t.prototype,n),r&&M(t,r),u}(a.Component);function J(e){return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function H(){return(H=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach((function(t){K(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function K(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Q(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Z(e,t){return(Z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=$(e);if(t){var o=$(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return X(this,n)}}function X(e,t){return!t||"object"!==J(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function $(e){return($=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ee=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Z(e,t)}(s,e);var t,n,a,l=Y(s);function s(){var e;Q(this,s);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return(e=l.call.apply(l,[this].concat(n))).onChange=function(t){var n=e.props,r=n.nodeItem.id;(0,n.changeNodeConfiguration)(r,t)},e.getChildren=function(t){var n=e.props,a=n.readonly,l=n.nodeItem.configuration,s=l.action,f=l.authCheck,p=t.getFieldDecorator,d=Object(u.c)("Action",b.a.actionExplain);return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"draw-group"},i.a.createElement("div",{className:"draw-group-inner"},"请求配置")),i.a.createElement(c.a.Item,{label:d},p("action",{initialValue:s,rules:b.a.action("Action")})(i.a.createElement(o.a,{placeholder:"Action为外部调用API的一个参数"}))),i.a.createElement(c.a.Item,{label:"是否鉴权",required:!0},p("authCheck",{initialValue:f})(i.a.createElement(r.a.Group,{disabled:a},h.b.map((function(e){var t=e.id,n=e.value;return i.a.createElement(r.a,{value:t,key:t},n)}))))),i.a.createElement(U,{readonly:a,configuration:l,change:e.onChange}))},e}return t=s,(n=[{key:"render",value:function(){var e=this.props.nodeItem.id,t=G(G({},this.props),{},{log:void 0,render:this.getChildren});return i.a.createElement(u.a,H({},t,{key:e}))}}])&&z(t.prototype,n),a&&z(t,a),s}(a.Component),te=n("kEWA"),ne={id:"httpEvent",name:"HTTP事件",nodeType:101,iconCls:"httpEvent",description:"通过HTTP请求触发规则",apiDocumentLink:"",canDrop:n("2jDL").a,entryNum:0,output:[1,1,1],configuration:ee,outputType:te.l.LIST,outputValue:function(e,t){return h.k.concat((e.params||[]).map((function(e){var t=e.name;return{id:t,value:t}})))},initData:function(){return{action:"",params:[],showParamModal:!1,showParamId:void 0,authCheck:0}},validate:function(e,t,n){return""===e.action&&"action不能为空"},toData:function(e,t,n){var r=e.action,o=e.params;return{action:r,authCheck:e.authCheck,input:o.map((function(e){return{param_name:e.name,param_typ:e.type,param_required:e.isRequire,param_default:e.defaultValue,param_desc:e.description}}))}},toConfiguration:function(e){var t=e.action,n=e.input,r=e.authCheck,o=-99;return{action:t||"",authCheck:r||0,params:n.map((function(e){var t=e.param_name,n=e.param_typ,r=e.param_required,a=e.param_default,i=e.param_desc;return{id:--o,name:t,type:n,isRequire:r,defaultValue:a,description:i}}))}}};t.a=ne},"a+Kn":function(e,t,n){"use strict";n("oVuX"),n("TeQF"),n("rB9j"),n("EnZy"),n("UxlC"),n("+2oP"),n("hByQ"),n("Rm1S"),n("TWNs"),n("JfAA"),n("07d7"),n("5s+n");var r=window,o=document,a=o.body,i=r.addEventListener,u=i?function(e,t,n){e.addEventListener(t,n,!1)}:function(e,t,n){e.attachEvent("on"+t,n)},c=function(e){return e?function(e,t,n){e.removeEventListener(t,n,!1)}:function(e,t,n){e.detachEvent("on"+t,n)}}(i),l=a.classList?function(e,t){return e.classList.add(t)}:function(e,t){return e.className=e.className+" "+t},s=a.classList?function(e,t){return e.classList.remove(t)}:function(e,t){return e.className=e.className.split(" ").filter((function(e){return e!==t})).join(" ")},f=0,p=function(e){return e.replace(/\n/g,"").replace(/(^\s+|\s+$)/g,"")},d=function(e,t){var n=!0;try{var r=JSON.parse(p(e));n={}.toString.call(r)===t}catch(e){n=!1}return n},y={doNothing:function(){},getParamFormSearch:function(e){var t=null,n=r.location.search.slice(1).match(new RegExp("(^|&)"+e+"=([^&]*)(&|$)"));return null!==n&&(t=n[2]),t},addEvent:u,removeEvent:c,addClass:l,removeClass:s,getPopupContainerByMine:function(e){return e.parentNode},nowTime:65536,setUnique:function(e){f=e-65536},getUnique:function(){return 65536+ ++f+""},idToNum:function(e){return+e.replace(/\D/g,"")},getCopyByPure:function(e){return JSON.parse(JSON.stringify(e))},countCenterPoint:function(e){var t=o.getElementById(e),n={x:0,y:0};if(t){var r=t.getBoundingClientRect(),a=r.left,i=r.right,u=r.bottom,c=r.top;n.x=(a+i)/2,n.y=(c+u)/2}return n},getJson:function(e){if("string"==typeof e)try{return JSON.parse(e)}catch(t){return e}return e},toTrim:p,isJsonString:function(e){return d(e,"[object Object]")},isArrayString:function(e){return d(e,"[object Array]")},delayForPromise:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;return e.then((function(e){return new Promise((function(n){setTimeout((function(){n(e)}),t)}))})).catch((function(e){return new Promise((function(n,r){setTimeout((function(){r(e)}),t)}))}))}};t.a=y},b9dg:function(e,t,n){"use strict";n.d(t,"x",(function(){return o})),n.d(t,"C",(function(){return a})),n.d(t,"M",(function(){return i})),n.d(t,"s",(function(){return u})),n.d(t,"n",(function(){return c})),n.d(t,"N",(function(){return l})),n.d(t,"L",(function(){return s})),n.d(t,"r",(function(){return f})),n.d(t,"q",(function(){return p})),n.d(t,"m",(function(){return d})),n.d(t,"l",(function(){return y})),n.d(t,"J",(function(){return m})),n.d(t,"I",(function(){return g})),n.d(t,"G",(function(){return v})),n.d(t,"P",(function(){return b})),n.d(t,"w",(function(){return h})),n.d(t,"B",(function(){return O})),n.d(t,"A",(function(){return w})),n.d(t,"z",(function(){return E})),n.d(t,"K",(function(){return j})),n.d(t,"Q",(function(){return P})),n.d(t,"R",(function(){return I})),n.d(t,"S",(function(){return S})),n.d(t,"D",(function(){return T})),n.d(t,"c",(function(){return C})),n.d(t,"e",(function(){return D})),n.d(t,"O",(function(){return _})),n.d(t,"v",(function(){return L})),n.d(t,"a",(function(){return k})),n.d(t,"b",(function(){return R})),n.d(t,"t",(function(){return N})),n.d(t,"E",(function(){return A})),n.d(t,"j",(function(){return M})),n.d(t,"y",(function(){return x})),n.d(t,"g",(function(){return V})),n.d(t,"h",(function(){return B})),n.d(t,"o",(function(){return F})),n.d(t,"p",(function(){return q})),n.d(t,"d",(function(){return U})),n.d(t,"F",(function(){return J})),n.d(t,"u",(function(){return H})),n.d(t,"T",(function(){return W})),n.d(t,"k",(function(){return G})),n.d(t,"i",(function(){return K})),n.d(t,"H",(function(){return Q})),n.d(t,"f",(function(){return z}));var r="drawview/",o=r+"INIT",a=r+"loading",i=r+"saveOK",u=r+"deployOK",c=r+"debugOK",l=r+"saving",s=r+"saved",f=r+"deploying",p=r+"deployed",d=r+"debugging",y=r+"debugged",m=r+"publishing",g=r+"published",v=r+"openpublish",b=r+"showDebugInput",h=r+"hideDebugInput",O=r+"listLoading",w=r+"listLoaded",E=r+"listLoadCrash",j=r+"read",P=r+"toggleChooser",I=r+"toggleConfiguration",S=r+"toggleLog",T=r+"logFullScreen",C=r+"changeLogHeight",D=r+"changeSearch",_=r+"showContextMenu",L=r+"hideContextMenu",k=r+"changeChooseId",R=r+"changeChooseLINEID",N=r+"drop",A=r+"move",M=r+"createLine",x=r+"lineTo",V=r+"connectCancel",B=r+"connectOK",F=r+"deleteLine",q=r+"deleteNode",U=r+"changeNodeConfiguration",J=r+"nodeError",H=r+"fullScreen",W=r+"undo",G=r+"cutNode",K=r+"copyNode",Q=r+"pasteNode",z=r+"clearNode"},be64:function(e,t,n){"use strict";n.d(t,"r",(function(){return i})),n.d(t,"n",(function(){return u})),n.d(t,"k",(function(){return l})),n.d(t,"A",(function(){return s})),n.d(t,"z",(function(){return f})),n.d(t,"E",(function(){return p})),n.d(t,"C",(function(){return y})),n.d(t,"x",(function(){return m})),n.d(t,"y",(function(){return g})),n.d(t,"m",(function(){return v})),n.d(t,"a",(function(){return b})),n.d(t,"s",(function(){return h})),n.d(t,"v",(function(){return O})),n.d(t,"l",(function(){return w})),n.d(t,"j",(function(){return E})),n.d(t,"b",(function(){return j})),n.d(t,"u",(function(){return P})),n.d(t,"B",(function(){return I})),n.d(t,"t",(function(){return S})),n.d(t,"c",(function(){return T})),n.d(t,"d",(function(){return C})),n.d(t,"f",(function(){return D})),n.d(t,"e",(function(){return _})),n.d(t,"w",(function(){return L})),n.d(t,"g",(function(){return k})),n.d(t,"i",(function(){return R})),n.d(t,"h",(function(){return N})),n.d(t,"D",(function(){return A})),n.d(t,"q",(function(){return M})),n.d(t,"o",(function(){return x})),n.d(t,"p",(function(){return V}));n("FZtP"),n("fbCW"),n("rB9j"),n("hByQ"),n("+2oP");var r=n("kEWA"),o=n("wd/R"),a=n.n(o),i=-1,u="YYYY-MM-DD HH:mm:ss",c=function(e){var t={};return e.forEach((function(e){t[e.id]=e})),t},l=[{id:"",value:"全部"}],s=-1,f=[{id:s,value:"上一节点",type:r.l.AUTO,list:l}],p=[{id:r.g.Value,value:"固定值",disabled:!1},{id:r.g.Node,value:"来自节点",disabled:!1},{id:r.g.Param,value:"变量",disabled:!0}],d=c(p),y=[{id:r.o.Required,value:"必填项"},{id:r.o.Unrequired,value:"非必填项"}],m=[{id:r.m.String,value:"String（字符型）",text:"字符型"},{id:r.m.Int,value:"Int（整数型）",text:"整数型"},{id:r.m.Long,value:"Long（长整型）",text:"长整型"},{id:r.m.Float,value:"Float（浮点型）",text:"浮点型"},{id:r.m.Double,value:"Double（双精度）",text:"双精度"},{id:r.m.Boolean,value:"Boolean（布尔型）",text:"布尔型"}],g=c(m),v=[{id:0,value:"事件上报"},{id:1,value:"属性上报"},{id:2,value:"告警上报"},{id:3,value:"故障上报"}],b=[{id:r.k.BLANK,value:"空白模板"},{id:r.k.DEVICEACCESS,value:"设备接入"}],h=(c(b),[{id:"&&",value:"AND"},{id:"||",value:"OR"}]),O=(c(h),[{id:"GET",value:"GET"},{id:"POST",value:"POST"}]),w=[{id:"UTF-8",value:"UTF-8"},{id:"GBK",value:"GBK"}],E=[{id:r.d.Node,value:"选择节点输出"},{id:r.d.Value,value:"直接输入内容"}],j=[{id:r.r.NoNeed,value:"不鉴权"},{id:r.r.Need,value:"鉴权"}],P=[{id:r.s.Stream,value:"流"},{id:r.s.String,value:"字符串"}],I=(r.a.ProductMode,r.a.Node,[{id:r.n.ProductProtocol,value:"产品协议队列"},{id:r.n.UserDefine,value:"自定义队列"}]),S=[{id:0,value:"相加（输出值为数据源加上各参数的结果）"},{id:1,value:"相减（输出值为数据源依次减去各参数的结果）"},{id:2,value:"相乘（输出值为数据源依次乘以各参数的结果）"},{id:3,value:"相除（输出值为数据源依次除以各参数的结果）"},{id:4,value:"最大值（输出值为数据源与各参数中的较大值）"},{id:5,value:"最小值（输出值为数据源与各参数中的较小值）"},{id:6,value:"均值（输出值为数据源与各参数的均值）"}],T=(c(S),[{id:"1",value:"true",id2:1,value2:!0},{id:"0",value:"false",id2:0,value2:!1}]),C=c(T),D=[{id:r.q.Number,value:"数值型"},{id:r.q.Boolean,value:"布尔值"},{id:r.q.String,value:"字符串"},{id:r.q.Time,value:"时间型"}],_=[{id:r.q.Array,value:"数组"},{id:r.q.Object,value:"结构型"}],L=[{id:r.j.Get,value:"KV存储获取"},{id:r.j.Set,value:"KV存储写入"},{id:r.j.Delete,value:"KV存储删除"}],k=[{id:0,value:"=="},{id:1,value:"!="},{id:2,value:"<"},{id:3,value:"<="},{id:4,value:">"},{id:5,value:">="},{id:6,value:"null",value2:"为空"},{id:7,value:"!null",value2:"不为空"}],R=[6,7],N=c(k),A=[{code:200,message:"success"},{code:400,message:"request error."},{code:401,message:"request auth error."},{code:403,message:"request forbidden."},{code:404,message:"service not found."},{code:429,message:"too many requests."},{code:460,message:"request parameter error."},{code:500,message:"service error."},{code:503,message:"service not available."}],M=function(e,t,n,o){var a=d[e].value+" - ";return e===r.g.Value?(a="",t===r.q.Boolean?a+=C[n].value:t===r.q.Time?a+=n.format(u):a+=n):e===r.g.Node&&(a="",a+=(o.find((function(e){return e.id===t}))||{value:"node.node_"+t}).value,n&&(a+="<"+n+">")),a},x=function(e,t,n,o,a){var i={target:e,targetType:void 0,targetValue:void 0};if(e===r.g.Value)i.targetType=t,t===r.q.Time?i.targetValue=n.format(u):t===r.q.Number?i.targetValue=(parseFloat(n)||0)+"":t===r.q.Array?i.targetValue=n||"[]":t===r.q.Object?i.targetValue=n||"{}":i.targetValue=n;else if(e===r.g.Node){i.targetType=0;var c=t===s?a:t;i.targetValue=(o[c]||o[a])+(n?"@"+n:"")}return i},V=function(e,t,n){var o={target:e,targetType:void 0,targetValue:void 0};if(e===r.g.Value)o.targetType=t,t===r.q.Time?o.targetValue=a()(n):o.targetValue=n;else if(e===r.g.Node){var i=n.search("@");i>-1?(o.targetType=n.slice(0,i),o.targetValue=n.slice(i+1)):(o.targetType=n,o.targetValue="")}return o}},d8kt:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("hGlg"),o=n("Nlzp"),a=n("JPcv"),i=function(){return function(e,t){Object(o.c)(o.a.getUnreadQuantity,{},{needVersion:1.1}).then((function(t){var n=function(e){return{type:r.a,data:Object(a.fromJS)(e)}}(t.data);e(n)}))}}},dL2e:function(e,t,n){"use strict";n.d(t,"e",(function(){return p})),n.d(t,"d",(function(){return d})),n.d(t,"f",(function(){return y})),n.d(t,"b",(function(){return m})),n.d(t,"c",(function(){return g})),n.d(t,"a",(function(){return v})),n.d(t,"g",(function(){return b})),n.d(t,"h",(function(){return h}));n("tkto"),n("pNMO"),n("TeQF"),n("5DmW"),n("FZtP"),n("27RR"),n("8/o9");var r=n("tsqr"),o=n("BkRI"),a=n.n(o),i=(n("07d7"),n("5s+n"),n("Nlzp")),u=n("JPcv"),c=n("CS2L");n("P2RN");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=function(e){return function(t,n){Object(i.c)(i.a.getProductList,s(s({},e),{},{instanceId:2}),{needVersion:1.2,loading:!0}).then((function(e){var n=function(e){return{type:c.H,list:Object(u.fromJS)(e)}}(e.data);t(n)}))}},d=function(e){return function(t,n){Object(i.c)(i.a.getProductBaseInfo,{productId:e},{needVersion:1.1,loading:!0}).then((function(e){var n,r=(n=e.data,{type:c.F,info:Object(u.fromJS)(n)});t(r)}))}},y=function(e){return function(t,n){Object(i.c)(i.a.getProtocolList,{productId:e},{needVersion:1.2,loading:!0}).then((function(e){var n,r=(n=e.data.list,{type:c.I,list:Object(u.fromJS)(n)});t(r)}))}},m=function(e){return function(t,n){Object(i.c)(i.a.getConfigSteps,{productId:e}).then((function(e){var n,r=(n=e.data,{type:c.D,list:Object(u.fromJS)(n)});t(r)}))}},g=function(e){return function(t,n){Object(i.c)(i.a.getH5Pages,s(s({},e),{},{date:+new Date}),{needVersion:"1.1"}).then((function(e){var n=function(e){return{type:c.E,data:Object(u.fromJS)(e)}}(e.data);t(n)}))}},v=function(e){return function(t,n){Object(i.c)(i.a.getAppsByProductId,{productId:e},{needVersion:"1.1"}).then((function(e){var n,r=a()(e.data||[]),o=(n=r,{type:c.C,list:Object(u.fromJS)(n)});t(o)}))}},b=function(e){return function(t,n){Object(i.c)(i.a.getTimeServiceList,e,{loading:!0}).then((function(e){var n=function(e){return{type:c.J,data:Object(u.fromJS)(e)}}(e.data);t(n)}))}},h=function(e){return function(t){return Object(i.d)(i.a.updateProductBaseInfo,e,{needFormData:!0,loading:!0}).then((function(n){return 0===n.code?(r.b.success("保存成功"),t(O(e)),Promise.resolve(1)):Promise.resolve(0)}))}},O=function(e){return{type:c.G,info:e}}},gtRY:function(e,t,n){"use strict";n.d(t,"z",(function(){return N})),n.d(t,"I",(function(){return B})),n.d(t,"y",(function(){return F})),n.d(t,"D",(function(){return J})),n.d(t,"r",(function(){return K})),n.d(t,"F",(function(){return Q})),n.d(t,"m",(function(){return z})),n.d(t,"J",(function(){return Y})),n.d(t,"K",(function(){return X})),n.d(t,"M",(function(){return $})),n.d(t,"L",(function(){return ee})),n.d(t,"c",(function(){return te})),n.d(t,"e",(function(){return ne})),n.d(t,"s",(function(){return re})),n.d(t,"B",(function(){return oe})),n.d(t,"k",(function(){return ae})),n.d(t,"A",(function(){return ie})),n.d(t,"h",(function(){return ue})),n.d(t,"i",(function(){return ce})),n.d(t,"H",(function(){return le})),n.d(t,"x",(function(){return se})),n.d(t,"q",(function(){return fe})),n.d(t,"p",(function(){return pe})),n.d(t,"a",(function(){return de})),n.d(t,"b",(function(){return ye})),n.d(t,"d",(function(){return me})),n.d(t,"C",(function(){return ge})),n.d(t,"t",(function(){return ve})),n.d(t,"l",(function(){return be})),n.d(t,"j",(function(){return he})),n.d(t,"E",(function(){return Oe})),n.d(t,"N",(function(){return we})),n.d(t,"f",(function(){return Ee})),n.d(t,"v",(function(){return je})),n.d(t,"w",(function(){return Pe})),n.d(t,"u",(function(){return Te})),n.d(t,"n",(function(){return Ce})),n.d(t,"o",(function(){return De})),n.d(t,"g",(function(){return _e})),n.d(t,"G",(function(){return Le}));n("pNMO"),n("5DmW"),n("27RR"),n("4Brf"),n("0oug"),n("4mDm"),n("PKPk"),n("3bBZ"),n("+2oP"),n("pjDv"),n("8/o9");var r=n("tsqr"),o=(n("k3Gp"),n("kLXV")),a=(n("07d7"),n("5s+n"),n("p532"),n("ma9I"),n("sMBO"),n("2B1R"),n("TeQF"),n("qePV"),n("rB9j"),n("EnZy"),n("FZtP"),n("ToJy"),n("tkto"),n("fbCW"),n("oVuX"),n("b9dg")),i=n("kEWA"),u=n("V0bm"),c=n("a+Kn"),l=n("J76n"),s=n("be64"),f=n("Nlzp"),p=n("Bffz");function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=p.b+"/serveOpe",v=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Object(f.d)(g+(t?"/getFlowStub":"/editFlow"),e)},b=function(e){return c.a.delayForPromise(Object(f.d)(g+"/saveFlow",e,{needJson:!0,noInstance:!0}))},h=function(e){return c.a.delayForPromise(Object(f.d)(g+"/publish",e,{timeout:3e5}))},O=function(e){return Object(f.d)(p.b+"/prod/getProduct",e).then((function(e){return{code:e.code,data:((e.data||{}).list||[]).map((function(e){return y(y({},e),{},{id:e.productId,value:e.productName})}))}}))},w=function(e){return Object(f.d)(g+"/getApiList",e).then((function(e){return{code:e.code,data:(e.data||[]).map((function(e){var t={};return(c.a.getJson(e.input).input||[]).forEach((function(e){var n=e.param_name,r=e.param_default;t[n]=r})),y(y({},e),{},{id:e.flowId,value:e.flowName,params:JSON.stringify(t)})}))}}))},E=function(e){return Object(f.d)(p.b+"/data/assets/getList",e).then((function(e){var t=e.code,n=e.data;return{code:t,data:(void 0===n?{list:[]}:n).list.map((function(e){var t={},n=c.a.getJson(e.dataJson)[0];return(n.param||[]).forEach((function(e){var n=e.name,r=e.defaultVal;t[n]=r})),{id:e.id,value:e.name,addr:n.addr,params:JSON.stringify(t)}}))}}))},j=function(e){return Object(f.d)(p.b+"/data/assets/getTopic",e).then((function(e){return{code:e.code,data:(e.data||[]).map((function(e){return y(y({},e),{},{id:e.id,value:e.name})}))}}))},P=n("ZShN"),I=["nodeId","nodeType","nodeName","nodeInput","takeUpTime","nodeOutput","nodeDebug"];function S(e){return function(e){if(Array.isArray(e))return _(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||D(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){u=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw o}}return a}(e,t)||D(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){if(e){if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(e,t):void 0}}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){R(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var N=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(r){r(A(parseInt(e)||0,parseInt(t)||0,n)),r(W(t,!0,n)),r(Z(O,{projectId:e,pageRows:9999},"product")),r(Z(w,{projectId:e,serviceId:t},"api")),r(Z(E,{type:3,pageRows:9999},"platformapi")),r(Z(j,{type:5},"rocketMQTopic")),r(Z(j,{type:1},"mqTopic")),r(Z(j,{type:2},"database")),r(Z(j,{type:4},"redis"))}},A=function(e,t,n){return{type:a.x,projectId:e,serviceId:t,readonly:n}},M=function(){return{type:a.C,isLoading:!0}},x=function(){return{type:a.C,isLoading:!1}},V=function(e,t,n){return{type:a.M,root:e,action:t,authCheck:n}},B=function(){return{type:a.P}},F=function(){return{type:a.w}},q=function(){return{type:a.N}},U=function(){return{type:a.L}},J=function(e){return{type:a.G,isopenPublish:e}},H=!1,W=function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(i){n&&(H=!1);var u=function(){H?o.a.error({title:"关键数据--节点编排数据再次读取失败，请联系相关开发人员。",centered:!0,zIndex:1080}):o.a.confirm({title:"关键数据--节点编排数据读取失败，是否重新获取？",centered:!0,okText:"好的",cancelText:"取消",zIndex:1080,onOk:function(){H=!0,i(e(t,!1,r))}})};i(M()),v({serviceId:t},r).then((function(e){var t=e.data;if(0===e.code){var n=t||{},o=n.serveName,c=n.flowName,l=n.flowNodeList,s=t||{},f=s.action,p=s.authCheck,d=s.flowId,y=s.projectName,m=s.testEnv,g=s.proEnv,v=s.lines;r&&(v=t.flowVersion&&t.flowVersion.lines),i({type:a.K,action:f,authCheck:p,flowId:d,productionName:o||c||y,nodeList:l||[],lineList:v||"[]",testEnv:m,proEnv:g})}else u()})).catch(u).finally((function(){i(x())}))}},G=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n){var o=t?"发布":"保存",a=o+"失败";n(q());var i=e.nodes[0].id+"",u=e.authCheck,c=e.action;b(e).then((function(e){e.data;0===e.code?(t||r.b.success(o+"成功"),n(V(i,c,u)),t&&n(K(t||{}))):r.b.error(a)})).catch((function(){r.b.error(a)})).finally((function(){n(U())}))}},K=function(e){return function(t){t({type:a.r}),h(k(k({},e),{},{funcType:0,envType:1,operate:3})).then((function(e){e.data;0===e.code?(r.b.success("部署成功，请点击调试按钮进行调试"),t({type:a.s})):r.b.error("部署失败")})).catch((function(){r.b.error("部署失败")})).finally((function(){t({type:a.q})}))}},Q=function(e){return function(t){t({type:a.J}),h(k(k({},e),{},{funcType:0,envType:0,operate:3})).then((function(e){0===e.code?r.b.success("正式环境发布成功"):r.b.error("发布正式环境失败")})).catch((function(){r.b.error("发布正式环境失败")})).finally((function(){t({type:a.I})}))}},z=function(e){return function(t){t({type:a.m}),function(e){return c.a.delayForPromise(Object(f.d)(g+"/invoke",e,{timeout:3e5}))}(k(k({},e),{},{funcType:0,envType:1})).then((function(e){t({type:a.n,data:e})})).catch((function(e){e.debugLog?t({type:a.n,data:e}):r.b.error("调试异常")})).finally((function(){t({type:a.l})}))}},Z=function(e,t,n){return function(r){r({type:a.B,listKey:n}),e(t).then((function(e){var t=e.data,o=e.code;r(0===o?{type:a.A,listKey:n,list:t}:{type:a.z,listKey:n})})).catch((function(){r({type:a.z,listKey:n})}))}},Y=function(){return{type:a.Q}},X=function(){return{type:a.R}},$=function(){return{type:a.S}},ee=function(){return{type:a.D}},te=function(e){return{type:a.c,logHeight:e}},ne=function(e){return{type:a.e,searchText:e}},re=function(e,t,n){return{type:a.t,nodeType:e,x:t,y:n}},oe=function(e,t,n,r){return{type:a.E,nodeId:e,x:t,y:n,isMoveStart:r}},ae=function(e,t,n){return{type:a.j,startPoint:e,startNodeId:t,startOutputId:n}},ie=function(e,t,n){return{type:a.y,currentOutputId:e,x:t,y:n}},ue=function(e){return{type:a.g,currentOutputId:e}},ce=function(e,t,n,r){return{type:a.h,currentOutputId:e,toId:t,entryId:n,nodeType:r}},le=function(e,t,n,r){return{type:a.O,showType:e,id:t,x:n,y:r}},se=function(){return{type:a.v}},fe=function(){return{type:a.p}},pe=function(){return{type:a.o}},de=function(e){return{type:a.a,id:e}},ye=function(e){return{type:a.b,id:e}},me=function(e,t){return{type:a.d,nodeId:e,config:t}},ge=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return{type:a.F,nodeId:e,isError:t}},ve=function(){return{type:a.u}},be=function(){return{type:a.k}},he=function(){return{type:a.i}},Oe=function(){return{type:a.H}},we=function(){return{type:a.T}},Ee=function(){return{type:a.f}},je=function(e,t){var n=t[e||""]||{configuration:{params:[]}},r=n.nodeType,o=n.configuration.params,a=r===P.a.id;return{isHTTP:a,params:a?o:[]}},Pe=function(e,t){for(var n=s.z.concat([]),r=(e||{}).pId;r;){var o=t[r],a=o.pId,i=o.id,c=o.nodeType,l=o.configuration,f=u.a[c],p=f.outputType,d=f.outputValue;n.push({id:i,value:l.name,type:p,list:d(l,t[r])}),r=a}return n},Ie=function(e){return e.configuration.output.filter((function(e){return e.connectId})).map((function(e){return e.connectId}))},Se=function(e,t){for(var n=e,r=Ie(n),o=r.length;o>0;)n=t[r[o-1]],o=(r=Ie(n)).length;return n},Te=function(e){var t=e.configuration.output.length;return t<=1?32:18*t},Ce=function(e,t){var n={},r={},o=c.a.nowTime,a=function(e){var t=Number(e);t>o&&(o=t)},i=e[0]?e[0].nodeId+"":null,l=e.map((function(e){var t=e.nodeId,n=e.nodeName,o=e.nodeType,i=e.pNodeId,c=e.location,l=e.input,s=u.a[o],f=s.id,p=s.toConfiguration,d=c.split("|"),y=C(d[0].split(","),2),m=y[0],g=y[1],v=""===d[3]?[]:d[3].split(";"),b=d[4]&&d[4].split(";").map((function(e){return e.split(",")}))||[],h={id:t+"",nodeType:f,x:parseInt(m),y:parseInt(g),entryId:d[1]||null,pId:0!==i&&i?i+"":null,pOutputId:d[2]||null,pIdpOutputIdSpare:b,isError:!1,configuration:k(k({},p(JSON.parse(l))),{},{name:n,output:v.map((function(e){var t=C(e.split(","),3),n=t[0],r=t[1],o=t[2];return a(n),{id:n,connectId:r||void 0,connectEntryId:o||void 0}}))})};return r[t]=h,h}));return t.forEach((function(e){n[e.outputId]=e,a(e.uniqueId)})),c.a.setUnique(o),{root:i,nodeList:l,nodeMap:r,lineList:t,lineMap:n,mustSave:0===l.length}},De=function(e){var t,n,o={code:-1,msg:"error",data:null},a={},c=[];try{var l=e.code,s=e.data,f=e.msg,p=e.debugLog;if(t="string"==typeof p?JSON.parse(p):p,o.code=l,o.msg=f,o.data=s,n=t,"[object Array]"==={}.toString.call(t)){var d={};n.forEach((function(e,t){var n=e.nodeId,r=e.nodeType,o=e.nodeName,l=e.nodeInput,s=e.takeUpTime,f=e.nodeOutput,p=e.nodeDebug,y=T(e,I);d[n]=k({},y),d[n]["节点Id"]=n,d[n]["节点类型"]=(u.a[r]||{}).name||"未知类型",d[n]["节点名称"]=o,d[n]["节点输入"]=l,d[n]["节点输出"]=f,d[n]["耗时"]=s,d[n]["调试日志"]=p,c.push(d[n]),a[n]={code:i.b.Success,data:d[n]}})),r.b.success("调试"+(0===l?"成功":"完成")+"，请查阅相关日志")}else r.b.error("节点具体调试信息空缺")}catch(e){r.b.error("调试数据解析失败")}return{debuggedData:n,debuggedMap:a,debuggedResult:o,debuggedOutput:c}},_e=function(e,t,n,r){var o=S(e),a=k({},t),i=S(n),s=k({},r),f=[],p=[];o.forEach((function(e){e.deep=void 0;var t=e.pId,n=e.configuration.output;t||(0===n.filter((function(e){return e.connectId})).length?f.push(e):p.push(e))}));var d=50;return f.sort((function(e,t){return c.a.idToNum(e.id)-c.a.idToNum(t.id)})).forEach((function(e,t){e.x=50+(u.m-10)*t,e.y=50,d=Math.max(90+Te(e)+50,d)})),p.sort((function(e,t){return c.a.idToNum(e.id)-c.a.idToNum(t.id)})).forEach((function(e,t){var n=d,r={};!function e(t,o){var i=a[t];if(void 0===i.deep){!r[o]&&(r[o]=[]),r[o].push(i),i.deep=o,i.x=50+o*(u.m+44),i.y=0,i.height=Te(i);var c=Ie(i);c.length>0?c.forEach((function(t){return e(t,o+1)})):(i.top=n,i.bottom=n+i.height,n=i.bottom+44)}}(e.id,0);var o=function e(t){var n=a[t],r=function(e,t){for(var n=e,r=Ie(n);r[0];)n=t[r[0]],r=Ie(n);return n}(n,a).top,o=Se(n,a).bottom;n.top=r,n.bottom=o,n.y=(r+o)/2-n.height/2;var i=Ie(n);i.length>0&&i.forEach((function(t){return e(t)}))};o(e.id);var i=!1;Object.keys(r).sort((function(e,t){return+t-+e})).forEach((function(e){r[e].forEach((function(e){var t=e.y-e.top;if(t<-22){i=!0;var n=Se(e,a);n.bottom=n.bottom+(-t-22)}}))})),i&&o(e.id);var c=Se(e,a);d=c.y+(c.height||0)+90})),i.forEach((function(e){return l.a.resetLine(e,a)})),{nodeList:o,nodeMap:a,lineList:i,lineMap:s}},Le=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n){var r=Ne(e),o=r.error,a=r.id;if(o)a.length>0&&n(ge(a,!0));else{var i=Ae(e);n(G(i,!!t&&k(k({},t),{},{serviceId:e.serviceId})))}}},ke=function(e){e.forEach((function(e){r.b.error(e)}))},Re=function(e,t){return"编排的节点【".concat(e,"】").concat(t)},Ne=function(e){var t={error:!1,id:[]},n=e.nodeList;if(0===n.length)return t.error=!0,ke(["总得画点什么吧"]),t;for(var r=0,o=0,a=[],i=0;i<n.length;i++){var c=n[i],l=c.id,s=c.entryId,f=c.pId,p=c.nodeType,d=c.configuration,y=u.a[p].validate(d,c,e);if(y&&(t.error=!0,t.id.push(l),a.push(Re(d.name,y))),(r+=null===s||s&&!f?1:0)>1){t.error=!0,t.id=[],a=["只允许一条编排流"];break}o+=u.h.indexOf(p)>-1?1:0}return t.error?(a.length>0&&ke(a),t):1!==o?(t.error=!0,t.id=[],ke(["至少需要一个触发事件"]),t):t},Ae=function(e){var t=e.action,n=e.authCheck,r=e.flowId,o=e.projectId,a=e.serviceId,i=e.nodeList,c=e.nodeMap,l=e.lineList,s={projectId:o,serviceId:a,flowId:r,action:"",authCheck:n||0,oriAction:t||"",nodes:[],lines:""},f={},p={};console.log("post rst.nodes----:",s.nodes);var d=i.find((function(e){return null===e.entryId}));d&&(d.nodeType===P.a.id&&(s.action=d.configuration.action||"",s.authCheck=d.configuration.authCheck||0),function t(n){var r=n.id,o=n.nodeType,a=n.entryId,i=n.pId,l=n.configuration,d=u.a[o].toData(l,n,e,f,p);f[r]=r,p[r]=r;var y={id:parseInt(r),nodeName:l.name,nodeType:u.a[o].nodeType,pid:null!==i?parseInt(f[i]):i,location:"",output:"",input:JSON.stringify(d)};s.nodes.push(y),a&&(f[a]=a),l.output.forEach((function(e){var n=e.id,r=e.connectId;f[n]=n,r&&t(c[r])}))}(d)),s.nodes.forEach((function(e){var t=e.id,n=c[p[t]],r=n.x,o=n.y,a=n.entryId,i=n.pOutputId,u=n.configuration.output,l=n.pIdpOutputIdSpare.map((function(e){return e.join(",")})).join(";");e.location=[r+","+o,f[a],f[i],u.map((function(e){var t=e.id,n=e.connectId,r=e.connectEntryId;return[f[t],f[n+""],f[r+""]].join(",")})).join(";"),l].join("|")}));var y=l.map((function(e){var t=e.uniqueId,n=e.id,r=e.outputId,o=e.toId,a=e.entryId;return k(k({},e),{},{uniqueId:t,id:f[n],outputId:f[r],toId:o?f[o]:null,entryId:a?f[a]:null})}));return s.lines=JSON.stringify(y),s}},hGlg:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r="update-new-message-nums"},i8i4:function(e,t,n){e.exports=n("WUjv")(23)},"k+EZ":function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));n("ma9I"),n("2B1R"),n("NBAS"),n("SuFq"),n("pNMO"),n("4Brf"),n("07d7"),n("0oug"),n("4mDm"),n("PKPk"),n("3bBZ");var r=n("q1tI"),o=n.n(r),a=(n("/MKj"),n("8/dN")),i=n("0NbB"),u=n("cJ7L"),c=n("55Ip"),l=n("Nlzp"),s=n("4Tgu"),f=n.n(s);n("3d2c");function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=b(e);if(t){var o=b(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v(this,n)}}function v(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(p,e);var t,n,r,s=g(p);function p(){var e;d(this,p);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=s.call.apply(s,[this].concat(n))).logout=function(){Object(l.d)(l.a.logout,{},{loading:!0}).then((function(){window.location=window.location.origin+window.location.pathname+"#/account/login"}))},e}return t=p,(n=[{key:"render",value:function(){var e=this.props,t=e.onlyLogo,n=e.developerInfo,r=void 0===n?{}:n,l=e.newMessageNums,s=void 0===l?{}:l,p=e.menulist,d=(void 0===p?[]:p)[0]||{},y=r.email,m=r.account,g=d.childmenus,v=void 0===g?[]:g;return s.totalUnRead,console.log(777,v),o.a.createElement("header",{className:"mainpage-header"},o.a.createElement("span",{className:"logo"},"物联网云平台"),!t&&o.a.createElement("div",{className:"right"},o.a.createElement(c.Link,{to:"/messageCenter",target:"_blank"},"帮助文档"),o.a.createElement(c.Link,{to:"/messageCenter"},"工单"),o.a.createElement(c.Link,{to:"/messageCenter",target:"_blank"},o.a.createElement(a.a,{className:"bellicon"}),o.a.createElement("span",{className:"msgnum"}," ",99," ")||null),o.a.createElement("div",{className:"user"},o.a.createElement("img",{src:f.a,alt:"用户头像",className:"usericon"}),o.a.createElement("span",{className:"username"},y||m||"未知账号"),o.a.createElement(i.a,{className:"downicon"}),o.a.createElement("div",{className:"hoverbox"},o.a.createElement("div",{className:"comm-shadowbox menubox"},o.a.createElement("div",{className:"userbox"},v.map((function(e,t){var n=e.menuname,r=e.path;return e.menuicon,o.a.createElement(c.Link,{key:t,className:"li",to:r,target:"_blank"},o.a.createElement(u.a,null),o.a.createElement("span",{className:"txt"},n))}))),o.a.createElement("div",{className:"logout"},o.a.createElement("span",{className:"click",onClick:this.logout},"退出账号")))))))}}])&&y(t.prototype,n),r&&y(t,r),p}(r.PureComponent)},kEWA:function(e,t,n){"use strict";var r,o,a,i,u,c,l,s,f,p,d,y,m,g,v,b,h,O,w;n.d(t,"b",(function(){return r})),n.d(t,"m",(function(){return o})),n.d(t,"q",(function(){return a})),n.d(t,"i",(function(){return i})),n.d(t,"g",(function(){return u})),n.d(t,"l",(function(){return c})),n.d(t,"k",(function(){return l})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return f})),n.d(t,"r",(function(){return p})),n.d(t,"s",(function(){return d})),n.d(t,"o",(function(){return y})),n.d(t,"a",(function(){return m})),n.d(t,"n",(function(){return g})),n.d(t,"j",(function(){return v})),n.d(t,"p",(function(){return b})),n.d(t,"h",(function(){return h})),n.d(t,"e",(function(){return O})),n.d(t,"f",(function(){return w})),function(e){e[e.Success=0]="Success",e[e.Failure=1]="Failure"}(r||(r={})),function(e){e[e.String=0]="String",e[e.Int=1]="Int",e[e.Long=2]="Long",e[e.Float=3]="Float",e[e.Double=4]="Double",e[e.Boolean=5]="Boolean",e[e.Enum=6]="Enum"}(o||(o={})),function(e){e[e.Number=0]="Number",e[e.Boolean=1]="Boolean",e[e.String=2]="String",e[e.Time=3]="Time",e[e.Array=4]="Array",e[e.Object=5]="Object"}(a||(a={})),function(e){e[e.Source=0]="Source",e[e.Target=1]="Target"}(i||(i={})),function(e){e[e.Value=0]="Value",e[e.Node=1]="Node",e[e.Param=2]="Param"}(u||(u={})),function(e){e[e.AUTO=0]="AUTO",e[e.LIST=1]="LIST"}(c||(c={})),function(e){e[e.BLANK=0]="BLANK",e[e.DEVICEACCESS=1]="DEVICEACCESS"}(l||(l={})),function(e){e[e.StartPoint=0]="StartPoint",e[e.EndPoint=1]="EndPoint"}(s||(s={})),function(e){e[e.Node=0]="Node",e[e.Value=1]="Value"}(f||(f={})),function(e){e[e.NoNeed=0]="NoNeed",e[e.Need=1]="Need"}(p||(p={})),function(e){e[e.Stream=1]="Stream",e[e.String=2]="String"}(d||(d={})),function(e){e[e.Required=0]="Required",e[e.Unrequired=1]="Unrequired"}(y||(y={})),function(e){e[e.ProductMode=0]="ProductMode",e[e.Node=1]="Node"}(m||(m={})),function(e){e[e.ProductProtocol=0]="ProductProtocol",e[e.UserDefine=1]="UserDefine"}(g||(g={})),function(e){e[e.Get=0]="Get",e[e.Set=1]="Set",e[e.Delete=2]="Delete"}(v||(v={})),function(e){e[e.Developing=0]="Developing",e[e.Compiled=1]="Compiled",e[e.Running=2]="Running",e[e.Stopped=3]="Stopped",e[e.Deleted=4]="Deleted",e[e.Debugging=999]="Debugging"}(b||(b={})),function(e){e.NULL="",e.PUTIN="putIn",e.MOVE="move",e.CONNECT="connect",e.LOG="log"}(h||(h={})),function(e){e.NULL="",e.NODE="node",e.LINE="line",e.CONTEXT="context"}(O||(O={})),function(e){e.CUT="cut",e.COPY="copy"}(w||(w={}))},q1tI:function(e,t,n){e.exports=n("WUjv")(0)},"r+FD":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var r={locale:n("+Gva").a},o=["//at.alicdn.com/t/font_1356493_aoq9i023czb.js","//at.alicdn.com/t/font_2673760_1fne5presr4.js","//at.alicdn.com/t/font_2673760_u0an4yraczk.js"]},sINF:function(e,t,n){e.exports=n("WUjv")(74)},tjUo:function(e,t,n){"use strict";n.r(t);var r,o=n("q1tI"),a=n.n(o),i=n("i8i4"),u=(n("SuFq"),n("zKZe"),n("pNMO"),n("4Brf"),n("07d7"),n("0oug"),n("4mDm"),n("PKPk"),n("3bBZ"),n("Hd6r"),n("wEI+")),c=(n("k3Gp"),n("kLXV")),l=(n("ma9I"),n("2B1R"),n("NBAS"),n("/MKj")),s=n("55Ip"),f=n("r+FD"),p=n("Q2AE"),d=n("w1Zx"),y=(n("L/Qf"),n("2/Rp")),m=(n("rB9j"),n("UxlC"),n("Ty5D")),g=n("Hxmm"),v=n("vS40");function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=P(e);if(t){var o=P(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return j(this,n)}}function j(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var I=Object(l.connect)((function(e){return{visible:e.getIn(["userCenter","loginModalStatu"])}}),(function(e){return{toLoginPage:function(){return e(Object(v.a)(!1))}}}))(r=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(i,e);var t,n,r,o=E(i);function i(){var e;h(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=o.call.apply(o,[this].concat(n))).handleOk=function(){var t=e.props,n=t.history,r=t.toLoginPage,o=t.location;r(),n.replace({pathname:"/account/login",state:{whereTogo:o.pathname}})},e}return t=i,(n=[{key:"render",value:function(){var e=this.props.visible;return a.a.createElement(c.a,{title:a.a.createElement("span",{style:{fontSize:"20px"}},"未登录账号"),visible:e,zIndex:1001,closable:!1,centered:!0,maskClosable:!1,footer:a.a.createElement(y.a,{key:"submit",type:"primary",onClick:this.handleOk},"确定")},a.a.createElement("p",{style:{fontSize:"18px",textAlign:"center"}},a.a.createElement(g.a,{twoToneColor:"rgb(184, 81, 22)"}),a.a.createElement("span",{style:{marginLeft:"12px"}},"请先登录账号")))}}])&&O(t.prototype,n),r&&O(t,r),i}(o.Component))||r,S=Object(m.withRouter)(I),T=n("Ir2J");n("QtFR");function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function D(){return(D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=A(e);if(t){var o=A(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return N(this,n)}}function N(e,t){return!t||"object"!==C(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var M=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(i,e);var t,n,r,o=R(i);function i(){var e;_(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=o.call.apply(o,[this].concat(n))).customConfirm=function(e,t){c.a.confirm({title:e,onCancel:function(){t(!1)},onOk:function(){t(!0)}})},e}return t=i,(n=[{key:"getParentNode",value:function(e){return e?e.parentNode:document.body}},{key:"render",value:function(){return a.a.createElement(u.b,{locale:f.a.locale},a.a.createElement(l.Provider,{store:p.a},a.a.createElement(s.HashRouter,{getUserConfirmation:this.customConfirm},a.a.createElement(T.a,null),a.a.createElement(s.Switch,null,d.d.map((function(e,t){return a.a.createElement(d.b,D({key:t},e))}))),a.a.createElement(S,null))))}}])&&L(t.prototype,n),r&&L(t,r),i}(o.Component),x=(n("Hglc"),document.querySelector("#root"));Object(i.render)(a.a.createElement(M,null),x)},vDqi:function(e,t,n){e.exports=n("WUjv")(75)},vS40:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return f}));n("07d7"),n("5s+n");var r=n("3L+O"),o=n("Nlzp"),a=n("JPcv"),i=n("w1Zx"),u=function(e){return{type:r.b,statu:e}},c=function(){return function(e,t){Object(o.c)(o.a.getDeveloperInfo,{},{needVersion:1.1,loading:!0}).then((function(t){var n=function(e){return{type:r.c,info:Object(a.fromJS)(e)}}(t.data);e(n)}))}},l=function(){return function(e,t){Object(o.c)(o.a.getGroupMenuList,{version:1.1}).then((function(t){console.log(111111,i.e,i.c);var n=Object(i.c)(i.e);console.log("---routesMenu--",n);var r=s(n);e(r)}))}},s=function(e){return{type:r.a,data:Object(a.fromJS)(e)}},f=function(e){return function(t){return Object(o.c)(o.a.deleteRole,{roleId:e},{loading:!0}).then((function(e){return 0===e.code?Promise.resolve(1):Promise.resolve(0)})).catch((function(e){return Promise.resolve(0)}))}}},w1Zx:function(e,t,n){"use strict";n.d(t,"d",(function(){return mo})),n.d(t,"e",(function(){return go})),n.d(t,"a",(function(){return vo})),n.d(t,"b",(function(){return bo})),n.d(t,"c",(function(){return ho}));n("tkto"),n("pNMO"),n("zKZe"),n("TeQF"),n("5DmW"),n("FZtP"),n("27RR");var r=n("wEy/"),o=n.n(r),a=n("J2m7"),i=n.n(a),u=(n("4mDm"),n("07d7"),n("5s+n"),n("PKPk"),n("3bBZ"),n("2B1R"),n("q1tI")),c=n.n(u),l=n("55Ip"),s=n("MKeS"),f=(n("NBAS"),n("SuFq"),n("4Brf"),n("0oug"),n("ma9I"),n("rB9j"),n("Rm1S"),n("/MKj")),p=n("vS40"),d=n("d8kt"),y=n("MUf8"),m=n("k+EZ"),g=(n("2WkQ"),n("BvKs"));n("36rt"),n("F6+i");function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=j(e);if(t){var o=j(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return E(this,n)}}function E(e,t){return!t||"object"!==v(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var P=g.a.SubMenu;var I=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(a,e);var t,n,r,o=w(a);function a(){var e;b(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=o.call.apply(o,[this].concat(n))).state={defaultSelectedKeys:["1"],defaultOpenKeys:["sub1"]},e}return t=a,(n=[{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(e,t){}},{key:"render",value:function(){var e=this.props,t=e.collapsed,n=e.menulist,r=this.state;return r.defaultSelectedKeys,r.defaultOpenKeys,c.a.createElement("div",{className:"menu-wapper"},c.a.createElement(g.a,{className:"self-menu",mode:"inline",inlineCollapsed:t,inlineIndent:22,forceSubMenuRender:!0},function e(t){return t.map((function(t,n){var r=t.menuicon,o=t.menuname,a=t.path,i=t.childmenus,u=void 0===i?[]:i;return u.length>0?c.a.createElement(P,{key:o+n,icon:c.a.createElement("span",{className:"selficon ".concat(r)}),title:o},e(u)):c.a.createElement(g.a.Item,{key:o+n,icon:r&&c.a.createElement("span",{className:"selficon ".concat(r)})||null},c.a.createElement(l.Link,{to:a},o))}))}(n)))}}])&&h(t.prototype,n),r&&h(t,r),a}(u.PureComponent),S=Object(l.withRouter)(I),T=n("dxGJ"),C=n("wJku");function D(e){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var _,L=["menuname","path"];function k(){return(k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function R(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function N(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function M(e,t){return(M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=B(e);if(t){var o=B(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return V(this,n)}}function V(e,t){return!t||"object"!==D(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function B(e){return(B=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var F=Object(s.default)((function(){return Promise.all([n.e("antd-vendor"),n.e("vendor"),n.e(5)]).then(n.bind(null,"xnaj"))})),q=Object(s.default)((function(){return n.e(16).then(n.bind(null,"3Lts"))})),U={"总览":F,"产品":q,"设备":F,APP:q,"数据服务":F,"开发Studio":q},J=Object(f.connect)((function(e){return{developerInfo:e.getIn(["userCenter","developerInfo"]).toJS(),menulist:e.getIn(["userCenter","menulist"]).toJS(),newMessageNums:e.getIn(["message","newMessageNums"]).toJS()}}),(function(e){return{getDeveloperInfo:function(){return e(Object(p.c)())},getNewMessageNums:function(){return e(Object(d.a)())},getMenuList:function(){return e(Object(p.d)())}}}))(_=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M(e,t)}(a,e);var t,n,r,o=x(a);function a(){var e;N(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=o.call.apply(o,[this].concat(n))).state={collapsed:!1},e.setCollapsed=function(){e.setState({collapsed:!e.state.collapsed})},e}return t=a,(n=[{key:"componentDidMount",value:function(){console.log("---lodash---",console.log.placeholder),this.props.getDeveloperInfo(),this.props.getNewMessageNums(),0==this.props.menulist.navMenu.length&&this.props.getMenuList()}},{key:"render",value:function(){var e=this.props,t=e.match,n=e.developerInfo,r=e.newMessageNums,o=e.menulist,a=o.navMenu,i=o.userMenu,u=this.state.collapsed;return t.path,c.a.createElement(y.a,null,c.a.createElement("section",{className:"page-header-wrapper"},c.a.createElement(m.a,{developerInfo:n,newMessageNums:r,menulist:i})),c.a.createElement("div",{className:"page-content-wrapper"},c.a.createElement("div",{className:"left-menus".concat(u?" collap":"")},c.a.createElement(S,{menulist:a,collapsed:u}),c.a.createElement("div",{className:"trigger-coll",onClick:this.setCollapsed},c.a.createElement("span",{className:"icon"},u&&c.a.createElement(T.a,null)||c.a.createElement(C.a,null)),!u&&"收起菜单")),c.a.createElement("section",{className:"right-wrapper"},c.a.createElement("div",{className:"right-wrapper-contentbox"},c.a.createElement(l.Switch,null,a.map((function(e,t){var n=e.menuname,r=e.path,o=R(e,L),a=U[n];if(a)return c.a.createElement(l.Route,{key:t,path:r,render:function(e){return c.a.createElement(a,k({},e,o))}})})))))))}}])&&A(t.prototype,n),r&&A(t,r),a}(u.Component))||_,H=n("gtRY"),W=(n("qNb/"),n("PArb")),G=(n("L/Qf"),n("2/Rp")),K=(n("8/o9"),n("tsqr")),Q=(n("Aosp"),n("diRs")),z=n("GYYy"),Z=n("fVCw"),Y=n("ga3A"),X=n("q9hl"),$=n("6wSz"),ee=n("2/1A"),te=n("Lyp1"),ne=(n("k3Gp"),n("kLXV")),re=(n("8QGh"),n("2fM7")),oe=(n("1vPl"),n("5rEg")),ae=(n("sMBO"),n("WsrF")),ie=(n("XlDN"),n("LgsE")),ue=n("kEWA"),ce=n("be64");function le(e){return(le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function se(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pe(e,t){return(pe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function de(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=me(e);if(t){var o=me(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ye(this,n)}}function ye(e,t){return!t||"object"!==le(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function me(e){return(me=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ge="参数值格式不正确",ve=/^-?[1-9]\d*$/,be=/^-?(([1-9]\d*\.?\d*)|(0\.[^.]*))$/,he={labelCol:{xs:{span:4},sm:{span:4}},wrapperCol:{xs:{span:20},sm:{span:20}}},Oe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pe(e,t)}(a,e);var t,n,r,o=de(a);function a(){var e;se(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=o.call.apply(o,[this].concat(n))).onClose=function(){e.props.hide()},e.submit=function(){var t=e.props,n=t.form,r=t.serviceId,o=t.params,a=t.debug,i=t.hide;n.validateFields().then((function(e){o.forEach((function(t){var n=t.name,r=t.type;r===ue.m.Boolean?e[n]=ce.d[e[n]].value2:r===ue.m.Int||r===ue.m.Long?e[n]=parseInt(e[n]):r!==ue.m.Float&&r!==ue.m.Double||(e[n]=parseFloat(e[n]))})),a({serviceId:r,jsonData:JSON.stringify(e)}),i()})).catch((function(){K.b.error("请按要求进行输入")}))},e}return t=a,(n=[{key:"render",value:function(){var e=this.props,t=e.isShow,n=e.params,r=e.form.getFieldDecorator;return c.a.createElement(ne.a,{title:"入参配置",width:480,wrapClassName:"draw-small-form",maskClosable:!1,visible:t,destroyOnClose:!0,onOk:this.submit,okText:"开始调试",onCancel:this.onClose},c.a.createElement(ae.a,he,c.a.createElement("div",{className:"draw-params"},n.map((function(e){var t=e.name,n=e.type,o=e.isRequire,a=e.defaultValue,i=[],u=n===ue.m.Boolean,l=n===ue.m.String,s=u?"请选择布尔值":"请输入"+(l?"字符串":"数值（"+ce.y[n].text+"）"),f=c.a.createElement(oe.a,{placeholder:s}),p=a||"";return o===ue.o.Required&&i.push(ie.a.isRequire("参数值")),n===ue.m.Int?(f=c.a.createElement(oe.a,{placeholder:s,maxLength:16}),i.push(ie.a.checkRules(ve,ge))):n===ue.m.Long?i.push(ie.a.checkRules(ve,ge)):n===ue.m.Float||n===ue.m.Double?i.push(ie.a.checkRules(be,ge)):u&&(p=ce.c[0].id2,f=c.a.createElement(re.a,{placeholder:s},ce.c.map((function(e){var t=e.id2,n=e.value;return c.a.createElement(re.a.Option,{value:t,key:t},n)})))),c.a.createElement(ae.a.Item,{label:t,key:t},r(t,{initialValue:p,rules:i})(f))})))))}}])&&fe(t.prototype,n),r&&fe(t,r),a}(u.Component),we=ae.a.create({name:"DebugInputModal"})(Oe),Ee=Object(f.connect)((function(e){var t=e.get("drawView"),n=t.serviceId,r=t.showDebugInput,o=t.root,a=t.nodeMap,i=Object(H.v)(o,a);return{isShow:r,serviceId:n,isHTTP:i.isHTTP,params:i.params}}),(function(e){return{hide:function(){return e(Object(H.y)())},debug:function(t){return e(Object(H.m)(t))}}}))(we),je=n("54Vy");function Pe(e){return(Pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ie(Object(n),!0).forEach((function(t){Te(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function De(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _e(e,t){return(_e=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Le(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Re(e);if(t){var o=Re(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ke(this,n)}}function ke(e,t){return!t||"object"!==Pe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Re(e){return(Re=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ne=function(e){var t=e.content,n=e.children;return c.a.createElement(Q.a,{content:t,mouseEnterDelay:.3,overlayClassName:"draw-popover"},n)},Ae=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_e(e,t)}(a,e);var t,n,r,o=Le(a);function a(){var e;Ce(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=o.call.apply(o,[this].concat(n))).save=function(){var t=e.props;(0,t.save)(t.state)},e.debug=function(){var t=e.props,n=t.debug,r=t.showParamsModal,o=t.serviceId,a=t.isHTTP,i=t.params;a?0===i.length?n({serviceId:o,jsonData:"{}"}):r():K.b.warn("很抱歉，该触发事件暂不支持调试")},e.openPublish=function(t){e.props.openPublish(t)},e.publishOkHandle=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.openPublish(0);var n=e.props,r=n.isopenPublish,o=n.serviceId,a=n.mustSave,i=n.state,u=n.save,c=n.publish,l=n.deploy;1===r?a?u(i,Se({},t)):l(Se({serviceId:o},t)):2===r&&c(Se({serviceId:o},t))},e}return t=a,(n=[{key:"render",value:function(){var e=this,t=this.props,n=t.productionName,r=t.mustSave,o=t.testEnv,a=t.stackHistory,i=t.isSaving,u=t.isInDeploy,l=t.isInDebug,s=t.isInPublish,f=t.isopenPublish,p=t.serviceId,d=t.undo,y=t.clearNode,m=a.length>0,g=r||i||u||l||o<ue.p.Running,v=r||i||u||s||o<ue.p.Running;return c.a.createElement("div",{className:"draw-top"},c.a.createElement("span",null,n),c.a.createElement("div",{className:"draw-tools"},c.a.createElement(Ne,{content:"撤销"},c.a.createElement(G.a,{shape:"circle",icon:c.a.createElement(z.a,null),disabled:!m,onClick:m?d:void 0})),c.a.createElement(Ne,{content:"整理节点"},c.a.createElement(G.a,{shape:"circle",icon:c.a.createElement(Z.a,null),className:"draw-rotate",onClick:y})),c.a.createElement(W.a,{type:"vertical"}),c.a.createElement(Ne,{content:"保存"},c.a.createElement(G.a,{shape:"circle",icon:c.a.createElement(Y.a,null),loading:i,disabled:i,onClick:this.save})),c.a.createElement(Ne,{content:"部署"},c.a.createElement(G.a,{shape:"circle",icon:c.a.createElement(X.a,null),loading:u,disabled:i||u,onClick:function(){return e.openPublish(1)}})),c.a.createElement(Ne,{content:"调试"},c.a.createElement(G.a,{shape:"circle",icon:c.a.createElement($.a,null),loading:l,disabled:g,onClick:this.debug})),c.a.createElement(Ne,{content:"发布正式环境"},c.a.createElement(G.a,{shape:"circle",icon:c.a.createElement(ee.a,null),loading:s,disabled:v,onClick:function(){return e.openPublish(2)}})),c.a.createElement(W.a,{type:"vertical"}),c.a.createElement(Ne,{content:"帮助"},c.a.createElement(G.a,{shape:"circle",icon:c.a.createElement(te.a,null),disabled:!0}))),c.a.createElement(Ee,null),c.a.createElement(je.a,{visible:f>0,envdata:{id:p,actionType:f,name:n},onOk:this.publishOkHandle,onCancel:function(){return e.openPublish(0)}}))}}])&&De(t.prototype,n),r&&De(t,r),a}(u.Component),Me=Object(f.connect)((function(e){var t=e.get("drawView"),n=t.serviceId,r=t.productionName,o=t.mustSave,a=t.testEnv,i=t.proEnv,u=t.stackHistory,c=t.isSaving,l=t.isInDeploy,s=t.isInDebug,f=t.isInPublish,p=t.isopenPublish,d=t.root,y=t.nodeMap,m=Object(H.v)(d,y);return{productionName:r,mustSave:o,testEnv:a,proEnv:i,stackHistory:u,isSaving:c,isInDeploy:l,isInDebug:s,isInPublish:f,isopenPublish:p,serviceId:n,isHTTP:m.isHTTP,params:m.params,state:t}}),(function(e){return{undo:function(){return e(Object(H.N)())},clearNode:function(){return e(Object(H.f)())},save:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e(Object(H.G)(t,n))},deploy:function(t){return e(Object(H.r)(t))},publish:function(t){return e(Object(H.F)(t))},showParamsModal:function(){return e(Object(H.I)())},debug:function(t){return e(Object(H.m)(t))},openPublish:function(t){return e(Object(H.D)(t))}}}))(Ae);n("hByQ");function xe(e){return(xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Be(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fe(e,t){return(Fe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function qe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Je(e);if(t){var o=Je(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ue(this,n)}}function Ue(e,t){return!t||"object"!==xe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Je(e){return(Je=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var He,We=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fe(e,t)}(a,e);var t,n,r,o=qe(a);function a(){var e;Ve(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=o.call.apply(o,[this].concat(n))).time=void 0,e.change=function(t){var n=t.target.value;clearTimeout(e.time),e.time=setTimeout((function(){e.search(n)}),500)},e.search=function(t){e.props.changeSearch(t)},e}return t=a,(n=[{key:"render",value:function(){return c.a.createElement("div",{className:"draw-search"},c.a.createElement("div",{className:"draw-search-inner"},c.a.createElement(oe.a.Search,{placeholder:"根据节点名搜索",size:"small",onChange:this.change,onSearch:this.search})))}}])&&Be(t.prototype,n),r&&Be(t,r),a}(u.Component),Ge=Object(f.connect)(void 0,(function(e){return{changeSearch:function(t){return e(Object(H.e)(t))}}}))(We),Ke=(n("GRva"),n("gK9i")),Qe=(n("TWNs"),n("JfAA"),n("+2oP"),n("pjDv"),n("V0bm")),ze=n("a+Kn"),Ze=n("Q2AE"),Ye=n("J76n"),Xe=document,$e=Xe.body,et=ue.h.NULL,tt=null,nt={x:0,y:0},rt=function(){var e;return(e=console).log.apply(e,arguments)};function ot(e){et=ue.h.NULL,He=setTimeout((function(){ze.a.removeClass($e,"draw-no-popover")}),1200)}function at(e){if(null!==tt&&et===ue.h.PUTIN){et=ue.h.NULL;var t=e.pageX,n=e.pageY,r=t-nt.x,o=n-nt.y;rt("【计算】拖拽结束节点应放置位置(相对于窗口)：",r,o),Ze.a.dispatch(Object(H.s)(tt,r,o))}}function it(e){e.preventDefault()}var ut={x:0,y:0},ct={x:0,y:0},lt={x:-1,y:-1},st={left:0,top:0},ft=null;function pt(e){if(null!==ft&&et===ue.h.MOVE){var t=e.pageX,n=e.pageY,r=ct.x+t-ut.x,o=ct.y+n-ut.y,a=Ye.a.wrap?Ye.a.wrap.scrollLeft:0,i=Ye.a.wrap?Ye.a.wrap.scrollTop:0;r=(r+=a-st.left)<0?0:r,o=(o+=i-st.top)<0?0:o;var u=-1===lt.x&&-1===lt.y;if(u&&r===ct.x&&o===ct.y)return;Ze.a.dispatch(Object(H.B)(ft,r,o,u)),lt={x:r,y:o}}}function dt(e){null!==ft&&et===ue.h.MOVE&&-1===lt.x&&-1===lt.y&&Ze.a.dispatch(Object(H.a)(ft)),He=setTimeout((function(){ze.a.removeClass($e,"draw-no-popover")}),1200),ft=null,et=ue.h.NULL,ze.a.removeEvent(Xe,"mousemove",pt),ze.a.removeEvent(Xe,"mouseup",dt),Ye.a.initWH()}var yt=null;function mt(e){if(null!==yt&&et===ue.h.CONNECT){var t=e.pageX,n=e.pageY;Ze.a.dispatch(Object(H.A)(yt,t,n))}}function gt(e){yt&&Ze.a.dispatch(Object(H.h)(yt)),ft=null,yt=null,et=ue.h.NULL,ze.a.removeEvent(Xe,"mousemove",mt),ze.a.removeEvent(Xe,"mouseup",gt)}function vt(e,t,n){e.stopPropagation(),e.preventDefault();var r=e.pageX,o=e.pageY;Ze.a.dispatch(Object(H.H)(t,n,r,o)),ze.a.addEvent(Xe,"mousedown",bt)}function bt(){ze.a.removeEvent(Xe,"mousedown",bt),ze.a.removeEvent(Xe,"click",bt),Ze.a.dispatch(Object(H.x)())}function ht(){ze.a.removeEvent(Xe,"mousedown",bt),ze.a.addEvent(Xe,"click",bt)}var Ot=0,wt=0;function Et(e){if(et===ue.h.LOG){var t=e.pageY,n=Ot+-(t-wt);Ze.a.dispatch(Object(H.c)(Math.min(Math.max(n,0),Ye.a.logMaxHeight)))}}function jt(e){He=setTimeout((function(){ze.a.removeClass($e,"draw-no-popover")}),1200),et=ue.h.NULL,ze.a.removeEvent(Xe,"mousemove",Et),ze.a.removeEvent(Xe,"mouseup",jt)}function Pt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){u=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return It(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return It(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function It(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var St=Qe.k.map((function(e){return e.id}));var Tt=Object(f.connect)((function(e){return{searchText:e.get("drawView").searchText}}),(function(e){return{}}))((function(e){var t=Pt(Object(u.useState)(St),2),n=t[0],r=t[1],o=e.searchText;return c.a.createElement("div",{className:"draw-chooser"},c.a.createElement(Ke.a,{bordered:!1,activeKey:n,onChange:function(e){return r(e)}},Qe.k.map((function(e){var t=e.id,n=e.name,r=e.list;return c.a.createElement(Ke.a.Panel,{header:n,key:t},c.a.createElement("div",{className:"draw-chooser-list"},r.filter((function(e){return e.name.search(new RegExp(o||"","i"))>-1})).map((function(e){var t=e.id,n=e.name,r=e.iconCls,o=e.description,a="draw-nodeItem-icon "+(r||"");return c.a.createElement(Q.a,{content:o,placement:"right",overlayClassName:"draw-popover",mouseEnterDelay:1,key:t},c.a.createElement("div",{className:"draw-nodeItem",draggable:!0,onDragStart:function(e){return function(e,t){clearTimeout(He),ze.a.addClass($e,"draw-no-popover"),et=ue.h.PUTIN,rt("currentNodeType---：",tt=t);var n=e.pageX,r=e.pageY,o=e.target.getBoundingClientRect(),a=o.left,i=o.top;rt("【计算】拖拽初始距离差值：",(nt={x:n-a,y:r-i}).x,nt.y)}(e,t)},onDragEnd:ot,onDragExit:ot},c.a.createElement("i",{className:a}),c.a.createElement("div",{className:"draw-nodeItem-text"},n)))}))))}))))}));function Ct(e){return(Ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Dt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Lt(e,t){return(Lt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function kt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Nt(e);if(t){var o=Nt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Rt(this,n)}}function Rt(e,t){return!t||"object"!==Ct(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Nt(e){return(Nt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var At=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Lt(e,t)}(a,e);var t,n,r,o=kt(a);function a(){return Dt(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){return this.props.showChooser?c.a.createElement("div",{className:"draw-left"},c.a.createElement(Ge,null),c.a.createElement(Tt,null)):null}}])&&_t(t.prototype,n),r&&_t(t,r),a}(u.Component),Mt=Object(f.connect)((function(e){return{showChooser:e.get("drawView").showChooser}}))(At),xt=n("jN4g"),Vt=n("jO45");function Bt(e){return(Bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ft(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ut(e,t){return(Ut=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Jt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Wt(e);if(t){var o=Wt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ht(this,n)}}function Ht(e,t){return!t||"object"!==Bt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Wt(e){return(Wt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Gt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ut(e,t)}(a,e);var t,n,r,o=Jt(a);function a(){return Ft(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){var e=this.props,t=e.readonly,n=e.nodeList,r=e.chooseId,o=e.testEnv,a=e.debuggedMap,i=e.changeChooseId;return c.a.createElement(c.a.Fragment,null,n.map((function(e,n){var u=e.id,l=e.nodeType,s=e.x,f=e.y,p=e.pId,d=e.entryId,y=e.isError,m=e.configuration,g=((o===ue.p.Debugging?a[u]:null)||{}).code,v=g===ue.b.Success,b=g===ue.b.Failure,h=Qe.a[l],O=h.name,w=h.iconCls,E=m.name,j=m.output,P=c.a.createElement("div",{className:""},"节点名称：",E,c.a.createElement("br",null),"节点类型：",O,c.a.createElement("br",null),"ID：",u),I=j.length,S="draw-nodeItem draw-nodeItem-move"+(r===u?" draw-nodeItem-selected":"")+(y?" draw-nodeItem-fault":"")+(t?" draw-readonly":""),T="draw-output-wrap"+(1===I?" draw-output-wrap-only":""),C="draw-nodeItem-icon "+(w||""),D="draw-entry"+(p?" draw-forbid":""),_={left:s+"px",top:f+"px",height:Object(H.u)(e),zIndex:30+n},L=function(e){return function(e,t,n,r,o){null!==yt&&et===ue.h.CONNECT?r&&"forLoopEnd"!==o?K.b.warn("无法连接到已有连线的节点"):null===n?K.b.warn("目标节点不允许连接"):ft===t?K.b.warn("节点无法连接自己"):(Ze.a.dispatch(Object(H.i)(yt,t,n,o)),yt=null):-1===lt.x&&-1===lt.y&&Ze.a.dispatch(Object(H.a)(t))}(0,u,d,p,l)};return c.a.createElement("div",{className:S,style:_,id:u,"data-type":l,key:u,onContextMenu:t?void 0:function(e){vt(e,ue.e.NODE,u)}},c.a.createElement(Q.a,{content:P,placement:"right",overlayClassName:"draw-popover",mouseEnterDelay:1},c.a.createElement("div",{className:"draw-nodeItem-inner",onMouseDown:t?void 0:function(e){return function(e,t,n,r){et=ue.h.MOVE,ft=t;var o=e.pageX,a=e.pageY;ct={x:n,y:r},ut={x:o,y:a},lt={x:-1,y:-1},st={left:Ye.a.wrap?Ye.a.wrap.scrollLeft:0,top:Ye.a.wrap?Ye.a.wrap.scrollTop:0},rt("【计算】【节点"+t+"】初始移动的位置：",ut.x,ut.y),clearTimeout(He),ze.a.addClass($e,"draw-no-popover"),ze.a.addEvent(Xe,"mousemove",pt),ze.a.addEvent(Xe,"mouseup",dt)}(e,u,s,f)},onMouseUp:t?void 0:L,onClick:t?function(){return i(u)}:void 0},c.a.createElement("i",{className:C}),c.a.createElement("div",{className:"draw-nodeItem-text"},E),y||b?c.a.createElement(xt.a,{className:"draw-nodeItem-error"}):null,v?c.a.createElement(Vt.a,{className:"draw-nodeItem-success"}):null)),p?c.a.createElement("div",{className:"draw-arrow"},c.a.createElement("div",{className:"draw-arrow-inner"})):null,d?c.a.createElement("div",{id:d,className:D,onMouseUp:t?void 0:L}):null,I>0?c.a.createElement("div",{className:T},j.map((function(e,n){var r=e.id,o=e.connectId,a="draw-output draw-output-"+n+(o?" draw-forbid":""),i=o?void 0:function(e){return function(e,t,n){et=ue.h.CONNECT,ft=t,yt=n,ct=ze.a.countCenterPoint(n),Ze.a.dispatch(Object(H.k)(ct,t,n)),rt("【计算】【Line】初始移动的位置：",ct.x,ct.y),ze.a.addEvent(Xe,"mousemove",mt),ze.a.addEvent(Xe,"mouseup",gt)}(0,u,r)};return c.a.createElement("div",{key:r,id:r,className:a,onMouseDown:t?void 0:i})}))):null)})))}}])&&qt(t.prototype,n),r&&qt(t,r),a}(u.Component),Kt=Object(f.connect)((function(e){var t=e.get("drawView");return{readonly:t.readonly,nodeList:t.nodeList,nodeMap:t.nodeMap,testEnv:t.testEnv,debuggedMap:t.debuggedMap,chooseId:t.chooseId}}),(function(e){return{changeChooseId:function(t){return e(Object(H.a)(t))}}}))(Gt);function Qt(e){return(Qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Yt(e,t){return(Yt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Xt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=en(e);if(t){var o=en(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return $t(this,n)}}function $t(e,t){return!t||"object"!==Qt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function en(e){return(en=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var tn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Yt(e,t)}(a,e);var t,n,r,o=Xt(a);function a(){return zt(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){var e=this.props.lineArrow;if(null===e)return null;var t={left:e.x+"px",top:e.y+"px"};return c.a.createElement("div",{className:"draw-arrow draw-arrow-connect",style:t},c.a.createElement("div",{className:"draw-arrow-inner"}))}}])&&Zt(t.prototype,n),r&&Zt(t,r),a}(u.Component),nn=Object(f.connect)((function(e){return{lineArrow:e.get("drawView").lineArrow}}))(tn);function rn(e){return(rn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function on(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function an(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function un(e,t){return(un=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function cn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=sn(e);if(t){var o=sn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ln(this,n)}}function ln(e,t){return!t||"object"!==rn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function sn(e){return(sn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var fn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&un(e,t)}(a,e);var t,n,r,o=cn(a);function a(){return on(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){var e=this.props,t=e.readonly,n=e.lineList,r=e.chooseId,o=e.chooseLineId,a=e.changeChooseId,i=e.changeChooseLineId;return c.a.createElement("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",id:"drawView-Line",onClick:t?void 0:function(e){a(null)},onContextMenu:t?void 0:function(e){vt(e,ue.e.CONTEXT,ue.e.CONTEXT)}},n.map((function(e){var n=e.uniqueId,u=e.path,l=n===r||n===o?"#0070CC":"#c1c1c1";return c.a.createElement("g",{key:n},c.a.createElement("path",{id:n,d:u,fill:"none",stroke:l,strokeWidth:1}),c.a.createElement("path",{d:u,fill:"none",stroke:"rgba(255,0,0,.0)",strokeWidth:20,onMouseEnter:function(){return i(n)},onMouseLeave:function(){return i(null)},onClick:t?void 0:function(e){e.stopPropagation(),a(n)},onContextMenu:t?void 0:function(e){vt(e,ue.e.LINE,n)}}))})))}}])&&an(t.prototype,n),r&&an(t,r),a}(u.Component),pn=Object(f.connect)((function(e){var t=e.get("drawView");return{readonly:t.readonly,lineList:t.lineList,chooseId:t.chooseId,chooseLineId:t.chooseLineId}}),(function(e){return{changeChooseId:function(t){return e(Object(H.a)(t))},changeChooseLineId:function(t){return e(Object(H.b)(t))}}}))(fn),dn=n("3NWV"),yn=n("7i3Y");function mn(e){return(mn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bn(e,t){return(bn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function hn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=wn(e);if(t){var o=wn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return On(this,n)}}function On(e,t){return!t||"object"!==mn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function wn(e){return(wn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var En=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bn(e,t)}(a,e);var t,n,r,o=hn(a);function a(){return gn(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"componentDidUpdate",value:function(){Ye.a.initWH()}},{key:"render",value:function(){var e=this.props,t=e.readonly,n=e.showChooser,r=e.showConfiguration,o=e.showLog,a=e.showLogHeight,i=e.toggleChooserView,u=e.toggleConfigurationView,l=e.toggleLogView;if(t)return null;var s={bottom:a},f=(n?"隐藏":"显示")+"左侧栏",p=(o?"隐藏":"显示")+"日志栏",d=(r?"隐藏":"显示")+"右侧栏",y=n?"#333":"#c1c1c1",m=o?"#333":"#c1c1c1",g=r?"#333":"#c1c1c1";return c.a.createElement("div",{className:"draw-toolBox",style:s},c.a.createElement("div",{className:"draw-toolBox-group"},c.a.createElement(Ne,{content:f},c.a.createElement(G.a,{type:"link",onClick:i},c.a.createElement(yn.b,{icon:c.a.createElement(dn.a,{type:yn.a.LeftView}),fill:y}))),c.a.createElement(Ne,{content:p},c.a.createElement(G.a,{type:"link",onClick:l},c.a.createElement(yn.b,{icon:c.a.createElement(dn.a,{type:yn.a.LogView}),fill:m}))),c.a.createElement(Ne,{content:d},c.a.createElement(G.a,{type:"link",onClick:u},c.a.createElement(yn.b,{icon:c.a.createElement(dn.a,{type:yn.a.RightView}),fill:g})))),c.a.createElement("div",{className:"draw-toolBox-resize",onMouseDown:function(e){return function(e,t){et=ue.h.LOG;var n=e.pageY;Ot=t,rt("【计算】【日志栏移动】初始移动的Y轴位置：",wt=n),clearTimeout(He),ze.a.addClass($e,"draw-no-popover"),ze.a.addEvent(Xe,"mousemove",Et),ze.a.addEvent(Xe,"mouseup",jt)}(e,a)}}))}}])&&vn(t.prototype,n),r&&vn(t,r),a}(u.Component),jn=Object(f.connect)((function(e){var t=e.get("drawView");return{showChooser:t.showChooser,showConfiguration:t.showConfiguration,showLog:t.showLog,showLogHeight:t.showLogHeight,readonly:t.readonly}}),(function(e){return{toggleChooserView:function(){return e(Object(H.J)())},toggleConfigurationView:function(){return e(Object(H.K)())},toggleLogView:function(){return e(Object(H.M)())}}}))(En),Pn=(n("AUBz"),n("ZTPi")),In=n("OIuG");function Sn(e){return(Sn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Tn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Cn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Dn(e,t){return(Dn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _n(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=kn(e);if(t){var o=kn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ln(this,n)}}function Ln(e,t){return!t||"object"!==Sn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function kn(e){return(kn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Rn,Nn=Pn.a.TabPane;!function(e){e.RETURN="0",e.RESULT="1"}(Rn||(Rn={}));var An=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Dn(e,t)}(a,e);var t,n,r,o=_n(a);function a(){var e;Tn(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=o.call.apply(o,[this].concat(n))).state={tab:Rn.RETURN},e.animated={inkBar:!0,tabPane:!1},e.tab=function(t){return e.setState({tab:t})},e}return t=a,(n=[{key:"render",value:function(){var e=this.props,t=e.isShow,n=e.height,r=e.debuggedResult,o=e.debuggedOutput,a=e.toggle,i=e.toFullscreen;if(!t)return null;var u=this.state.tab,l={height:n},s=n===Ye.a.logMaxHeight,f=s?yn.a.FullscreenBack:yn.a.Fullscreen,p=c.a.createElement(c.a.Fragment,null,c.a.createElement(Ne,{content:s?"关闭全屏显示":"全屏显示"},c.a.createElement(G.a,{type:"link",onClick:i},c.a.createElement(yn.b,{icon:c.a.createElement(dn.a,{type:f})}))),c.a.createElement(Ne,{content:"关闭日志栏"},c.a.createElement(G.a,{type:"link",onClick:a},c.a.createElement(yn.b,{icon:c.a.createElement(dn.a,{type:yn.a.Close})}))));return c.a.createElement("div",{className:"draw-log",style:l},c.a.createElement(Pn.a,{activeKey:u,animated:this.animated,onChange:this.tab,tabBarExtraContent:p},c.a.createElement(Nn,{tab:"API调用结果",key:Rn.RETURN},r?c.a.createElement(In.a,{keyName:"日志",data:r}):null),c.a.createElement(Nn,{tab:"全局日志",key:Rn.RESULT},o?c.a.createElement(In.a,{keyName:"全节点日志",data:o}):null)))}}])&&Cn(t.prototype,n),r&&Cn(t,r),a}(u.Component),Mn=Object(f.connect)((function(e){var t=e.get("drawView");return{isShow:t.showLog,height:t.showLogHeight,debuggedResult:t.debuggedResult,debuggedOutput:t.debuggedOutput}}),(function(e){return{toggle:function(){return e(Object(H.M)())},toFullscreen:function(){return e(Object(H.L)())}}}))(An);function xn(e){return(xn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fn(e,t){return(Fn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function qn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Jn(e);if(t){var o=Jn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Un(this,n)}}function Un(e,t){return!t||"object"!==xn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Jn(e){return(Jn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Hn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fn(e,t)}(a,e);var t,n,r,o=qn(a);function a(){return Vn(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"componentDidMount",value:function(){Ye.a.init("drawView-wrap","drawView-inner","drawView-Line")}},{key:"render",value:function(){var e,t=this.props,n=t.readonly,r=t.showChooser,o=t.showConfiguration,a=t.showLog,i=t.showLogHeight,u=r?"":" draw-no-chooser";return u+=o?"":" draw-no-configuration",u+=n?" draw-readonly":"",a&&(e={bottom:Math.min(i+Qe.g,Ye.a.logMaxHeight)}),c.a.createElement("div",{className:"draw-content"+u},c.a.createElement("div",{className:"draw-inner",id:"drawView-wrap",style:e,onDrop:n?void 0:at,onDragOver:n?void 0:it},c.a.createElement("div",{id:"drawView-inner",className:"draw-list"},c.a.createElement(Kt,null),c.a.createElement(nn,null),c.a.createElement(pn,null))),c.a.createElement(jn,null),c.a.createElement(Mn,null))}}])&&Bn(t.prototype,n),r&&Bn(t,r),a}(u.Component),Wn=Object(f.connect)((function(e){var t=e.get("drawView");return{readonly:t.readonly,showChooser:t.showChooser,showConfiguration:t.showConfiguration,showLog:t.showLog,showLogHeight:t.showLogHeight}}))(Hn),Gn=(n("TfFZ"),n("3S7+"));function Kn(e){return(Kn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zn(e,t){return(Zn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Yn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=$n(e);if(t){var o=$n(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Xn(this,n)}}function Xn(e,t){return!t||"object"!==Kn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function $n(e){return($n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var er=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Zn(e,t)}(a,e);var t,n,r,o=Yn(a);function a(){return Qn(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){return c.a.createElement("div",{className:"draw-PD"},c.a.createElement("div",{className:"draw-PD-head"},"欢迎使用业务编排工作台"),c.a.createElement("div",{className:"draw-PD-body"},c.a.createElement("p",null,"完成一个业务逻辑的开发，您需要进行以下4个步骤："),c.a.createElement("div",{className:"draw-PD-intro"},c.a.createElement("div",{className:"draw-PD-intro-item"},c.a.createElement("i",{className:"draw-PD-icon draw-PD-icon-1"}),c.a.createElement("h5",null,"选择触发节点"),c.a.createElement("p",null,"触发节点决定满足何种条件时开始执行该业务逻辑，如设备上报数据/固定时间/应用发起HTTP请求")),c.a.createElement("div",{className:"draw-PD-intro-item"},c.a.createElement("i",{className:"draw-PD-icon draw-PD-icon-2"}),c.a.createElement("h5",null,"编辑功能节点"),c.a.createElement("p",null,"各功能节点决定该业务逻辑具体执行的功能，可以在左侧面板拖拽节点进入画布之后在右侧栏编辑对应的配置项")),c.a.createElement("div",{className:"draw-PD-intro-item"},c.a.createElement("i",{className:"draw-PD-icon draw-PD-icon-3"}),c.a.createElement("h5",null,"调试"),c.a.createElement("p",null,"完成节点配置后，通过顶部栏数据流转视图查看各输入输出的流转路径是否正确，然后点击“调试”进行测试并查看日志")),c.a.createElement("div",{className:"draw-PD-intro-item"},c.a.createElement("i",{className:"draw-PD-icon draw-PD-icon-4"}),c.a.createElement("h5",null,"发布使用"),c.a.createElement("p",null,"调试完成后点击发布，即可完成业务逻辑的开发。随后您可以进入监控运维页查看其运行状况或对其进行再次开发"))),c.a.createElement("p",null,"如需更多帮助，请前往",c.a.createElement(Gn.a,{title:"暂无文档"},c.a.createElement("a",{className:"draw-PD-link",target:"_blank"},"帮助中心")))))}}])&&zn(t.prototype,n),r&&zn(t,r),a}(u.Component);function tr(e){return(tr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function or(e,t){return(or=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ar(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ur(e);if(t){var o=ur(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ir(this,n)}}function ir(e,t){return!t||"object"!==tr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ur(e){return(ur=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var cr={left:0,width:"auto"},lr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&or(e,t)}(a,e);var t,n,r,o=ar(a);function a(){return nr(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){var e=this.props,t=e.readonly,n=e.isShow,r=e.isFullScreen,o=e.nodeItem;if(!n)return null;var a=c.a.createElement(er,null);if(void 0!==o){var i=o.nodeType,u=Qe.a[i].configuration;a=c.a.createElement(u,this.props)}var l="draw-right"+(t?" draw-readonly":""),s=r?cr:void 0;return c.a.createElement("div",{className:l,style:s},a)}}])&&rr(t.prototype,n),r&&rr(t,r),a}(u.Component);function sr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sr(Object(n),!0).forEach((function(t){pr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var dr,yr,mr=Object(f.connect)((function(e){var t=e.get("drawView"),n=t.readonly,r=t.showConfiguration,o=t.showConfigurationWithFullScreen,a=t.chooseId,i=t.nodeMap,u=t.debuggedData,c=t.debuggedMap,l=t.testEnv,s=t.product,f=t.api,p=t.platformapi,d=t.mqTopic,y=t.rocketMQTopic,m=t.database,g=t.redis,v=i[a];return{readonly:n,isShow:r,isFullScreen:o,nodeItem:v?fr({},v):void 0,parents:Object(H.w)(v,i),debuggedData:u,debuggedMap:c,testEnv:l,product:s,api:f,platformapi:p,mqTopic:d,rocketMQTopic:y,database:m,redis:g}}),(function(e){return{changeNodeConfiguration:function(t,n){return e(Object(H.d)(t,n))},nodeError:function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e(Object(H.C)(t,n))},fullScreen:function(){return e(Object(H.t)())}}}))(lr);function gr(e){return(gr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vr(){return(vr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function br(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Or(e,t){return(Or=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function wr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=jr(e);if(t){var o=jr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Er(this,n)}}function Er(e,t){return!t||"object"!==gr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function jr(e){return(jr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Pr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){u=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ir(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ir(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ir(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Sr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Tr=(Sr(dr={},ue.e.NULL,[0,0]),Sr(dr,ue.e.LINE,[135,33]),Sr(dr,ue.e.NODE,[135,99]),Sr(dr,ue.e.CONTEXT,[135,99]),dr),Cr=(Sr(yr={},ue.e.NULL,(function(){return c.a.createElement(c.a.Fragment,null)})),Sr(yr,ue.e.LINE,(function(e){var t=e.deleteLine;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"draw-ctx-btn",onClick:t},"删除"))})),Sr(yr,ue.e.NODE,(function(e){var t=e.contextMenu.id,n=e.nodeMap,r=e.deleteNode,o=e.cutNode,a=e.copyNode,i=n[t],u=!!i&&-1===Qe.h.indexOf(i.nodeType),l="draw-ctx-btn"+(u?"":" draw-ctx-btn-disabled");return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:l,onClick:u?o:void 0},"剪切"),c.a.createElement("div",{className:l,onClick:u?a:void 0},"复制"),c.a.createElement("div",{className:"draw-ctx-btn",onClick:r},"删除"))})),Sr(yr,ue.e.CONTEXT,(function(e){var t=e.clearNode,n=e.copy,r=e.pasteNode,o=e.stackHistory,a=e.undo,i=null!==n,u="draw-ctx-btn"+(i?"":" draw-ctx-btn-disabled"),l=i?r:void 0,s=o.length>0,f="draw-ctx-btn"+(s?"":" draw-ctx-btn-disabled"),p=s?a:void 0;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:u,onClick:l},"粘贴"),c.a.createElement("div",{className:f,onClick:p},"撤销"),c.a.createElement("div",{className:"draw-ctx-btn",onClick:t},"整理节点位置"))})),yr),Dr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Or(e,t)}(a,e);var t,n,r,o=wr(a);function a(){return br(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){var e=this.props.contextMenu,t=e.show,n=e.type,r=e.x,o=e.y;if(!t)return null;var a=function(e,t,n){var r=document.documentElement,o=r.clientWidth,a=r.clientHeight,i=Pr(Tr[e],2),u=i[0],c=i[1],l=t,s=n;return l+u>o&&(l=t-u),s+c>a&&(s=n-c),{left:l,top:s}}(n,r,o),i=Cr[n];return c.a.createElement("div",{className:"draw-ctx-wrap",style:a,onMouseDown:ht},c.a.createElement("div",{className:"draw-ctx-group"},c.a.createElement(i,vr({},this.props,a))))}}])&&hr(t.prototype,n),r&&hr(t,r),a}(u.Component),_r=Object(f.connect)((function(e){var t=e.get("drawView");return{nodeList:t.nodeList,nodeMap:t.nodeMap,lineList:t.lineList,lineMap:t.lineMap,contextMenu:t.contextMenu,stackHistory:t.stackHistory,copy:t.copy}}),(function(e){return{deleteNode:function(){return e(Object(H.q)())},deleteLine:function(){return e(Object(H.p)())},cutNode:function(){return e(Object(H.l)())},copyNode:function(){return e(Object(H.j)())},pasteNode:function(){return e(Object(H.E)())},clearNode:function(){return e(Object(H.f)())},undo:function(){return e(Object(H.N)())}}}))(Dr),Lr=(n("04bd"),n("W9HT"));function kr(e){return(kr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Rr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Nr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ar(e,t){return(Ar=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Mr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Vr(e);if(t){var o=Vr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return xr(this,n)}}function xr(e,t){return!t||"object"!==kr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Vr(e){return(Vr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Br=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ar(e,t)}(a,e);var t,n,r,o=Mr(a);function a(){return Rr(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){var e=this.props.isLoading;return e?c.a.createElement(Lr.a,{spinning:e,wrapperClassName:"draw-loading"},c.a.createElement("div",{className:"draw-loading"})):null}}])&&Nr(t.prototype,n),r&&Nr(t,r),a}(u.Component),Fr=Object(f.connect)((function(e){return{isLoading:e.get("drawView").isLoading}}))(Br);n("3tak");function qr(e){return(qr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ur(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Jr(e,t){return(Jr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Hr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Gr(e);if(t){var o=Gr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wr(this,n)}}function Wr(e,t){return!t||"object"!==qr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Gr(e){return(Gr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Kr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Jr(e,t)}(a,e);var t,n,r,o=Hr(a);function a(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),t=o.call(this,e);var n=e.match.params,r=n.projectId,i=n.serviceId;return e.init(r,i),t}return t=a,(n=[{key:"render",value:function(){return c.a.createElement("div",{className:"draw-wrap"},c.a.createElement(Me,null),c.a.createElement(Mt,null),c.a.createElement(Wn,null),c.a.createElement(mr,null),c.a.createElement(_r,null),c.a.createElement(Fr,null))}}])&&Ur(t.prototype,n),r&&Ur(t,r),a}(u.Component),Qr=Object(l.withRouter)(Object(f.connect)(void 0,(function(e){return{init:function(t,n){return e(Object(H.z)(t,n))}}}))(Kr));function zr(e){return(zr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xr(e,t){return(Xr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $r(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=to(e);if(t){var o=to(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return eo(this,n)}}function eo(e,t){return!t||"object"!==zr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function to(e){return(to=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var no=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xr(e,t)}(a,e);var t,n,r,o=$r(a);function a(){return Zr(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){return c.a.createElement(Qr,null)}}])&&Yr(t.prototype,n),r&&Yr(t,r),a}(u.Component),ro=["component","redirect","path","isOk"];function oo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ao(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oo(Object(n),!0).forEach((function(t){io(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function io(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uo(){return(uo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function co(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var lo=Object(s.default)((function(){return Promise.all([n.e("common"),n.e("antd-vendor"),n.e("vendor"),n.e(1),n.e(9)]).then(n.bind(null,"rPAB"))})),so=Object(s.default)((function(){return Promise.all([n.e("common"),n.e("vendor"),n.e(12)]).then(n.bind(null,"15YJ"))})),fo=Object(s.default)((function(){return Promise.all([n.e("common"),n.e("antd-vendor"),n.e("vendor"),n.e(1),n.e(4)]).then(n.bind(null,"bc1A"))})),po=Object(s.default)((function(){return Promise.all([n.e("antd-vendor"),n.e("vendor"),n.e(6)]).then(n.bind(null,"NAHi"))})),yo=[{menuname:"总览",path:"/open/home",menuicon:"zonglan"},{menuname:"产品",path:"/open/product",menuicon:"chanpin",childmenus:[{menuname:"产品管理",path:"/open/product/proManage"},{menuname:"设备注册",path:"/open/product/devRegist"},{menuname:"固件升级",path:"/open/product/otaUpdate"},{menuname:"规则引擎",path:"/open/product/ruleEngine"},{menuname:"云端定时",path:"/open/product/cloudTimer"},{menuname:"远程配置",path:"/open/product/remoteCofg"}]},{menuname:"设备",path:"/open/device",menuicon:"shebei",childmenus:[{menuname:"设备管理",path:"/open/device/devManage"},{menuname:"设备秘钥",path:"/open/device/devSecret"},{menuname:"设备分组",path:"/open/device/devGroup"},{menuname:"设备消息",path:"/open/device/devMsg"}]},{menuname:"APP",path:"/open/app",menuicon:"app",childmenus:[{menuname:"APP开发",path:"/open/app"}]},{menuname:"数据服务",path:"/open/serve",menuicon:"shujufw",childmenus:[{menuname:"设备分析",path:"/open/serve/device"},{menuname:"用户分析",path:"/open/serve/user"},{menuname:"数据订阅",path:"/open/serve/dataSub"}]},{menuname:"开发Studio",path:"/open/studio",menuicon:"studio",childmenus:[{menuname:"项目管理",path:"/open/studio/project"},{menuname:"服务开发",path:"/open/studio/serve"}]},{menuname:"用户中心",path:"/userCenter",menuicon:"yonghuzx",childmenus:[{menuname:"基本资料",path:"/userCenter/baseInfo"},{menuname:"安全设置",path:"/userCenter/security"},{menuname:"访问用户",path:"/userCenter/visitUser"},{menuname:"用户角色",path:"/userCenter/role"},{menuname:"操作日志",path:"/userCenter/log"}]}],mo=[{path:"/open",component:J},{path:"/account",component:lo},{path:"/logicDevelop/:projectId/:serviceId",component:no},{path:"/userCenter",component:fo},{path:"/messageCenter",component:so},{path:"/dataAnalysis/:projectId/:serviceId",component:po},{redirect:"/account"}],go=[{menuname:"总览",childmenus:[],items:[]},{menuname:"产品",childmenus:[{menuname:"产品管理",childmenus:[],items:["基本信息","功能定义","控制面板","硬件开发","服务配置","调试验证"]},{menuname:"设备注册",childmenus:[],items:[]},{menuname:"固件升级",childmenus:[],items:[]},{menuname:"规则引擎",childmenus:[],items:[]},{menuname:"云端定时",childmenus:[],items:[]},{menuname:"远程配置",childmenus:[],items:[]}],items:[]},{menuname:"设备",childmenus:[{menuname:"设备管理",childmenus:[],items:["基本信息","设备影子","设备标签","远程配置"]},{menuname:"设备秘钥",childmenus:[],items:[]},{menuname:"设备分组",childmenus:[],items:[]},{menuname:"设备消息",childmenus:[],items:[]}],items:[]},{menuname:"数据服务",childmenus:[{menuname:"设备分析",childmenus:[],items:[]},{menuname:"用户分析",childmenus:[],items:[]},{menuname:"数据订阅",childmenus:[],items:[]}],items:[]},{menuname:"开发Studio",childmenus:[{menuname:"项目管理",childmenus:[],items:[]},{menuname:"服务开发",childmenus:[],items:[]}],items:[]},{menuname:"用户中心",childmenus:[{menuname:"基本资料",childmenus:[],items:[]},{menuname:"安全设置",childmenus:[],items:[]},{menuname:"访问用户",childmenus:[],items:[]},{menuname:"用户角色",childmenus:[],items:[]},{menuname:"操作日志",childmenus:[],items:[]}],items:[]}];function vo(e){var t=e.component,n=e.redirect,r=e.path,o=e.isOk,a=void 0!==o&&o,i=co(e,ro);return c.a.createElement(l.Route,{path:r,render:function(e){return a?c.a.createElement(t,uo({},e,i)):c.a.createElement(l.Redirect,{to:n})}})}function bo(e){var t=e.path,n=e.component,r=e.redirect;return n?c.a.createElement(l.Route,{path:t,render:function(e){return c.a.createElement(n,e)}}):c.a.createElement(l.Redirect,{to:r})}function ho(e){var t=yo;var n=function e(n){console.log(222,n);var r=n.map((function(n){var r=n.menuname,o=n.childmenus,a=void 0===o?[]:o,u=n.items,c=void 0===u?[]:u;console.log(555,i.a);var l=i()(t,["menuname",r]);return a.length>0&&(t=l.childmenus,l.childmenus=e(a)),ao(ao({},l),{},{items:c})}));return t=yo,r}(e);return{navMenu:n,userMenu:o()(n,(function(e){return"用户中心"==e.menuname}))}}},wx14:function(e,t,n){e.exports=n("WUjv")(1)},yLpj:function(e,t,n){e.exports=n("WUjv")(36)},zLVn:function(e,t,n){e.exports=n("WUjv")(8)}},[["tjUo","runtime","common","antd-vendor","vendor"]]]);
(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"+Acz":function(e,t,a){},"//sd":function(e,t,a){e.exports=a.p+"static/images/product-add-service.acdddf1b0ac1c5c8a2a330694678105d.png"},"/DsP":function(e,t,a){},"1Ngb":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAQCAYAAABk1z2tAAACPUlEQVRIS82VT2jTYBiH3/dLUoWtFWQoCLvpabCLPXgYQpqWgraLgnzQPw48efK+3Qq7yDztuOO2roiHtUE2GdnIQUZl21kUFGVYNlemuFnN0jafdCyrDU2TeLG55vckD1/y/l6EPr9Q0zS+Wq0SSqnhx/WFpg3WazUhk0h898MVXmpDPJgXaFKqeOGwoLwaJSTANwxyEGhW9yilTS/gYmn9KSALcQgbJ0F+5ZEo6l64pZK6CwBXGeJsEC5Oy/LYcS8Ol4prN62AyVhjIMR/uS9J3xCR9QIXFXXu/D7CEYe4nEpIb9y4fEltPxdxnwBMpsalBSeuQ9B6IcfIL2PA3J2Ix2tOkh2CZyEE/Gxi8/nEePyTE9ch2Oa2gMMnmaS0Zee6ClohAoHDG8PBSjgcrtvBboLnHLKyoGOR0tgPO9dNsJU5PUEG84LATdG74r7F9RRshQghJscbe2+3tw9yuZxpgb0ET1/I4MQEWBm+xG+IotiwOCfB9u+CxwTYNH/92iwdGTFcBS1QIMJPKkfeexX86+Q+PJRjzzwLtk1fZ+9Fb3sWxCbU0g/i7/wKIuDHrByd8SuICJsZOTbmKtjXn/jfh4SUBd30PSQMYCHAc5OuQ9K3NdMqak6oV1KJxKFb4dqLGkxSzMqRshtnL2pEnEonI/OORV1Q1kcJQd+rLq+oMwxg0PeqU9QKMBjyvOrmdnaE1oQ97lLGvVZdfnU1BHAZsnduHXnZwVZmeW3ziq7/xrQc/eqFQy+h/5n5A/v0OCDUiLvVAAAAAElFTkSuQmCC"},"2mql":function(e,t,a){e.exports=a("WUjv")(21)},"6+Ct":function(e,t,a){e.exports=a.p+"static/images/product-add-firmware.9f308c25fc930cd8914ab22382e1a6c0.png"},"8bdq":function(e,t,a){},C8h6:function(e,t,a){},DDpu:function(e,t,a){e.exports=a.p+"static/images/product-add-publish.806241691aac25a1453b9f7d6e9bbd96.png"},EVkz:function(e,t,a){},"JzY+":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAv0lEQVQ4T+XUSwrCMBAG4H/0QFLpXdy4FzxBpfvSA/QKRY8iuFAP1IxMIVBqJjPZarYZvsyL0K5hRua8eyK5tuIiQVbgH4CxRK2t+4YPARgZ2KZivnqYAy1MHnCDKYyAaZ2pC9Qw2uAYAq7L0k0whz07uq3XLgtaWGrhVbBqueYJ92WPpGdSpmSmbYEKMjNVLQYOOM/Tc2DmlCOKgJOWWVEP5cUZvaB+9fRIlVkM5n6ioqFYULw3M/RC7in/PvgBL+qur9K0TXkAAAAASUVORK5CYII="},MgzW:function(e,t,a){e.exports=a("WUjv")(35)},OXFO:function(e,t,a){},ObTA:function(e,t,a){e.exports=a.p+"static/images/product-add-protocol.d898a323185a2dec22d8e413d20c3d92.png"},PvDj:function(e,t,a){},S8ev:function(e,t,a){},ShEY:function(e,t,a){},T8Ho:function(e,t,a){},WfFX:function(e,t,a){},Z6NE:function(e,t,a){},Z8n2:function(e,t,a){"use strict";a.r(t);a("pNMO"),a("4Brf"),a("07d7"),a("0oug"),a("4mDm"),a("PKPk"),a("3bBZ"),a("+2oP"),a("sMBO"),a("pjDv"),a("zKZe"),a("L/Qf");var n=a("2/Rp"),r=(a("RKNx"),a("L41K")),l=(a("rB9j"),a("Rm1S"),a("EnZy"),a("2B1R"),a("q1tI")),c=a.n(l),i=a("55Ip"),o=a("/MKj"),u=a("dL2e"),s=a("8QW8"),m=a("BkRI"),p=a.n(m),d=(a("TeQF"),a("TWNs"),a("JfAA"),a("UxlC"),a("ma9I"),a("WfFX"),a("ObTA")),f=a.n(d),y=a("6+Ct"),b=a.n(y),E=a("//sd"),g=a.n(E),v=a("DDpu"),h=a.n(v),O=a("bWgW");a.n(O).a,f.a,b.a,g.a,h.a;a("aTcW"),a("FZtP"),a("tkto"),a("5DmW"),a("27RR");var w=a("FC04"),I=(a("wd/R"),a("+Acz"),a("5s+n"),a("K4yd"),a("9yH6")),S=(a("Y2jk"),a("zeV3")),j=(a("8QGh"),a("2fM7")),N=(a("1vPl"),a("5rEg")),A=(a("tULf"),a("Vl3Y")),C=(a("Re5i"),a("/wGt")),x=(a("AUBz"),a("ZTPi")),k=(a("ls82"),a("wlus")),P=a("xvlK"),T=a("Nlzp"),F=(a("OXFO"),["key","name","fieldKey"]),M=["key","name","fieldKey"];function R(){return(R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function D(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function V(e,t,a,n,r,l,c){try{var i=e[l](c),o=i.value}catch(e){return void a(e)}i.done?t(o):Promise.resolve(o).then(n,r)}function L(e){return function(){var t=this,a=arguments;return new Promise((function(n,r){var l=e.apply(t,a);function c(e){V(l,n,r,c,i,"next",e)}function i(e){V(l,n,r,c,i,"throw",e)}c(void 0)}))}}function B(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,l=[],c=!0,i=!1;try{for(a=a.call(e);!(c=(n=a.next()).done)&&(l.push(n.value),!t||l.length!==t);c=!0);}catch(e){i=!0,r=e}finally{try{c||null==a.return||a.return()}finally{if(i)throw r}}return l}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return K(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return K(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var U=[{value:"bool",label:"布尔型"},{value:"enum",label:"枚举型"},{value:"text",label:"字符型"},{value:"double",label:"数值型"}];var q=[{label:"故障",value:"fault"},{label:"告警",value:"alarm"},{label:"信息",value:"info"}];function z(e){var t=e.rightVisible,a=e.onCloseRight,r=e.onRefreshList,i=e.modelType,o=e.actionData,u=JSON.parse(JSON.stringify(o));console.log(o,"原数据");var s=x.a.TabPane;Object(l.useEffect)((function(){}),[]);var m=o.funcType,p=Object(l.useRef)(),d=Object(l.useRef)(),f=Object(l.useRef)(),y=function(e){e.funcType=m,e.type="update";var t=JSON.parse(sessionStorage.getItem("productItem"));e.productId=t.productId,e.content.standard=1==i,console.log(e,"要提交的数据"),e.content=JSON.stringify(e.content),Object(T.c)(T.a.PhysicalModelAction,e).then((function(e){r()}))};return c.a.createElement(C.a,{title:"1"===i?"编辑标准功能":"编辑自定义功能",placement:"right",closable:!1,onClose:a,visible:t,destroyOnClose:!0,width:393,footer:c.a.createElement("div",{style:{textAlign:"right"}},c.a.createElement(n.a,{onClick:a,style:{marginRight:8}},"取消"),c.a.createElement(n.a,{onClick:function(){"properties"===m?p.current.onFinish():"events"===m?d.current.onFinish():"services"===m&&f.current.onFinish()},type:"primary"},"确定"))},c.a.createElement("div",{className:"edit-left-protocol-wrap"}," ",c.a.createElement(x.a,{activeKey:m,defaultActiveKey:o.funcType,renderTabBar:function(e,t){return c.a.createElement("div",null)}},c.a.createElement(s,{tab:"Tab 1",key:"properties"},c.a.createElement(Q,{ref:p,currentTab:m,sentReq:y,actionData:u})),c.a.createElement(s,{tab:"Tab 2",key:"events"},c.a.createElement(G,{ref:d,sentReq:y,key:"events",actionData:u})),c.a.createElement(s,{tab:"Tab 3",key:"services"},c.a.createElement(X,{ref:f,sentReq:y,actionData:u})))))}function Q(e,t){e.currentTab;var a=e.sentReq,r=e.actionData,i=B(A.a.useForm(),1)[0],o=function(){var e=L(regeneratorRuntime.mark((function e(){var t,n,r,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.validateFields();case 3:t=e.sent,t=JSON.parse(JSON.stringify(t)),(n={}).content={},"bool"===t.type?n.content=t:"enum"===t.type?(r=t.emusList.filter((function(e){if(e.key&&e.value)return e})),l=r.reduce((function(e,t){return e[t.key.toString()]=t.value,e}),{}),t.specs=l,n.content=t):("text"===t.type||"double"===t.type)&&(n.content=t),n.content.dataType={type:n.content.type,specs:n.content.specs},delete n.content.type,delete n.content.specs,a(n),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log("Validate Failed:",e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}(),u=Object(l.useMemo)((function(){var e={};return e.name=r.funcName,e.identifier=r.funcIdentifier,e.type=r.dataTypeEN,r.funcParamList.forEach((function(t){if(e.dataTransferType=t.dataTransferType,"enum"===t.dataTypeEN){var a=[];for(var n in t.propertyMap)a.push({key:n,value:t.propertyMap[n]});e.emusList=a}else if("double"===t.dataTypeEN){var r={};["interval","min","max","multiple","unit"].forEach((function(e){r[e]=t.propertyMap[e]})),e.specs=r}else if("bool"===t.dataTypeEN){var l={1:t.propertyMap[1],0:t.propertyMap[0]};e.specs=l}})),console.log(e,999),e}),[]);return Object(l.useImperativeHandle)(t,(function(){return{onFinish:o}})),c.a.createElement(A.a,{labelCol:{span:8},wrapperCol:{span:16},form:i,initialValues:u},c.a.createElement(A.a.Item,{label:"功能点名称：",name:"name",rules:[{required:!0}]},c.a.createElement(N.a,null)),c.a.createElement(A.a.Item,{label:"标识符",name:"identifier",rules:[{required:!0}]},c.a.createElement(N.a,{readOnly:!0})),c.a.createElement(A.a.Item,{label:"数据类型：",name:"type"},c.a.createElement(j.a,{allowClear:!0,onChange:function(e){console.log(e)}},U.map((function(e){return c.a.createElement(j.a.Option,{key:e.value,value:e.value},e.label)})))),c.a.createElement(A.a.Item,{noStyle:!0,shouldUpdate:function(e,t){return e.type!==t.type}},(function(e){var t=e.getFieldValue;return"bool"===t("type")?c.a.createElement(c.a.Fragment,null,c.a.createElement(A.a.Item,{label:"布尔值",rules:[{required:!0}]},c.a.createElement(A.a.Item,{name:["specs","0"],label:"0"},c.a.createElement(N.a,{placeholder:"参数描述"})),c.a.createElement(A.a.Item,{name:["specs","1"],label:"1"},c.a.createElement(N.a,{placeholder:"参数描述"})))):"enum"===t("type")?c.a.createElement(c.a.Fragment,null,c.a.createElement(A.a.Item,{label:"枚举型:",name:"enumus_text",className:"enums-lise-nobottom"},c.a.createElement("span",{style:{marginRight:"50px"}},"参数值"),"-",c.a.createElement("span",{style:{marginLeft:"30px"}},"参数描述")),c.a.createElement("div",{className:"right-list-wrap"},c.a.createElement(A.a.List,{name:"emusList"},(function(e,t){var a=t.add,r=t.remove;return c.a.createElement(c.a.Fragment,null,e.map((function(e){var t=e.key,a=e.name,n=e.fieldKey,l=D(e,F);return c.a.createElement(S.b,{key:t,style:{display:"flex",marginBottom:8},align:"baseline"},c.a.createElement(A.a.Item,R({},l,{name:[a,"key"],fieldKey:[n,"key"],className:"enums-lise-nobottom",noStyle:!0}),c.a.createElement(N.a,null)),c.a.createElement("span",null,"-"),c.a.createElement(A.a.Item,R({},l,{name:[a,"value"],fieldKey:[n,"value"],className:"enums-lise-nobottom",noStyle:!0}),c.a.createElement(N.a,null)),c.a.createElement(k.a,{onClick:function(){return r(a)}}))})),c.a.createElement(A.a.Item,null,c.a.createElement(n.a,{type:"dashed",onClick:function(){return a()},block:!0,icon:c.a.createElement(P.a,null)},"新加")))})))):"double"===t("type")?c.a.createElement(c.a.Fragment,null,c.a.createElement(A.a.Item,{label:"数值范围"},c.a.createElement("div",{className:"number-input-wrap"},c.a.createElement(A.a.Item,{name:["specs","min"],noStyle:!0,rules:[{required:!0,message:"请输入最小值"}]},c.a.createElement(N.a,{style:{width:"40%"}})),c.a.createElement("span",{style:{margin:"0 10px"}},"至"),c.a.createElement(A.a.Item,{name:["specs","max"],noStyle:!0,rules:[{required:!0,message:"请输入最小值"}]},c.a.createElement(N.a,{style:{width:"40%"}})))),c.a.createElement(A.a.Item,{label:"数值间隔",name:["specs","interval"],rules:[{required:!0}]},c.a.createElement(N.a,null)),c.a.createElement(A.a.Item,{name:["specs","multiple"],label:"倍数"},c.a.createElement(j.a,{allowClear:!0},c.a.createElement(j.a.Option,{value:"10"},"10"),c.a.createElement(j.a.Option,{value:"100"},"100"),c.a.createElement(j.a.Option,{value:"1000"},"1000"))),c.a.createElement(A.a.Item,{name:["specs","unit"],label:"单位"},c.a.createElement(j.a,{allowClear:!0},c.a.createElement(j.a.Option,{value:"male"},"male"),c.a.createElement(j.a.Option,{value:"female"},"female"),c.a.createElement(j.a.Option,{value:"other"},"other")))):null})),c.a.createElement(A.a.Item,{label:"数据传输类型：",name:"dataTransferType"},c.a.createElement(I.a.Group,null,c.a.createElement(I.a,{value:"可下发可上报"},"可下发可上报"),c.a.createElement(I.a,{value:"可下发"},"可下发"),c.a.createElement(I.a,{value:"可上报"},"可上报"))))}Q=Object(l.forwardRef)(Q);var H=0,J=[];function G(e,t){var a=e.actionData,r=e.sentReq,i=B(A.a.useForm(),1)[0];Object(l.useImperativeHandle)(t,(function(){return{onFinish:b}}));var o=B(Object(l.useState)(0),2),u=o[0],s=o[1];function m(e){var t=JSON.parse(JSON.stringify(e));if(H++,t&&J.push(t),H===f.length&&J.length===H){var a=i.getFieldsValue(),n={};(a=JSON.parse(JSON.stringify(a))).outputData=J,n.content=a,r(n)}}var p=Object(l.useMemo)((function(){var e={input:[],output:[]};return a.funcParamList.forEach((function(t){var a={name:t.name,identifier:t.identifier,type:t.dataTypeEN};if("enum"===t.dataTypeEN){var n=[];for(var r in t.propertyMap)n.push({key:r,value:t.propertyMap[r]});a.emusList=n}else if("double"===t.dataTypeEN){var l={};["interval","min","max","multiple","unit"].forEach((function(e){l[e]=t.propertyMap[e]})),a.specs=l}else if("bool"===t.dataTypeEN){var c={1:t.propertyMap[1],0:t.propertyMap[0]};a.specs=c}e.output.push(a)})),e}),[]),d=B(Object(l.useState)(p.output),2),f=d[0],y=d[1],b=function(){var e=L(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:J=[],H=0,i.validateFields().then((function(e){s(u+1)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return c.a.createElement(c.a.Fragment,null,c.a.createElement(A.a,{name:"basic",labelCol:{span:8},wrapperCol:{span:16},form:i,initialValues:{name:a.funcName,identifier:a.funcIdentifier,type:a.eventType}},c.a.createElement(A.a.Item,{label:"功能点名称：",name:"name",rules:[{required:!0}]},c.a.createElement(N.a,null)),c.a.createElement(A.a.Item,{label:"标识符",name:"identifier",rules:[{required:!0}]},c.a.createElement(N.a,null)),c.a.createElement(A.a.Item,{label:"事件类型：",name:"type"},c.a.createElement(I.a.Group,{options:q})),c.a.createElement(A.a.Item,{label:"输出参数："},c.a.createElement(n.a,{type:"dashed",onClick:function(){y((function(e){var t=JSON.parse(JSON.stringify(e));return t.push({}),t}))},style:{width:"60%"},icon:c.a.createElement(P.a,null)},"添加参数"))),f.map((function(e,t){return c.a.createElement(_,{sentAddData:m,refIndex:t,isCheck:u,type:!0,key:"params"+t,data:e})})))}G=Object(l.forwardRef)(G);var Z=0,W=[],Y=[];function X(e,t){var a=e.sentReq,r=e.actionData,i=B(A.a.useForm(),1)[0],o=Object(l.useMemo)((function(){var e={input:[],output:[]};return r.funcParamList.forEach((function(t){var a={name:t.name,identifier:t.identifier,type:t.dataTypeEN};if("enum"===t.dataTypeEN){var n=[];for(var r in t.propertyMap)n.push({key:r,value:t.propertyMap[r]});a.emusList=n}else if("double"===t.dataTypeEN){var l={};["interval","min","max","multiple","unit"].forEach((function(e){l[e]=t.propertyMap[e]})),a.specs=l}else if("bool"===t.dataTypeEN){var c={1:t.propertyMap[1],0:t.propertyMap[0]};a.specs=c}"输出"===t.type?e.output.push(a):e.input.push(a)})),e}),[]),u=B(Object(l.useState)([]),2),s=u[0],m=u[1],p=B(Object(l.useState)(o.output),2),d=p[0],f=p[1],y=B(Object(l.useState)(0),2),b=y[0],E=y[1],g=function(e){e?m((function(e){var t=JSON.parse(JSON.stringify(e));return t.push({}),t})):f((function(e){var t=JSON.parse(JSON.stringify(e));return t.push({}),t}))},v=function(e,t){var n=JSON.parse(JSON.stringify(e));if(Z++,t&&n?W.push(n):n&&Y.push(n),Z===s.length+d.length&&W.length+Y.length===Z){var r=i.getFieldsValue(),l={};(r=JSON.parse(JSON.stringify(r))).outputData=Y,r.inputData=W,l.content=r,a(l)}},h=function(){var e=L(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Z=0,W=[],Y=[],i.validateFields().then((function(e){E(b+1)}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(l.useImperativeHandle)(t,(function(){return{onFinish:h}})),c.a.createElement(c.a.Fragment,null,c.a.createElement(A.a,{labelCol:{span:8},wrapperCol:{span:16},form:i,initialValues:{name:r.funcName,identifier:r.funcIdentifier}},c.a.createElement(A.a.Item,{label:"功能点名称：",name:"name",rules:[{required:!0}]},c.a.createElement(N.a,null)),c.a.createElement(A.a.Item,{label:"标识符",name:"identifier",rules:[{required:!0}]},c.a.createElement(N.a,null))),c.a.createElement(A.a,{labelCol:{span:8},wrapperCol:{span:16}},c.a.createElement(A.a.Item,{label:"输入参数："},c.a.createElement(n.a,{type:"dashed",onClick:function(){g(!0)},style:{width:"60%"},icon:c.a.createElement(P.a,null)},"添加参数"))),s.map((function(e,t){return c.a.createElement(_,{sentAddData:v,refIndex:t,isCheck:b,type:!0,key:"input"+t,data:e})})),c.a.createElement(A.a,{labelCol:{span:8},wrapperCol:{span:16}},c.a.createElement(A.a.Item,{label:"输出参数："},c.a.createElement(n.a,{type:"dashed",onClick:function(){g(!1)},style:{width:"60%"},icon:c.a.createElement(P.a,null)},"添加参数"))),d.map((function(e,t){return c.a.createElement(_,{sentAddData:v,refIndex:t,isCheck:b,type:!1,key:"outputt"+t,data:e})})))}function _(e,t){var a=e.sentAddData,r=e.type,i=e.data,o=e.isCheck,u=(e.refIndex,B(A.a.useForm(),1)[0]);Object(l.useEffect)((function(){o&&s()}),[o]);var s=function(){var e=L(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u.validateFields().then((function(e){var t={content:{}};if("bool"===(e=JSON.parse(JSON.stringify(e))).type)t.content=e;else if("enum"===e.type){var n=e.emusList.filter((function(e){if(e.key&&e.value)return e})).reduce((function(e,t){return e[t.key.toString()]=t.value,e}),{});e.specs=n,t.content=e}else("text"===e.type||"double"===e.type)&&(t.content=e);t.content.dataType={type:t.content.type,specs:t.content.specs},delete t.content.type,delete t.content.specs,a(t.content,r)})).catch((function(e){a(!1)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return c.a.createElement("div",{className:"add-tempele-wrap add-params-wrap"},c.a.createElement(A.a,{form:u,initialValues:i,labelCol:{span:8},wrapperCol:{span:16}},c.a.createElement(A.a.Item,{label:"参数名称：",name:"name",rules:[{required:!0}]},c.a.createElement(N.a,null)),c.a.createElement(A.a.Item,{label:"参数标识",name:"identifier",rules:[{required:!0}]},c.a.createElement(N.a,null)),c.a.createElement(A.a.Item,{label:"数据类型：",name:"type",rules:[{required:!0}]},c.a.createElement(j.a,{allowClear:!0},U.map((function(e){return c.a.createElement(j.a.Option,{key:e.value,value:e.value},e.label)})))),c.a.createElement(A.a.Item,{noStyle:!0,shouldUpdate:function(e,t){return e.type!==t.type}},(function(e){var t=e.getFieldValue;return"bool"===t("type")?c.a.createElement(c.a.Fragment,null,c.a.createElement(A.a.Item,{label:"布尔值",rules:[{required:!0}]},c.a.createElement(A.a.Item,{name:["specs","0"],label:"0"},c.a.createElement(N.a,{placeholder:"参数描述"})),c.a.createElement(A.a.Item,{name:["specs","1"],label:"1"},c.a.createElement(N.a,{placeholder:"参数描述"})))):"enum"===t("type")?c.a.createElement(c.a.Fragment,null,c.a.createElement(A.a.Item,{label:"枚举型:",name:"enumus_text",className:"enums-lise-nobottom"},c.a.createElement("span",{style:{marginRight:"50px"}},"参数值"),"-",c.a.createElement("span",{style:{marginLeft:"30px"}},"参数描述")),c.a.createElement("div",{className:"right-list-wrap"},c.a.createElement(A.a.List,{name:"emusList"},(function(e,t){var a=t.add,r=t.remove;return c.a.createElement(c.a.Fragment,null,e.map((function(e){var t=e.key,a=e.name,n=e.fieldKey,l=D(e,M);return c.a.createElement(S.b,{key:t,style:{display:"flex",marginBottom:8},align:"baseline"},c.a.createElement(A.a.Item,R({},l,{name:[a,"key"],fieldKey:[n,"key"],className:"enums-lise-nobottom",noStyle:!0}),c.a.createElement(N.a,null)),c.a.createElement("span",null,"-"),c.a.createElement(A.a.Item,R({},l,{name:[a,"value"],fieldKey:[n,"value"],className:"enums-lise-nobottom",noStyle:!0}),c.a.createElement(N.a,null)),c.a.createElement(k.a,{onClick:function(){return r(a)}}))})),c.a.createElement(A.a.Item,null,c.a.createElement(n.a,{type:"dashed",onClick:function(){return a()},block:!0,icon:c.a.createElement(P.a,null)},"新加")))})))):"double"===t("type")?c.a.createElement(c.a.Fragment,null,c.a.createElement(A.a.Item,{label:"数值范围"},c.a.createElement("div",{className:"number-input-wrap"},c.a.createElement(A.a.Item,{name:["specs","min"],noStyle:!0,rules:[{required:!0,message:"请输入最小值"}]},c.a.createElement(N.a,{style:{width:"40%"}})),c.a.createElement("span",{style:{margin:"0 10px"}},"至"),c.a.createElement(A.a.Item,{name:["specs","max"],noStyle:!0,rules:[{required:!0,message:"请输入最大值"}]},c.a.createElement(N.a,{style:{width:"40%"}})))),c.a.createElement(A.a.Item,{label:"数值间隔",name:["specs","interval"],rules:[{required:!0}]},c.a.createElement(N.a,null)),c.a.createElement(A.a.Item,{name:["specs","multiple"],label:"倍数"},c.a.createElement(j.a,{allowClear:!0},c.a.createElement(j.a.Option,{value:"10"},"10"),c.a.createElement(j.a.Option,{value:"100"},"100"),c.a.createElement(j.a.Option,{value:"1000"},"1000"))),c.a.createElement(A.a.Item,{name:["specs","unit"],label:"单位"},c.a.createElement(j.a,{allowClear:!0},c.a.createElement(j.a.Option,{value:"male"},"male"),c.a.createElement(j.a.Option,{value:"female"},"female"),c.a.createElement(j.a.Option,{value:"other"},"other")))):null}))))}X=Object(l.forwardRef)(X);a("k3Gp");var $=a("kLXV"),ee=(a("PvDj"),a("mbEz"),a("wCAj")),te=(a("MKzF"),a("kaz8")),ae=a("7EV8");function ne(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,l=[],c=!0,i=!1;try{for(a=a.call(e);!(c=(n=a.next()).done)&&(l.push(n.value),!t||l.length!==t);c=!0);}catch(e){i=!0,r=e}finally{try{c||null==a.return||a.return()}finally{if(i)throw r}}return l}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return re(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return re(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function re(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function le(e){var t=e.dataSource,a=e.refreshCount,n=Object(i.useHistory)(),r=ne(Object(l.useState)([]),2),o=r[0],u=r[1];Object(l.useMemo)((function(){return n.location.pathname.split("/").slice(-2,-1)[0]}),[]);Object(l.useEffect)((function(){a(o)}),[o.length]);var s=[{title:"勾选",width:"50px",render:function(e,a,n){var r=Object(ae.a)(t,"funcIdentifier",n,a.funcIdentifier,"funcIdentifier");return r.children=c.a.createElement(te.a,{onChange:function(e){!function(e,t){var a=e.target.checked;u((function(e){var n={id:t.id,funcType:t.funcType,identifier:t.funcIdentifier,productId:11759},r=JSON.parse(JSON.stringify(e));return a?r.push(n):r=r.filter((function(e){if(e.identifier!==t.funcIdentifier)return e})),r}))}(e,a)}}),r}},{title:"功能类型",dataIndex:"funcTypeCN",render:function(e,a,n){return Object(ae.a)(t,"funcIdentifier",n,e,"funcTypeCN")}},{title:"功能点名称",dataIndex:"funcName",render:function(e,a,n){return Object(ae.a)(t,"funcIdentifier",n,e,"funcName")}},{title:"标识符",dataIndex:"funcIdentifier",render:function(e,a,n){return Object(ae.a)(t,"funcIdentifier",n,e,"funcIdentifier")}},{title:"参数名称",dataIndex:"name"},{title:"参数标识",dataIndex:"identifier"},{title:"数据传输类型",dataIndex:"dataTransferType"},{title:"数据类型",dataIndex:"dataType",render:function(e,t){return c.a.createElement("span",null,t.dataTypCN)}},{title:"数据属性",dataIndex:"propertyMap",render:function(e,t){return c.a.createElement("span",null,function(e){var t=null;switch(e.dataTypeEN){case"double":t="数值范围：".concat(e.propertyMap.min,"-").concat(e.propertyMap.max,",间距：").concat(e.propertyMap.interval,",倍数：").concat(e.propertyMap.multiple,",单位：").concat(e.propertyMap.unit);break;case"bool":t="0：".concat(e.propertyMap[0],",1：").concat(e.propertyMap[1]);break;case"enum":var a="";for(var n in e.propertyMap)a+=e.propertyMap[n]+"，";t="枚举值：".concat(a);break;default:return""}return t}(t))}}];return c.a.createElement("div",null,c.a.createElement(ee.a,{rowKey:"key",columns:s,dataSource:t,pagination:!1,scroll:{y:440}}))}function ce(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,l=[],c=!0,i=!1;try{for(a=a.call(e);!(c=(n=a.next()).done)&&(l.push(n.value),!t||l.length!==t);c=!0);}catch(e){i=!0,r=e}finally{try{c||null==a.return||a.return()}finally{if(i)throw r}}return l}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ie(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return ie(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function oe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ue(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(a),!0).forEach((function(t){se(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):oe(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function se(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function me(e){var t=[];return e.forEach((function(e){e.funcParamList&&e.funcParamList.length&&e.funcParamList.forEach((function(a){var n=JSON.parse(JSON.stringify(e));t.push(ue(ue({},n),a))}))})),t.forEach((function(e,t){e.key=t})),t}function pe(e){var t=e.isModalVisible,a=e.closeAdd,n=e.CancelAdd,r=Object(i.useHistory)(),o=Object(l.useMemo)((function(){return r.location.pathname.split("/").slice(-2,-1)[0]}),[]),u=x.a.TabPane,s=N.a.Search,m=j.a.Option,p=ce(Object(l.useState)("1"),2),d=p[0],f=p[1],y=ce(Object(l.useState)([]),2),b=y[0],E=y[1],g=ce(Object(l.useState)([]),2),v=g[0],h=g[1],O=ce(Object(l.useState)([]),2),w=O[0],I=O[1];Object(l.useEffect)((function(){var e;e={deviceTypeId:2,productId:o,eq:!0},Object(T.c)(T.a.PhysicalModelList,e).then((function(e){E(me(e.data))})),function(){var e={deviceTypeId:2,productId:o,eq:!1};Object(T.c)(T.a.PhysicalModelList,e).then((function(e){h(me(e.data))}))}(),Object(T.c)(T.a.getThirdCategory).then((function(e){I(e.data)}))}),[]);var S=ce(Object(l.useState)(""),2),A=S[0],C=S[1],k=ce(Object(l.useState)([]),2),P=k[0],F=k[1],M=ce(Object(l.useState)([]),2),R=M[0],D=M[1];return c.a.createElement("div",null,c.a.createElement($.a,{title:"新增标准功能",visible:t,onOk:function(){"1"===d?Object(T.c)(T.a.addPhticalStard,P).then((function(e){a()})):Object(T.c)(T.a.addPhticalStard,R).then((function(e){a()}))},onCancel:n,width:"1200px",wrapClassName:"add-protocols-wrap"},c.a.createElement(x.a,{activeKey:d,onChange:function(e){f(e)}},c.a.createElement(u,{tab:"本品类",key:"1"},c.a.createElement("div",{className:"add-protocols-count"},"已选择".concat(P.length,"项")),c.a.createElement(le,{dataSource:b,refreshCount:function(e){F(e)}})),c.a.createElement(u,{tab:"其他品类",key:"2"},c.a.createElement("div",{className:"other-product-top"},c.a.createElement(s,{placeholder:"搜索功能点名称",allowClear:!0,onSearch:function(e){var t={deviceTypeId:A,eq:!1,productId:o,funcName:e};Object(T.c)(T.a.PhysicalModelList,t).then((function(e){h(me(e.data))}))},style:{width:465}}),c.a.createElement(j.a,{style:{width:142},onChange:function(e){C(e)}},w.map((function(e){return c.a.createElement(m,{value:e.deviceTypeId,key:e.deviceTypeId},e.deviceTypeName)})))),c.a.createElement("div",null,c.a.createElement(le,{dataSource:v,refreshCount:function(e){D(e)}}))))))}var de=["key","name","fieldKey"],fe=["key","name","fieldKey"];function ye(){return(ye=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function be(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function Ee(e,t,a,n,r,l,c){try{var i=e[l](c),o=i.value}catch(e){return void a(e)}i.done?t(o):Promise.resolve(o).then(n,r)}function ge(e){return function(){var t=this,a=arguments;return new Promise((function(n,r){var l=e.apply(t,a);function c(e){Ee(l,n,r,c,i,"next",e)}function i(e){Ee(l,n,r,c,i,"throw",e)}c(void 0)}))}}function ve(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,l=[],c=!0,i=!1;try{for(a=a.call(e);!(c=(n=a.next()).done)&&(l.push(n.value),!t||l.length!==t);c=!0);}catch(e){i=!0,r=e}finally{try{c||null==a.return||a.return()}finally{if(i)throw r}}return l}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return he(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return he(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function he(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var Oe=[{label:"属性",value:"properties"},{label:"事件",value:"events"},{label:"服务",value:"services"}],we=[{value:"bool",label:"布尔型"},{value:"enum",label:"枚举型"},{value:"text",label:"字符型"},{value:"double",label:"数值型"}],Ie=[{label:"故障",value:"fault"},{label:"告警",value:"alarm"},{label:"信息",value:"info"}];function Se(e){var t=e.rightVisible,a=e.onCloseRight,r=e.onRefreshList,i=x.a.TabPane;Object(l.useEffect)((function(){}),[]);var o=ve(Object(l.useState)("properties"),2),u=o[0],s=o[1],m=function(e){s(e.target.value)},p=Object(l.useRef)(),d=Object(l.useRef)(),f=Object(l.useRef)(),y=function(e){e.funcType=u,e.type="add";var t=JSON.parse(sessionStorage.getItem("productItem"));e.productId=t.productId,e.content.standard=!1,console.log(e,"要提交的数据"),e.content=JSON.stringify(e.content),Object(T.c)(T.a.PhysicalModelAction,e).then((function(e){r()}))};return c.a.createElement(C.a,{title:"新增自定义功能",placement:"right",closable:!1,onClose:a,visible:t,destroyOnClose:!0,width:393,footer:c.a.createElement("div",{style:{textAlign:"right"}},c.a.createElement(n.a,{onClick:a,style:{marginRight:8}},"取消"),c.a.createElement(n.a,{onClick:function(){"properties"===u?p.current.onFinish():"events"===u?d.current.onFinish():"services"===u&&f.current.onFinish()},type:"primary"},"确定"))},c.a.createElement("div",{className:"edit-left-protocol-wrap"}," ",c.a.createElement(x.a,{activeKey:u,defaultActiveKey:"properties",renderTabBar:function(e,t){var a=[];return e.panes.forEach((function(e){a.push({key:e.key,title:e.props.tab})})),c.a.createElement("div",{className:"addcus-tab"}," ",c.a.createElement(I.a.Group,{buttonStyle:"solid",optionType:"button",value:u,onChange:m,options:Oe}))}},c.a.createElement(i,{tab:"Tab 1",key:"properties"},c.a.createElement(je,{ref:p,currentTab:u,sentReq:y})),c.a.createElement(i,{tab:"Tab 2",key:"events"},c.a.createElement(Ce,{ref:d,sentReq:y,key:"events"})),c.a.createElement(i,{tab:"Tab 3",key:"services"},c.a.createElement(Te,{ref:f,sentReq:y})))))}function je(e,t){e.currentTab;var a=e.sentReq,r=ve(A.a.useForm(),1)[0],i=function(){var e=ge(regeneratorRuntime.mark((function e(){var t,n,l,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.validateFields();case 3:t=e.sent,t=JSON.parse(JSON.stringify(t)),(n={}).content={},"bool"===t.type?n.content=t:"enum"===t.type?(l=t.emusList.filter((function(e){if(e.key&&e.value)return e})),c=l.reduce((function(e,t){return e[t.key.toString()]=t.value,e}),{}),t.specs=c,n.content=t):("text"===t.type||"double"===t.type)&&(n.content=t),n.content.dataType={type:n.content.type,specs:n.content.specs},delete n.content.type,delete n.content.specs,a(n),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log("Validate Failed:",e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}();return Object(l.useImperativeHandle)(t,(function(){return{onFinish:i}})),c.a.createElement(A.a,{name:"numberT",labelCol:{span:8},wrapperCol:{span:16},form:r},c.a.createElement(A.a.Item,{label:"功能点名称：",name:"name",rules:[{required:!0}]},c.a.createElement(N.a,null)),c.a.createElement(A.a.Item,{label:"标识符",name:"identifier",rules:[{required:!0}]},c.a.createElement(N.a,null)),c.a.createElement(A.a.Item,{label:"数据类型：",name:"type"},c.a.createElement(j.a,{allowClear:!0,onChange:function(e){console.log(e)}},we.map((function(e){return c.a.createElement(j.a.Option,{key:e.value,value:e.value},e.label)})))),c.a.createElement(A.a.Item,{noStyle:!0,shouldUpdate:function(e,t){return e.type!==t.type}},(function(e){var t=e.getFieldValue;return"bool"===t("type")?c.a.createElement(c.a.Fragment,null,c.a.createElement(A.a.Item,{label:"布尔值",rules:[{required:!0}]},c.a.createElement(A.a.Item,{name:["specs","0"],label:"0"},c.a.createElement(N.a,{placeholder:"参数描述"})),c.a.createElement(A.a.Item,{name:["specs","1"],label:"1"},c.a.createElement(N.a,{placeholder:"参数描述"})))):"enum"===t("type")?c.a.createElement(c.a.Fragment,null,c.a.createElement(A.a.Item,{label:"枚举型:",name:"enumus_text",className:"enums-lise-nobottom"},c.a.createElement("span",{style:{marginRight:"50px"}},"参数值"),"-",c.a.createElement("span",{style:{marginLeft:"30px"}},"参数描述")),c.a.createElement("div",{className:"right-list-wrap"},c.a.createElement(A.a.List,{name:"emusList"},(function(e,t){var a=t.add,r=t.remove;return c.a.createElement(c.a.Fragment,null,e.map((function(e){var t=e.key,a=e.name,n=e.fieldKey,l=be(e,de);return c.a.createElement(S.b,{key:t,style:{display:"flex",marginBottom:8},align:"baseline"},c.a.createElement(A.a.Item,ye({},l,{name:[a,"key"],fieldKey:[n,"key"],className:"enums-lise-nobottom",noStyle:!0}),c.a.createElement(N.a,null)),c.a.createElement("span",null,"-"),c.a.createElement(A.a.Item,ye({},l,{name:[a,"value"],fieldKey:[n,"value"],className:"enums-lise-nobottom",noStyle:!0}),c.a.createElement(N.a,null)),c.a.createElement(k.a,{onClick:function(){return r(a)}}))})),c.a.createElement(A.a.Item,null,c.a.createElement(n.a,{type:"dashed",onClick:function(){return a()},block:!0,icon:c.a.createElement(P.a,null)},"新加")))})))):"double"===t("type")?c.a.createElement(c.a.Fragment,null,c.a.createElement(A.a.Item,{label:"数值范围"},c.a.createElement("div",{className:"number-input-wrap"},c.a.createElement(A.a.Item,{name:["specs","min"],noStyle:!0,rules:[{required:!0,message:"请输入最小值"}]},c.a.createElement(N.a,{style:{width:"40%"}})),c.a.createElement("span",{style:{margin:"0 10px"}},"至"),c.a.createElement(A.a.Item,{name:["specs","max"],noStyle:!0,rules:[{required:!0,message:"请输入最小值"}]},c.a.createElement(N.a,{style:{width:"40%"}})))),c.a.createElement(A.a.Item,{label:"数值间隔",name:["specs","interval"],rules:[{required:!0}]},c.a.createElement(N.a,null)),c.a.createElement(A.a.Item,{name:["specs","multiple"],label:"倍数"},c.a.createElement(j.a,{allowClear:!0},c.a.createElement(j.a.Option,{value:"10"},"10"),c.a.createElement(j.a.Option,{value:"100"},"100"),c.a.createElement(j.a.Option,{value:"1000"},"1000"))),c.a.createElement(A.a.Item,{name:["specs","unit"],label:"单位"},c.a.createElement(j.a,{allowClear:!0},c.a.createElement(j.a.Option,{value:"male"},"male"),c.a.createElement(j.a.Option,{value:"female"},"female"),c.a.createElement(j.a.Option,{value:"other"},"other")))):null})),c.a.createElement(A.a.Item,{label:"数据传输类型：",name:"dataTransferType"},c.a.createElement(I.a.Group,null,c.a.createElement(I.a,{value:"可下发可上报"},"可下发可上报"),c.a.createElement(I.a,{value:"可下发"},"可下发"),c.a.createElement(I.a,{value:"可上报"},"可上报"))))}je=Object(l.forwardRef)(je);var Ne=0,Ae=[];function Ce(e,t){e.currentTab;var a=e.sentReq,r=ve(A.a.useForm(),1)[0];Object(l.useImperativeHandle)(t,(function(){return{onFinish:f}}));var i=ve(Object(l.useState)(0),2),o=i[0],u=i[1];function s(e){var t=JSON.parse(JSON.stringify(e));if(Ne++,t&&Ae.push(t),Ne===p.length&&Ae.length===Ne){var n=r.getFieldsValue(),l={};(n=JSON.parse(JSON.stringify(n))).outputData=Ae,l.content=n,a(l)}}var m=ve(Object(l.useState)([]),2),p=m[0],d=m[1],f=function(){var e=ge(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ae=[],Ne=0,r.validateFields().then((function(e){u(o+1)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return c.a.createElement(c.a.Fragment,null,c.a.createElement(A.a,{name:"basic",labelCol:{span:8},wrapperCol:{span:16},form:r},c.a.createElement(A.a.Item,{label:"功能点名称：",name:"name",rules:[{required:!0}]},c.a.createElement(N.a,null)),c.a.createElement(A.a.Item,{label:"标识符",name:"identifier",rules:[{required:!0}]},c.a.createElement(N.a,null)),c.a.createElement(A.a.Item,{label:"事件类型：",name:"type"},c.a.createElement(I.a.Group,{options:Ie})),c.a.createElement(A.a.Item,{label:"输出参数："},c.a.createElement(n.a,{type:"dashed",onClick:function(){d((function(e){var t=JSON.parse(JSON.stringify(e));return t.push({}),t}))},style:{width:"60%"},icon:c.a.createElement(P.a,null)},"添加参数"))),p.map((function(e,t){return c.a.createElement(Fe,{sentAddData:s,refIndex:t,isCheck:o,type:!0,key:"params"+t,data:e})})))}Ce=Object(l.forwardRef)(Ce);var xe=0,ke=[],Pe=[];function Te(e,t){var a=e.sentReq,r=ve(A.a.useForm(),1)[0],i=ve(Object(l.useState)([]),2),o=i[0],u=i[1],s=ve(Object(l.useState)([]),2),m=s[0],p=s[1],d=ve(Object(l.useState)(0),2),f=d[0],y=d[1],b=function(e){e?u((function(e){var t=JSON.parse(JSON.stringify(e));return t.push({}),t})):p((function(e){var t=JSON.parse(JSON.stringify(e));return t.push({}),t}))},E=function(e,t){var n=JSON.parse(JSON.stringify(e));if(xe++,t&&n?ke.push(n):n&&Pe.push(n),xe===o.length+m.length&&ke.length+Pe.length===xe){var l=r.getFieldsValue(),c={};(l=JSON.parse(JSON.stringify(l))).outputData=Pe,l.inputData=ke,c.content=l,a(c)}},g=function(){var e=ge(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:xe=0,ke=[],Pe=[],r.validateFields().then((function(e){y(f+1)}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(l.useImperativeHandle)(t,(function(){return{onFinish:g}})),c.a.createElement(c.a.Fragment,null,c.a.createElement(A.a,{labelCol:{span:8},wrapperCol:{span:16},form:r},c.a.createElement(A.a.Item,{label:"功能点名称：",name:"name",rules:[{required:!0}]},c.a.createElement(N.a,null)),c.a.createElement(A.a.Item,{label:"标识符",name:"identifier",rules:[{required:!0}]},c.a.createElement(N.a,null))),c.a.createElement(A.a,{labelCol:{span:8},wrapperCol:{span:16}},c.a.createElement(A.a.Item,{label:"输入参数："},c.a.createElement(n.a,{type:"dashed",onClick:function(){b(!0)},style:{width:"60%"},icon:c.a.createElement(P.a,null)},"添加参数"))),o.map((function(e,t){return c.a.createElement(Fe,{sentAddData:E,refIndex:t,isCheck:f,type:!0,key:"input"+t,data:e})})),c.a.createElement(A.a,{labelCol:{span:8},wrapperCol:{span:16}},c.a.createElement(A.a.Item,{label:"输出参数："},c.a.createElement(n.a,{type:"dashed",onClick:function(){b(!1)},style:{width:"60%"},icon:c.a.createElement(P.a,null)},"添加参数"))),m.map((function(e,t){return c.a.createElement(Fe,{sentAddData:E,refIndex:t,isCheck:f,type:!1,key:"outputt"+t,data:e})})))}function Fe(e,t){var a=e.sentAddData,r=e.type,i=(e.data,e.isCheck),o=(e.refIndex,ve(A.a.useForm(),1)[0]);Object(l.useEffect)((function(){i&&u()}),[i]);var u=function(){var e=ge(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o.validateFields().then((function(e){var t={content:{}};if("bool"===(e=JSON.parse(JSON.stringify(e))).type)t.content=e;else if("enum"===e.type){var n=e.emusList.filter((function(e){if(e.key&&e.value)return e})).reduce((function(e,t){return e[t.key.toString()]=t.value,e}),{});e.specs=n,t.content=e}else("text"===e.type||"double"===e.type)&&(t.content=e);t.content.dataType={type:t.content.type,specs:t.content.specs},delete t.content.type,delete t.content.specs,a(t.content,r)})).catch((function(e){a(!1)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return c.a.createElement("div",{className:"add-tempele-wrap add-params-wrap"},c.a.createElement(A.a,{form:o,labelCol:{span:8},wrapperCol:{span:16}},c.a.createElement(A.a.Item,{label:"参数名称：",name:"name",rules:[{required:!0}]},c.a.createElement(N.a,null)),c.a.createElement(A.a.Item,{label:"参数标识",name:"identifier",rules:[{required:!0}]},c.a.createElement(N.a,null)),c.a.createElement(A.a.Item,{label:"数据类型：",name:"type",rules:[{required:!0}]},c.a.createElement(j.a,{allowClear:!0},we.map((function(e){return c.a.createElement(j.a.Option,{key:e.value,value:e.value},e.label)})))),c.a.createElement(A.a.Item,{noStyle:!0,shouldUpdate:function(e,t){return e.type!==t.type}},(function(e){var t=e.getFieldValue;return"bool"===t("type")?c.a.createElement(c.a.Fragment,null,c.a.createElement(A.a.Item,{label:"布尔值",rules:[{required:!0}]},c.a.createElement(A.a.Item,{name:["specs","0"],label:"0"},c.a.createElement(N.a,{placeholder:"参数描述"})),c.a.createElement(A.a.Item,{name:["specs","1"],label:"1"},c.a.createElement(N.a,{placeholder:"参数描述"})))):"enum"===t("type")?c.a.createElement(c.a.Fragment,null,c.a.createElement(A.a.Item,{label:"枚举型:",name:"enumus_text",className:"enums-lise-nobottom"},c.a.createElement("span",{style:{marginRight:"50px"}},"参数值"),"-",c.a.createElement("span",{style:{marginLeft:"30px"}},"参数描述")),c.a.createElement("div",{className:"right-list-wrap"},c.a.createElement(A.a.List,{name:"emusList"},(function(e,t){var a=t.add,r=t.remove;return c.a.createElement(c.a.Fragment,null,e.map((function(e){var t=e.key,a=e.name,n=e.fieldKey,l=be(e,fe);return c.a.createElement(S.b,{key:t,style:{display:"flex",marginBottom:8},align:"baseline"},c.a.createElement(A.a.Item,ye({},l,{name:[a,"key"],fieldKey:[n,"key"],className:"enums-lise-nobottom",noStyle:!0}),c.a.createElement(N.a,null)),c.a.createElement("span",null,"-"),c.a.createElement(A.a.Item,ye({},l,{name:[a,"value"],fieldKey:[n,"value"],className:"enums-lise-nobottom",noStyle:!0}),c.a.createElement(N.a,null)),c.a.createElement(k.a,{onClick:function(){return r(a)}}))})),c.a.createElement(A.a.Item,null,c.a.createElement(n.a,{type:"dashed",onClick:function(){return a()},block:!0,icon:c.a.createElement(P.a,null)},"新加")))})))):"double"===t("type")?c.a.createElement(c.a.Fragment,null,c.a.createElement(A.a.Item,{label:"数值范围"},c.a.createElement("div",{className:"number-input-wrap"},c.a.createElement(A.a.Item,{name:["specs","min"],noStyle:!0,rules:[{required:!0,message:"请输入最小值"}]},c.a.createElement(N.a,{style:{width:"40%"}})),c.a.createElement("span",{style:{margin:"0 10px"}},"至"),c.a.createElement(A.a.Item,{name:["specs","max"],noStyle:!0,rules:[{required:!0,message:"请输入最大值"}]},c.a.createElement(N.a,{style:{width:"40%"}})))),c.a.createElement(A.a.Item,{label:"数值间隔",name:["specs","interval"],rules:[{required:!0}]},c.a.createElement(N.a,null)),c.a.createElement(A.a.Item,{name:["specs","multiple"],label:"倍数"},c.a.createElement(j.a,{allowClear:!0},c.a.createElement(j.a.Option,{value:"10"},"10"),c.a.createElement(j.a.Option,{value:"100"},"100"),c.a.createElement(j.a.Option,{value:"1000"},"1000"))),c.a.createElement(A.a.Item,{name:["specs","unit"],label:"单位"},c.a.createElement(j.a,{allowClear:!0},c.a.createElement(j.a.Option,{value:"male"},"male"),c.a.createElement(j.a.Option,{value:"female"},"female"),c.a.createElement(j.a.Option,{value:"other"},"other")))):null}))))}Te=Object(l.forwardRef)(Te);var Me=a("JzY+"),Re=a.n(Me),De=a("P2RN"),Ve=c.a.createContext(0);function Le(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,l=[],c=!0,i=!1;try{for(a=a.call(e);!(c=(n=a.next()).done)&&(l.push(n.value),!t||l.length!==t);c=!0);}catch(e){i=!0,r=e}finally{try{c||null==a.return||a.return()}finally{if(i)throw r}}return l}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Be(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Be(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Be(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function Ke(e){var t=e.dataSource,a=e.reFreshData,r=e.type,i=Le(Object(l.useState)({pageIndex:1,totalRows:0,pageRows:10}),2),o=i[0],u=i[1],s=Le(Object(l.useState)(!1),2),m=s[0],p=s[1],d=Le(Object(l.useState)({}),2),f=d[0],y=d[1],b=Le(Object(l.useState)(!1),2),E=b[0],g=b[1],v=function(){var e=(o.pageIndex-1)*o.pageRows;return t.slice(e,e+10)},h=[{title:"DP ID",dataIndex:"key",render:function(e,t,a){return Object(ae.a)(v(),"funcType",a,e,"funcIdentifier")}},{title:"功能类型",dataIndex:"funcTypeCN",render:function(e,t,a){return Object(ae.a)(v(),"funcIdentifier",a,e,"funcTypeCN")}},{title:"功能点名称",dataIndex:"funcName",render:function(e,t,a){return Object(ae.a)(v(),"funcIdentifier",a,e,"funcName")}},{title:"标识符",dataIndex:"funcIdentifier",render:function(e,t,a){return Object(ae.a)(v(),"funcIdentifier",a,e,"funcIdentifier")}},{title:"参数名称",dataIndex:"name"},{title:"参数标识",dataIndex:"identifier"},{title:"数据传输类型",dataIndex:"dataTransferType"},{title:"数据类型",dataIndex:"dataType",render:function(e,t){return c.a.createElement("span",null,t.dataTypCN)}},{title:"数据属性",dataIndex:"propertyMap",render:function(e,t){return c.a.createElement("span",null,function(e){var t=null;switch(e.dataTypeEN){case"double":t="数值范围：".concat(e.propertyMap.min,"-").concat(e.propertyMap.max,",间距：").concat(e.propertyMap.interval,",倍数：").concat(e.propertyMap.multiple,",单位：").concat(e.propertyMap.unit);break;case"bool":t="0：".concat(e.propertyMap[0],",1：").concat(e.propertyMap[1]);break;case"enum":var a="";for(var n in e.propertyMap)a+=e.propertyMap[n]+"，";t="枚举值：".concat(a);break;default:return""}return t}(t))}},{title:"操作",render:function(e,t,a){var r=Object(ae.a)(v(),"funcIdentifier",a,t.funcIdentifier,"funcIdentifier");return r.children=c.a.createElement(S.b,{size:"middle"},c.a.createElement(n.a,{type:"link",onClick:function(){y(t),g(!0)}},"编辑"),c.a.createElement(n.a,{type:"link",onClick:function(){y(t),p(!0)}},"删除")),r}}],O=Le(Object(l.useState)(!1),2),I=(O[0],O[1],Le(Object(l.useState)(!0),2)),j=(I[0],I[1],Le(Object(l.useState)(!1),2));j[0],j[1];return c.a.createElement("div",null,c.a.createElement(ee.a,{rowKey:"key",columns:h,dataSource:t,pagination:{defaultCurrent:1,current:o.pageIndex,onChange:function(e,t){t===o.pageRows?u((function(a){var n=JSON.parse(JSON.stringify(a));return Object.assign(n,{pageIndex:e,pageRows:t})})):u((function(e){var a=JSON.parse(JSON.stringify(e));return Object.assign(a,{pageIndex:1,pageRows:t})}))},pageSize:o.pageRows,total:o.totalRows,showQuickJumper:!0,pageSizeOptions:[10],showTotal:function(){return c.a.createElement("span",null,"共 ",c.a.createElement("a",null,t.length)," 条")}}}),E&&c.a.createElement(z,{rightVisible:E,onCloseRight:function(){g(!1)},onRefreshList:function(){g(!1),Object(De.a)({type:"success",description:"编辑成功！"}),a()},actionData:f,modelType:r}),m&&c.a.createElement(w.a,{visible:m,modalOKHandle:function(){var e={productId:11759,type:"delete",content:JSON.stringify({identifier:f.funcIdentifier}),funcType:f.funcType};Object(T.c)(T.a.PhysicalModelAction,e).then((function(e){Object(De.a)({type:"success",description:"删除成功！"}),p(!1),a()}))},modalCancelHandle:function(){p(!1)},targetName:f.funcName,title:"删除",descGray:!0,needWarnIcon:!0,descText:"确定删除此功能"}))}function Ue(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,l=[],c=!0,i=!1;try{for(a=a.call(e);!(c=(n=a.next()).done)&&(l.push(n.value),!t||l.length!==t);c=!0);}catch(e){i=!0,r=e}finally{try{c||null==a.return||a.return()}finally{if(i)throw r}}return l}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return qe(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return qe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qe(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function ze(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Qe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ze(Object(a),!0).forEach((function(t){He(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ze(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function He(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Je(e){var t=[];return e.forEach((function(e){e.funcParamList&&e.funcParamList.length&&e.funcParamList.forEach((function(a){var n=JSON.parse(JSON.stringify(e));t.push(Qe(Qe({},n),a))}))})),t.forEach((function(e,t){e.key=t})),t}function Ge(e,t){var a=e.nextStep,r=e.productId,i=Ue(Object(l.useState)([]),2),o=i[0],u=i[1],s=Ue(Object(l.useState)([]),2),m=s[0],p=s[1],d=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];Object(T.c)(T.a.standardFnList,{productId:r},{loading:e}).then((function(e){p(Je(e.data.standard));var t=Je(e.data.custom);u(t)}))};Object(l.useEffect)((function(){d()}),[]);var f=Ue(Object(l.useState)(!1),2),y=f[0],b=f[1],E=Ue(Object(l.useState)(!1),2),g=E[0],v=E[1],h=function(){a()},O=Object(l.useRef)();return Object(l.useImperativeHandle)(t,(function(){return{onFinish:h}})),c.a.createElement("div",{className:"Protocol-wrap",ref:O},c.a.createElement("div",{className:"Protocol-label"},c.a.createElement("div",null,"独立MCU方案，需选择下载MCU开发资料包等，进行相应开发"),c.a.createElement("div",{className:"Protocol-download",onClick:function(){Object(T.b)(T.a.downPhysicalModel,{productId:r}).then((function(e){}))}},c.a.createElement("a",null,"导出物模型"),c.a.createElement("img",{src:Re.a,alt:""}))),c.a.createElement("div",{className:"Protocol-download"},c.a.createElement("div",null,"标准功能"),c.a.createElement(n.a,{type:"primary",onClick:function(){v(!0)}},"新建标准功能")),c.a.createElement("div",{className:"Protocol-table"},c.a.createElement(Ke,{dataSource:m,reFreshData:d,type:"1"})),c.a.createElement("div",{className:"Protocol-download"},c.a.createElement("div",null,"自定义功能"),c.a.createElement("div",null,c.a.createElement("a",null,"导出协议"),c.a.createElement("img",{src:Re.a,style:{marginRight:"15px"},alt:""}),c.a.createElement(n.a,{type:"primary",onClick:function(){b(!0)}},"新建自定义功能"))),c.a.createElement("div",null,c.a.createElement(Ke,{dataSource:o,reFreshData:d,type:"2"})),y&&c.a.createElement(Se,{rightVisible:y,onCloseRight:function(){b(!1)},onRefreshList:function(){b(!1),Object(De.a)({type:"success",description:"新增成功！"}),d()}}),g&&c.a.createElement(pe,{closeAdd:function(){v(!1),Object(De.a)({type:"success",description:"新增成功！"}),d()},CancelAdd:function(){v(!1)},isModalVisible:g}))}var Ze,We=Ge=Object(l.forwardRef)(Ge),Ye=(a("NBAS"),a("SuFq"),a("WsrF")),Xe=(a("XlDN"),a("v7xx")),_e=a("M7r8"),$e=a("rVDo"),et=a("DgvE"),tt=a("fs4x");a("tATc");function at(e){return(at="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nt(){return(nt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function rt(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function lt(e,t){return(lt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ct(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=ut(e);if(t){var r=ut(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return it(this,a)}}function it(e,t){return!t||"object"!==at(t)&&"function"!=typeof t?ot(e):t}function ot(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ut(e){return(ut=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var st=!1,mt=Object(o.connect)((function(e){return{productConfigSteps:e.getIn(["product","productConfigSteps"]).toJS()}}),(function(e){return{}}))(Ze=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&lt(e,t)}(l,e);var t,a,n,r=ct(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=r.call(this,e)).weightCheck=function(e,t,a){0!=+t&&!+t||+t>2147483647?a("重量的输入值应为数字且小于2147483647"):a()},t.state={size:"",weight:"",productParam:"",introduction:"",supplier:"",contact:"",tel:"",productPic:[],instruction:[],firstTimeState:null},t.imgBack=!1,t.fileBack=!1,t.click_1=t.click_1.bind(ot(t)),t.click_2=t.click_2.bind(ot(t)),t}return t=l,(a=[{key:"componentWillUnmount",value:function(){st=!1}},{key:"componentDidMount",value:function(){var e=this,t=this.props.productId;t&&Object(T.c)(T.a.getCommerceInfo,{productId:t},{loading:!0}).then((function(t){if(0==t.code){var a=t.data;e.setState({size:a.size,weight:a.weight,productParam:a.productParam,introduction:a.introduction,supplier:a.supplier,contact:a.contact,tel:a.tel,firstTimeState:!!a.createTime});var n=t.data.productPic?JSON.parse(t.data.productPic):[],r=Object(et.b)(n);n&&n.length>0&&(""==n[0]&&(r=[]),e.imgForm.setState({fileList:r}));var l=t.data.instruction?JSON.parse(t.data.instruction):[],c=Object(et.b)(l);l&&l.length>0&&(""==l[0]&&(c=[]),e.fileForm.setState({fileList:c}))}}))}},{key:"click_1",value:function(){this.props.history.push({pathname:"/open/base/product/edit/".concat(this.props.productId,"/service/serviceselect")})}},{key:"click_2",value:function(e){var t=this;e.preventDefault(),(0,this.props.form.validateFieldsAndScroll)((function(e,a){if(!e){var n=a,r=t.props.productId,l={productId:r},c=!1;for(var i in n.productId=r,n.productPic=t.imgForm.getFileList(),n.productPic.length>0?n.productPic=JSON.stringify(n.productPic.map((function(e,t){return{file:null,filename:e.name,filesrc:e.url}}))):n.productPic="",n.instruction=t.fileForm.getFileList(),n.instruction.length>0?n.instruction=JSON.stringify(n.instruction.map((function(e,t){return{file:null,filename:e.name,filesrc:e.url}}))):n.instruction="",n)n[i]?(l[i]=n[i],c=!0):l[i]="";st=!1,t.forceUpdate((function(){t.state.firstTimeState||c?Object(T.c)(T.a.saveCommerceInfo,l,{needFormData:!0,loading:!0}).then((function(e){0==e.code&&t.props.history.push({pathname:"/open/base/product/edit/".concat(r,"/applyRelease")})})):t.props.history.push({pathname:"/open/base/product/edit/".concat(r,"/applyRelease")})}))}}))}},{key:"render",value:function(){var e=this,t=this.props.canOperate,a=this.state,n=a.size,r=a.weight,l=a.productParam,i=a.introduction,o=a.supplier,u=a.contact,s=a.tel,m=this.props.form,p=m.getFieldDecorator,d=m.getFieldValue;return c.a.createElement(Ye.a,nt({},{labelCol:{xs:{span:2},sm:{span:2}},wrapperCol:{xs:{span:18},sm:{span:18}}},{onSubmit:this.click_2,className:"commercialInfo"}),c.a.createElement(tt.a,{promptBoolean:st}),c.a.createElement("div",{className:"commercialInfo"},c.a.createElement("div",{className:"commonContentBox marginFR"},c.a.createElement("div",{className:"title"},"商业化信息",c.a.createElement("span",{className:"explain"},"填写商业化信息，以便于确保您的产品真实合法有效")),c.a.createElement("div",{className:"centent"},c.a.createElement("div",{className:"common_title_input"},c.a.createElement(Ye.a.Item,{label:"成品照片："},c.a.createElement($e.a,{disabled:!t,onRef:function(t){return e.imgForm=t},maxCount:"9",format:".jpg,.png",maxSize:10}))),c.a.createElement(Ye.a.Item,{label:"尺寸："},p("size",{rules:[{max:20,message:"最大输入长度为20"}],initialValue:n})(c.a.createElement(N.a,{disabled:!t,style:{width:"350px"},placeholder:"请输入您的尺寸 例:50*30*20",suffix:"mm"}))),c.a.createElement(Ye.a.Item,{label:"重量："},p("weight",{rules:[{validator:this.weightCheck,message:"重量的输入值应为数字且小于2147483647"}],initialValue:r&&r+""})(c.a.createElement(N.a,{disabled:!t,style:{width:"350px"},placeholder:"请输入您的重量 例:10",suffix:"Kg"}))),c.a.createElement(_e.a,{label:"产品参数：",formId:"productParam",astrictNub:"1000",rows:"5",placeholder:"产品参数,1000字符以内",getFieldDecorator:p,initialVal:l,getFieldValue:d,disabled:!t}),c.a.createElement(_e.a,{label:"产品介绍：",formId:"introduction",astrictNub:"1000",rows:"5",placeholder:"产品介绍,1000字符以内",getFieldDecorator:p,initialVal:i,getFieldValue:d,disabled:!t}))),c.a.createElement("div",{className:"commonContentBox marginFR"},c.a.createElement("div",{className:"title"},"产品附件"),c.a.createElement("div",{className:"centent"},c.a.createElement("div",{className:"common_title_input"},c.a.createElement("span",{className:"common_title"},"产品说明书："),c.a.createElement("div",{className:"common_content"},c.a.createElement($e.a,{disabled:!t,onRef:function(t){return e.fileForm=t},maxCount:"5",isNotImg:!0,format:".doc,.docx,.pdf,.jpg,.png",maxSize:20}))))),c.a.createElement("div",{className:"commonContentBox marginFR"},c.a.createElement("div",{className:"title"},"供应链信息",c.a.createElement("span",{className:"explain"},"填写商业化信息，以便于确保您的产品真实合法有效")),c.a.createElement("div",{className:"centent"},c.a.createElement(Ye.a.Item,{label:"供应商公司："},p("supplier",{rules:[{max:40,message:"最大输入长度为40"}],initialValue:o})(c.a.createElement(N.a,{disabled:!t,style:{width:"350px"},placeholder:"请输入您的供应商公司名称"}))),c.a.createElement(Ye.a.Item,{label:"联系人："},p("contact",{rules:[{max:20,message:"最大输入长度为20"}],initialValue:u})(c.a.createElement(N.a,{disabled:!t,style:{width:"350px"},placeholder:"请输入您的联系人姓名"}))),c.a.createElement(Ye.a.Item,{label:"联系方式："},p("tel",{rules:[{max:20,message:"最大输入长度为20"}],initialValue:s})(c.a.createElement(N.a,{disabled:!t,style:{width:"350px"},placeholder:"请输入您的联系人方式"}))))),c.a.createElement("div",{className:"com-footer"},c.a.createElement(Xe.a,{preHandle:this.click_1,nextBtn:t,nextText:"发布产品",nextHandle:this.click_2}))))}}])&&rt(t.prototype,a),n&&rt(t,n),l}(l.Component))||Ze,pt=(Ye.a.create({name:"CommercialInfo",onValuesChange:function(){st=!0}})(mt),a("TL2v")),dt=a("2kug");a("zhBQ");function ft(e){return(ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yt(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function bt(e,t){return(bt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Et(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=ht(e);if(t){var r=ht(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return gt(this,a)}}function gt(e,t){return!t||"object"!==ft(t)&&"function"!=typeof t?vt(e):t}function vt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ht(e){return(ht=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ot=["注意事项：","1. 产品发布后，将进入正式使用状态，功能定义/通信模组等关键信息将无法被修改，请确保产品功能开发完成并验证通过。","2. 产品选用的拓展服务，如场景，语音，APP控制等，可以在发布后继续维护更新。","3. 产品发布后将开放固件管理，设备密钥管理等功能，可持续对发布产品进行维护。"],wt=[{title:"提交发布申请"},{title:"功能配置审查"},{title:"硬件审查"},{title:"上线运行"}],It=!1,St=(l.Component,a("j2VY"),a("rwTb")),jt=a("S18n"),Nt=a("cu44"),At=a("nXTq"),Ct=a.n(At),xt=[{title:"Topic",dataIndex:"topic",key:"topic"},{title:"描述",dataIndex:"desc",key:"desc"}];function kt(e){var t=e.productIdHex,a=void 0===t?"":t,n=(e.type,[{fn:"属性",topic:"/sys/".concat(a,"/thing/event/property/post"),desc:"设备属性上报"},{fn:"事件info",topic:"/sys/".concat(a,"/device/thing/event/info/post"),desc:"设备信息通知"},{fn:"事件error",topic:"/sys/".concat(a,"/device/thing/event/error/post"),desc:"设备故障上报"},{fn:"事件alert",topic:"/sys/".concat(a,"/device/thing/event/alert/post"),desc:"设备告警"}]);return c.a.createElement(Nt.a,{title:"topic列表"},c.a.createElement("div",{style:{padding:"12px"}},c.a.createElement(ee.a,{columns:xt,dataSource:n,key:"topic",pagination:!1})))}function Pt(e){return(Pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Tt(){return(Tt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Ft(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Mt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ft(Object(a),!0).forEach((function(t){Rt(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ft(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Rt(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Dt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vt(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Lt(e,t){return(Lt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Bt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Ut(e);if(t){var r=Ut(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Kt(this,a)}}function Kt(e,t){return!t||"object"!==Pt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ut(e){return(Ut=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var qt=Ye.a.Item,zt=!1,Qt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Lt(e,t)}(c,e);var t,a,n,r=Bt(c);function c(){var e;Dt(this,c);for(var t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];return(e=r.call.apply(r,[this].concat(a))).handleNext=function(){e.props.form.validateFields((function(t,a){if(!t){var n=e.props.productBaseInfo,r=e.productIcon.getFileListUrl();e.props.updateInfo(Mt(Mt({},a),{},{productId:n.productId,productIcon:r&&r.length?r[0]:""})).then((function(){zt=!1,e.forceUpdate((function(){e.props.history.push("./protocols")}))}))}}))},e.passwordInputFocusHandel=function(){e.passwordRef.input.removeAttribute("readonly"),e.ssidRef.input.removeAttribute("readonly")},e.componentDidUpdate=function(){e.setIcon()},e}return t=c,(a=[{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){e.setIcon()}))}},{key:"componentWillUnmount",value:function(){zt=!1}},{key:"setIcon",value:function(){var e=this.props.productBaseInfo.productIcon,t=void 0===e?"":e;this.setedIcon!==t&&this.productIcon&&(this.setedIcon=t,this.productIcon.setState({fileList:t?[{uid:1e3*Math.random(),name:"",status:"done",url:t}]:[]}))}},{key:"render",value:function(){var e=this,t=this.props,a=t.form,n=t.canOperate,r=void 0===n||n,c=a.getFieldDecorator,i={labelCol:{span:3},wrapperCol:{span:10}},o=this.props.productBaseInfo,u=o.productId,s=o.productName,m=o.productCode,p=o.allCategoryName,d=o.accessModeName,f=o.productClassName,y=o.bindTypeName,b=o.protocolFormatName,E=o.netTypeName,g=o.deviceKey,v=o.productIdHex,h=o.ssid,O=o.ssidPassword,w=o.radiocastName,I=o.productClassId,S=o.gatewayCommType,j=o.isRelatedGateway,A=o.accessModeId,C=o.authorityType,x=o.bindType,k=o.netTypeId,P=o.productIcon,T="";T=0===A?2===C?"高级认证":1===C?"中级认证":"初级认证":1===A?0===C?"无认证":"有认证":"初级认证";var F=1===x&&3===k||2===x,M=1===k;return l.createElement(Ye.a,{className:"product-info-module"},l.createElement(tt.a,{promptBoolean:zt}),l.createElement(Nt.a,{title:"基础信息"},l.createElement("div",{className:"product-info-item-content"},l.createElement(qt,Tt({label:"产品ID"},i),l.createElement("span",null,u),l.createElement("span",{className:"small-size"},"由系统自动分配的产品唯一标示码")),r?l.createElement(qt,Tt({label:"产品名称"},i),c("productName",{initialValue:s||"",rules:[{required:!0,message:"产品名称不能为空"}]})(l.createElement(N.a,{placeholder:"请输入产品名称",maxLength:20,style:{width:468}}))):l.createElement(qt,Tt({label:"产品名称"},i),l.createElement("span",null,s||"")),r?l.createElement(qt,Tt({label:"产品型号"},i),c("productCode",{initialValue:m||""})(l.createElement(N.a,{placeholder:"请输入产品型号",maxLength:20,style:{width:468}}))):l.createElement(qt,Tt({label:"产品型号"},i),l.createElement("span",null,m||"")),l.createElement(qt,Tt({label:"所属分类"},i),l.createElement("span",null,p)),l.createElement(qt,Tt({label:"产品图标"},i,{className:"clearfix"}),r?l.createElement($e.a,{onRef:function(t){return e.productIcon=t},maxCount:1,preferSize:"64*64",format:".gif,.jpeg,.jpg,.png",maxSize:.5}):l.createElement("div",{className:"icon-wrapper-in-detail"},l.createElement("img",{src:P||Ct.a,alt:""}))),l.createElement(qt,Tt({label:"接入方式"},i),l.createElement("span",null,d),l.createElement("span",{className:"small-size"},0===A?"设备直连C-Life平台":"产品不直连C-Life云，已接入的云平台与C-Life云对接")),l.createElement(qt,Tt({label:"产品类型"},i),l.createElement("span",null,f)),1===I&&l.createElement(qt,Tt({label:"网关通信方案"},i),l.createElement("span",null,S)))),l.createElement(Nt.a,{title:"技术信息"},l.createElement("div",{className:"product-info-item-content"},l.createElement(qt,Tt({label:"通信方式"},i),l.createElement("span",null,y)),l.createElement(qt,Tt({label:"协议格式"},i),l.createElement("span",null,b)),l.createElement(qt,Tt({label:"配网方式"},i),l.createElement("span",null,E)),l.createElement(qt,Tt({label:"产品密钥"},i),l.createElement(jt.a,{label:g,copy:!0,tip:"点击复制"}),l.createElement("span",{className:"small-size"},"由系统自动分配的密码")),l.createElement(qt,Tt({label:"产品编码"},i),l.createElement("span",null,v),l.createElement("span",{className:"small-size"},"由系统自动分配的设备唯一编码")),l.createElement(qt,Tt({label:"安全认证级别"},i),l.createElement("span",null,T)),0===I&&l.createElement(qt,Tt({label:"关联网关"},i),l.createElement("span",null,1===j?"是":"否")))),F||M?l.createElement(Nt.a,{title:"技术方案"},l.createElement("div",{className:"product-info-item-content"},M?l.createElement("div",null,r?l.createElement(qt,Tt({label:l.createElement(St.a,{label:"AP-SSID",tip:l.createElement("span",null,"AP配网时的密码"," ",l.createElement("a",null,"使用指南"))})},i),c("ssid",{initialValue:h||"",rules:[{pattern:/^\w{1,20}$/,message:"1-20个英文字母或数字"}]})(l.createElement(N.a,{maxLength:20,placeholder:"选填1-20个英文字母或数字",ref:function(t){return e.ssidRef=t},onFocus:this.passwordInputFocusHandel,readOnly:!0}))):l.createElement(qt,Tt({label:l.createElement(St.a,{label:"AP-SSID",tip:l.createElement("span",null,"AP配网时的密码"," ",l.createElement("a",null,"使用指南"))})},i),l.createElement("span",null,h||"")),r?l.createElement(qt,Tt({label:"AP-密码"},i),c("ssidPassword",{initialValue:O||"",rules:[{pattern:/^\w{8,20}$/,message:"8-20个英文字母或数字"}]})(l.createElement(N.a.Password,{maxLength:20,placeholder:"选填仅8-20个英文字母或数字",ref:function(t){return e.passwordRef=t},onFocus:this.passwordInputFocusHandel,readOnly:!0})),l.createElement("span",{className:"explain-text"},"配网时AP的SSID和密码")):l.createElement(qt,Tt({label:"AP-密码"},i),l.createElement("span",null,O||""),l.createElement("span",{className:"explain-text"},"配网时AP的SSID和密码"))):null,F?r?l.createElement(qt,Tt({label:"广播名"},i),c("radiocastName",{initialValue:w||""})(l.createElement(N.a,{placeholder:"请输入广播名",maxLength:20,style:{width:468}}))):l.createElement(qt,Tt({label:"广播名"},i),l.createElement("span",null,w||"")):null)):null,l.createElement(kt,{productIdHex:v||"${YourProductKey}",type:0}),r&&l.createElement("div",{className:"com-footer"},l.createElement(Xe.a,{preBtn:!1,nextHandle:this.handleNext})))}}])&&Vt(t.prototype,a),n&&Vt(t,n),c}(l.Component),Ht=(Object(o.connect)((function(e){return{productBaseInfo:e.getIn(["product","productBaseInfo"]).toJS()}}),(function(e){return{updateInfo:function(t){return e(Object(u.updateInfo)(t))}}}))(Ye.a.create({onValuesChange:function(){console.log(11111),zt=!0}})(Object(i.withRouter)(Qt))),a("MeRu")),Jt=(a("TfFZ"),a("3S7+")),Gt=(a("oVuX"),a("X72a")),Zt=a("Lyp1");a("SYor"),a("ShEY");function Wt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Yt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Wt(Object(a),!0).forEach((function(t){Xt(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Wt(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Xt(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function _t(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,l=[],c=!0,i=!1;try{for(a=a.call(e);!(c=(n=a.next()).done)&&(l.push(n.value),!t||l.length!==t);c=!0);}catch(e){i=!0,r=e}finally{try{c||null==a.return||a.return()}finally{if(i)throw r}}return l}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return $t(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return $t(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $t(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var ea=N.a.Search;var ta=function(e){var t=e.title,a=e.desc,n=void 0===a?"":a,r=e.type,i=e.replaceModalVisible,o=e.handleOk,u=e.handleCancel,s=e.schemeId,m=e.moduleId,p=_t(Object(l.useState)("radio"),1)[0],d=[{title:"模组",dataIndex:"moduleName"},{title:"芯片",dataIndex:"hetModuleTypeName"},{title:"尺寸",key:"",render:function(e,t,a){return c.a.createElement("div",null,c.a.createElement("span",null,t.sizeWidth,"x",t.sizeHeight,"x",t.sizeThickness))}},{title:"适用说明",dataIndex:"applyScope"},{title:"调试价格",dataIndex:"price"},{title:"操作",dataIndex:"",render:function(e,t,a){return c.a.createElement("a",null,"说明书")}}],f=_t(Object(l.useState)([]),2),y=f[0],b=f[1],E=_t(Object(l.useState)([m]),2),g=E[0],v=E[1],h={onChange:function(e,t){v(e)}},O=function(e){Object(T.c)(T.a.replaceModuleList,{schemeId:s,moduleName:e},{loading:!0}).then((function(e){console.log(e),b(e.data)}))};return Object(l.useEffect)((function(){O("")}),[]),c.a.createElement($.a,{title:t,visible:i,onOk:function(){return o(g)},onCancel:function(){return u(r)},maskClosable:!1,width:857,wrapClassName:"replace-module-modal"},n&&c.a.createElement("div",{className:"replace-firmware-desc"},n),c.a.createElement(ea,{className:"search-input",placeholder:"输入模组名称",allowClear:!0,onSearch:function(e){e&&e.trim()?O(e.trim()):O("")},style:{width:674}}),c.a.createElement(ee.a,{rowSelection:Yt({type:p,selectedRowKeys:g},h),rowKey:"moduleId",columns:"module"===r?d:[{title:"方案",dataIndex:"name"},{title:"版本",dataIndex:"id"},{title:"适用说明",dataIndex:""}],dataSource:y,pagination:!1}))};a("wkzE");function aa(){return(aa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function na(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ra(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?na(Object(a),!0).forEach((function(t){la(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):na(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function la(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function ca(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,l=[],c=!0,i=!1;try{for(a=a.call(e);!(c=(n=a.next()).done)&&(l.push(n.value),!t||l.length!==t);c=!0);}catch(e){i=!0,r=e}finally{try{c||null==a.return||a.return()}finally{if(i)throw r}}return l}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ia(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return ia(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ia(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var oa=JSON.parse(sessionStorage.getItem("productItem"))||{};var ua=function(e){var t=e.freeApplyVisible,a=e.handleFreeApply,n=e.type,r=e.moduleName,i=e.firmwareName,o=ca(A.a.useForm(),1)[0],u=ca(Object(l.useState)({}),2),s=u[0],m=u[1];return Object(l.useEffect)((function(){Object(T.c)(T.a.showFirmware,{productId:oa.productId},{loading:!0}).then((function(e){m(e.data)}))}),[]),c.a.createElement($.a,{title:"免费申请",visible:t,onOk:function(){o.submit()},onCancel:a,maskClosable:!1,destroyOnClose:!0,width:857,wrapClassName:"replace-module-modal free-apply-modal"},c.a.createElement("div",{className:"free-apply-modal-top"},c.a.createElement("div",{className:"confirm-tip"},"请确认以下信息："),c.a.createElement("div",{className:"f-module-box"},c.a.createElement("div",{className:"f-module-title"},"模组名称：",r||"-"),c.a.createElement("div",{className:"pad22"},c.a.createElement("div",{className:"firmware-msg"},"固件信息"),c.a.createElement("div",null,c.a.createElement(A.a,{labelCol:{span:5},wrapperCol:{span:12}},c.a.createElement(A.a.Item,{label:"固件名称/固件Key",className:"txt-color"},s.burnFileName||"-"),c.a.createElement(A.a.Item,{label:"固件版本",className:"txt-color"},s.burnFileVersion||"-"),s.firmwareModuleList&&s.firmwareModuleList.map((function(e){return e.firmwareFuncList&&e.firmwareFuncList.map((function(e,t){return c.a.createElement(c.a.Fragment,null,"int"===e.dataType.type&&c.a.createElement(A.a.Item,{key:e.funcName,label:e.funcName,className:"txt-color"},e.dataType.specs.defaultValue),"enum"===e.dataType.type&&c.a.createElement(A.a.Item,{key:e.funcName,label:e.funcName,className:"txt-color"},e.dataType.specs.defaultValue[0].k))}))}))))))),c.a.createElement("div",{className:"free-apply-modal-form"},c.a.createElement(A.a,aa({},{labelCol:{md:{span:3}},wrapperCol:{md:{span:8}}},{form:o,name:"freeApply-form",onFinish:function(e){var t={type:n,moduleName:r,firmwareName:i,productName:oa.productName,schemeType:oa.schemeType};Object(T.c)(T.a.freeApplyModule,ra(ra({},t),e),{loading:!0}).then((function(e){Object(De.a)({description:"操作成功！",type:"success"}),a()}))}}),c.a.createElement(A.a.Item,{name:"account",label:"产品联系人",rules:[{required:!0,message:"请输入联系人名称"}]},c.a.createElement(N.a,{maxLength:50,placeholder:"请输入联系人名称"})),c.a.createElement(A.a.Item,{name:"tel",label:"联系方式",rules:[{required:!0,pattern:/^(((\d{3,4}-)?\d{7,8})|(1\d{10}))$/,message:"请输入联系方式"}]},c.a.createElement(N.a,{placeholder:"请输入联系方式"})),c.a.createElement(A.a.Item,{name:"address",label:"邮寄地址",rules:[{required:!0,message:"请输入联系邮寄地址"}]},c.a.createElement(N.a,{maxLength:50,placeholder:"请输入联系邮寄地址"})),c.a.createElement(A.a.Item,{name:"num",label:"申请数量",rules:[{required:!0,pattern:new RegExp(/^[0-9]+$/,"g"),message:"请输入申请数量，仅支持数字"}]},c.a.createElement(N.a,{placeholder:"请输入申请数量"})))))};a("B6y2"),a("/DsP");function sa(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ma(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function pa(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,l=[],c=!0,i=!1;try{for(a=a.call(e);!(c=(n=a.next()).done)&&(l.push(n.value),!t||l.length!==t);c=!0);}catch(e){i=!0,r=e}finally{try{c||null==a.return||a.return()}finally{if(i)throw r}}return l}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return da(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return da(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function da(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var fa=j.a.Option;function ya(e){var t=e.modifyFirmwareVisible,a=e.handleCancelFirmware,n=e.firmwareId,r=e.productId,i=pa(A.a.useForm(),1)[0],o=pa(Object(l.useState)({}),2),u=o[0],s=o[1],m=pa(Object(l.useState)(""),2),p=m[0],d=m[1];return Object(l.useEffect)((function(){Object(T.c)(T.a.modifyFirmware,{id:n}).then((function(e){e.data.firmwareModuleList.forEach((function(e){e.firmwareFuncList.forEach((function(e){"int"===e.dataType.type&&i.setFieldsValue(ma({},"".concat(e.funcName,"#").concat(e.identifier),e.dataType.specs.defaultValue)),"enum"===e.dataType.type&&(i.setFieldsValue(ma({},"".concat(e.funcName,"#").concat(e.identifier),e.dataType.specs.defaultValue[0].k)),d(e.dataType.specs.defaultValue[0].k))}))})),s(e.data)}))}),[]),c.a.createElement($.a,{title:"修改固件",visible:t,onOk:function(){i.submit()},onCancel:a,maskClosable:!1,destroyOnClose:!0,width:857,okText:"重新生成固件",wrapClassName:"replace-module-modal"},c.a.createElement("div",{className:"modify-firmware-modal"},c.a.createElement("div",{className:"modify-firmware-modal-left"},c.a.createElement(A.a,{form:i,onFinish:function(e){var t=Object.keys(e),l=Object.values(e),c=t.map((function(e,t){return{funcModule:e.split("#")[0],identifier:e.split("#")[1],value:l[t]}})),i={productId:r,id:n,firmwareConfigReqList:c};console.log("提交的数据",i),Object(T.c)(T.a.saveFirmwareSetting,function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?sa(Object(a),!0).forEach((function(t){ma(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):sa(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},i)).then((function(e){Object(De.a)({description:"操作成功！",type:"success"}),a()}))},labelCol:{span:8},wrapperCol:{span:15},name:"modify-firmware-form",initialValues:{}},u.firmwareModuleList&&u.firmwareModuleList.map((function(e){return c.a.createElement(c.a.Fragment,{key:e.funcModule},c.a.createElement("div",{className:"modify-firmware-title"},e.funcModule),e.firmwareFuncList&&e.firmwareFuncList.map((function(e){return c.a.createElement(c.a.Fragment,{key:e.identifier},"int"===e.dataType.type&&c.a.createElement(A.a.Item,{label:e.funcName,name:"".concat(e.funcName,"#").concat(e.identifier),key:e.identifier,rules:[{required:!0,message:"请输入".concat(e.funcName)}]},c.a.createElement(N.a,null)),"enum"===e.dataType.type&&c.a.createElement("div",{className:"parent-item"},c.a.createElement(A.a.Item,{label:e.funcName,name:"".concat(e.funcName,"#").concat(e.identifier),key:e.identifier,wrapperCol:{span:10},rules:[{required:!0,message:"选择".concat(e.funcName)}]},c.a.createElement(j.a,{onChange:function(e){return d(e)},allowClear:!0},e.dataType.specs.def&&e.dataType.specs.def.map((function(e){return c.a.createElement(fa,{key:e.k,value:e.k},e.v)})))),c.a.createElement(N.a,{className:"son-item",value:p,disabled:!0,style:{width:100}})))})))})))),c.a.createElement("div",{className:"modify-firmware-modal-right"},c.a.createElement("img",{src:u.pinDiagram,alt:""}))))}a("C8h6");function ba(e){return(ba="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ea(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ga(e,t){return(ga=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function va(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Oa(e);if(t){var r=Oa(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return ha(this,a)}}function ha(e,t){return!t||"object"!==ba(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Oa(e){return(Oa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var wa=JSON.parse(sessionStorage.getItem("productItem"))||{},Ia=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ga(e,t)}(i,e);var t,n,r,l=va(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=l.call(this,e)).getMoudleInfo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";Object(T.c)(T.a.getMoudleInfo,{productId:t.props.productId,moduleId:e},{loading:!0}).then((function(e){t.setState({allInfo:e.data}),e.data.firmwareDefList&&(t.setState({dataSource:e.data.firmwareDefList}),t.setState({currentModuleId:e.data.moduleId}),wa.moduleId=e.data.moduleId,sessionStorage.setItem("productItem",JSON.stringify(wa)))}))},t.onFinish=function(e){console.log("验证是否通过:",e),t.props.nextStep()},t.modifyFirmware=function(e,a){console.log(e,"-----"),t.setState({firmwareId:e},(function(){t.setState({modifyFirmwareVisible:!0})}))},t.handleModalOk=function(e,a){console.log("确定选中的id",e),"module"===a&&t.getMoudleInfo(e.join("")),t.setState({replaceModalVisible:!1})},t.handleModalCancel=function(e){console.log("取消"),"module"===e&&t.setState({replaceModalVisible:!1})},t.downInstructions=function(){alert("暂无！")},t.getSchemeType=function(){if(!wa.schemeType)return"";switch(wa.schemeType){case 1:return"免开发方案，只需选择推荐模组以及配置固件信息，快速实现硬件智能化。";case 2:return"独立MCU方案，需选择下载MCU开发资料包等，进行相应开发。";case 3:return"SoC方案，不提供通用固件程序，需自行开发模组固件。"}},t.downloadData=function(){Object(T.c)(T.a.downloadData,{productId:t.props.productId,moduleId:t.state.currentModuleId}).then((function(e){e.data?window.location=e.data:alert("暂无数据！")}))},t.columns=[{title:"固件名称/固件Key",dataIndex:"burnFileName"},{title:"关联硬件",dataIndex:"moduleName"},{title:"芯片平台",dataIndex:"originalModuleTypeName"},{title:"固件类型",dataIndex:"type"},{title:"当前版本",dataIndex:"burnFileVersion"},{title:"操作",render:function(e,a,n){return c.a.createElement("div",{className:"table-operation",onClick:function(e){return t.modifyFirmware(a.id,e)}},"修改固件")}}],t.state={replaceModalVisible:!1,freeApplyVisible:!1,modifyFirmwareVisible:!1,dataSource:[],allInfo:{},currentModuleId:"",firmwareId:""},t}return t=i,(n=[{key:"componentDidMount",value:function(){this.props.onRef&&this.props.onRef(this),this.getMoudleInfo(wa.moduleId)}},{key:"render",value:function(){var e=this,t=this.state,n=t.replaceModalVisible,r=t.freeApplyVisible,l=t.modifyFirmwareVisible,i=(t.replaceFirmwareVisible,t.dataSource),o=t.allInfo,u=t.currentModuleId,s=t.firmwareId;return c.a.createElement("div",{className:"hardware-page"},c.a.createElement("div",{className:"hardware-wrap"},c.a.createElement("div",{className:"desc"},this.getSchemeType()),c.a.createElement("div",{className:"module-box"},c.a.createElement("div",{className:"module-header"},c.a.createElement("div",{className:"module-tip"},"已选模组"),c.a.createElement("div",{className:"replace-btn",onClick:function(){return e.setState({replaceModalVisible:!0})}},"更换模组")),c.a.createElement("div",{className:"module-cont"},c.a.createElement("div",{className:"flex-s"},c.a.createElement("div",{className:"module-cont-left"},c.a.createElement("img",{src:o.modulePicture||a("jt+J"),alt:""})),c.a.createElement("div",{className:"module-cont-right"},c.a.createElement("div",{className:"module-title"},o.moduleName||"-"),c.a.createElement("div",{className:"flex"},c.a.createElement("div",{className:"desc-item"},c.a.createElement("span",{className:"desc-item-title"},"芯片："),o.originalModuleTypeName||"-"),c.a.createElement("div",{className:"desc-item"},c.a.createElement("span",{className:"desc-item-title"},"尺寸："),o.sizeWidth,"x",o.sizeHeight,"x",o.sizeThickness),c.a.createElement("div",{className:"desc-item"},c.a.createElement("span",{className:"desc-item-title"},"适用："),o.applyScope||"-")),c.a.createElement("div",{className:"desc-item"},c.a.createElement("span",{className:"desc-item-title"},"特性："),"1.配网方式: ",o.netTypeName||"-","； 2.支持协议: ",o.bindTypeName||"-","； 3.通信通讯速率: ",o.communicateSpeed||"-","bps； 4.是否支持文件传输: ",0===o.supportFileTransfer?"否":"是"),c.a.createElement("div",{className:"more",onClick:this.downInstructions},"说明书",c.a.createElement(Gt.a,null)))),c.a.createElement("div",{className:"module-right-box"},o.price&&c.a.createElement("div",{className:"price"},"¥",o.price,"/个"),c.a.createElement("div",{className:"apply-btn",onClick:function(){e.setState({freeApplyVisible:!0})}},"免费申请")))),c.a.createElement("div",{className:"module-box"},c.a.createElement("div",{className:"module-tip mar-t-b"},"已生成固件"),o.firmwareDefList&&c.a.createElement(ee.a,{rowKey:"burnFileVersion",columns:this.columns,dataSource:i,pagination:!1,size:"small"}),0===!o.firmwareDefList&&c.a.createElement("div",{className:"no-match-firmware"},c.a.createElement("div",{className:"no-match-firmware-img"},c.a.createElement("img",{src:a("e35r"),alt:""})),c.a.createElement("div",{className:"no-match-firmware-tip"},"您选择的模组暂无通用固件程序，请自行开发模组固件。"))),c.a.createElement("div",{className:"module-box"},c.a.createElement("div",{className:"module-tip mar30"},"开发调试"),c.a.createElement("div",{className:"debug"},c.a.createElement("div",{className:"flex-c"},c.a.createElement("img",{className:"debug-icon",src:a("idcQ"),alt:""}),1===wa.schemeType&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",null,"设计PCB"),c.a.createElement("div",{className:"blue",onClick:function(){return e.downloadData()}},"参考电路原理图")),2===wa.schemeType&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",null,"MCU模组 SDK开发"),c.a.createElement("div",{className:"blue"},c.a.createElement("span",{onClick:function(){return e.downloadData()}},"下载MCU开发资料包"),c.a.createElement(Jt.a,{title:"包含MCU SDK、串口协议、模组调试助手等。SDK根据您产品的基本信息和功能定义生成对应的模组代码。若您的产品信息和功能定义发生变化，请重新生成。重新生成。",placement:"top"},c.a.createElement(Zt.a,{className:"tooltip-icon"})))),3===wa.schemeType&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",null,"模组SDK开发"),c.a.createElement("div",{className:"blue"},c.a.createElement("span",{onClick:function(){return e.downloadData()}},"下载模组SDK开发资料包"),c.a.createElement(Jt.a,{title:"包含模组 SDK、Bin文件等",placement:"top"},c.a.createElement(Zt.a,{className:"tooltip-icon"}))))),c.a.createElement("div",{className:"line"},c.a.createElement("img",{src:a("Lz/R"),alt:""})),c.a.createElement("div",{className:"flex-c"},c.a.createElement("img",{className:"debug-icon",src:a("iNUt"),alt:""}),c.a.createElement("div",null,"功能测试"),c.a.createElement("div",{className:"mar8"},"（请先完成第四步中配网以及通信安全机制的配置）")),c.a.createElement("div",{className:"line"},c.a.createElement("img",{src:a("Lz/R"),alt:""})),c.a.createElement("div",{className:"flex-c"},c.a.createElement("img",{className:"debug-icon",src:a("e11v"),alt:""}),c.a.createElement("div",null,"联网验证"),c.a.createElement("div",{className:"blue"},"下载“数联智能”App"))))),n&&c.a.createElement(ta,{title:"更换模组",type:"module",replaceModalVisible:n,handleOk:function(t){return e.handleModalOk(t,"module")},handleCancel:this.handleModalCancel,schemeId:wa.schemeId,moduleId:u}),r&&c.a.createElement(ua,{type:"1",firmwareName:o.burnFileName||"",moduleName:o.moduleName||"",freeApplyVisible:r,handleFreeApply:function(){e.setState({freeApplyVisible:!1}),e.getMoudleInfo(u)}}),l&&c.a.createElement(ya,{modifyFirmwareVisible:l,firmwareId:s,productId:this.props.productId,handleCancelFirmware:function(){e.setState({modifyFirmwareVisible:!1}),e.getMoudleInfo(u)}}))}}])&&Ea(t.prototype,n),r&&Ea(t,r),i}(l.Component),Sa=a("g4q9");function ja(){return c.a.createElement(c.a.Fragment,null)}a("S8ev"),a("EVkz");function Na(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Aa(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Ca(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,l=[],c=!0,i=!1;try{for(a=a.call(e);!(c=(n=a.next()).done)&&(l.push(n.value),!t||l.length!==t);c=!0);}catch(e){i=!0,r=e}finally{try{c||null==a.return||a.return()}finally{if(i)throw r}}return l}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return xa(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return xa(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xa(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var ka=N.a.TextArea;var Pa=function(e){var t=e.releaseVisible,a=e.cancelHandle,n=e.productId,r=Ca(A.a.useForm(),1)[0],o=Object(l.useRef)(),u=Object(i.useHistory)(),s=function(e){};return c.a.createElement($.a,{title:"发布产品",visible:t,width:740,onOk:function(){r.submit()},onCancel:a,okText:"确认发布",maskClosable:!1,wrapClassName:"replace-module-modal"},c.a.createElement("div",{className:"release-product-modal"},c.a.createElement(A.a,{form:r,name:"release-product-form",labelCol:{span:5},wrapperCol:{span:14},onFinish:function(e){console.log("Received values of form: ",e);var t=e.instruction.length&&e.instruction.map((function(e){return{file:null,filename:e.name,filesrc:e.url}}));e.instruction=JSON.stringify(t),e.productPic=e.productPic&&e.productPic[0].url,e.productIcon=e.productIcon&&e.productIcon[0].url,e.productId=n,console.log("请求接口的参数"),Object(T.c)(T.a.publishProduct,function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Na(Object(a),!0).forEach((function(t){Aa(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Na(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e)).then((function(e){Object(De.a)({description:"发布成功！",type:"success"}),u.push("/open/product/proManage/list")}))},autoComplete:"off",initialValues:{portName:"IOT"}},c.a.createElement("div",null,c.a.createElement("div",{className:"release-item-title"},"公司信息"),c.a.createElement(A.a.Item,{label:"产品所属公司名称",name:"supplier",rules:[{required:!0,message:"请输入公司名称"},{pattern:new RegExp(/^[a-zA-Z\u4e00-\u9fa5]+$/,"g"),message:"请输入中文/英文品牌名称"}]},c.a.createElement(N.a,{placeholder:"请输入公司名称"})),c.a.createElement(A.a.Item,{label:"产品联系人",name:"contact",rules:[{required:!0,message:"请输入联系人名称"},{pattern:new RegExp(/^[a-zA-Z\u4e00-\u9fa5]+$/,"g"),message:"请输入联系人名称"}]},c.a.createElement(N.a,{placeholder:"请输入联系人名称"})),c.a.createElement(A.a.Item,{label:"联系方式",name:"tel",rules:[{required:!0,message:"请输入联系人手机号码"}]},c.a.createElement(N.a,{placeholder:"请输入联系人手机号码"})),c.a.createElement("div",{className:"release-item-title"},"产品信息"),c.a.createElement(A.a.Item,{label:"产品尺寸",name:"size",rules:[{required:!0,message:"请输入产品尺寸，如50*30*30"}]},c.a.createElement(N.a,{placeholder:"请输入产品尺寸，如50*30*30"})),c.a.createElement(A.a.Item,{label:"产品重量",name:"weight",rules:[{required:!0,message:"请输入产品重量，如2"}]},c.a.createElement(N.a,{placeholder:"请输入产品重量，如2"})),c.a.createElement(A.a.Item,{label:"产品参数",name:"productParam",rules:[{required:!0,message:"请输入产品参数"}]},c.a.createElement(ka,{showCount:!0,maxLength:100,placeholder:"请输入产品参数",autoSize:{minRows:4},onChange:s})),c.a.createElement(A.a.Item,{label:"产品介绍",name:"introduction",rules:[{required:!0,message:"请输入产品介绍"}]},c.a.createElement(ka,{showCount:!0,maxLength:100,placeholder:"请输入产品介绍",autoSize:{minRows:4},onChange:s})),c.a.createElement("div",{className:"release-item-title"},"产品附件"),c.a.createElement(A.a.Item,{className:"upload-file",label:"产品说明书",name:"instruction",rules:[{required:!0,message:"请上传产品说明书"}]},c.a.createElement($e.b,{ref:o,isNotImg:!0,format:".doc,.docx,.pdf,.jpg,.png",maxSize:20,maxCount:5})),c.a.createElement(A.a.Item,{className:"upload-file",label:"产品图标",name:"productIcon"},c.a.createElement($e.b,{ref:o,isNotImg:!1,format:".gif,.jpeg,.jpg,.png",preferSize:"64*64",maxSize:.512,maxCount:1})),c.a.createElement(A.a.Item,{className:"upload-file",label:"成品图片",name:"productPic"},c.a.createElement($e.b,{ref:o,isNotImg:!1,format:".gif,.jpeg,.jpg,.png",preferSize:"192*192",maxSize:.512,maxCount:1}))))))};function Ta(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,l=[],c=!0,i=!1;try{for(a=a.call(e);!(c=(n=a.next()).done)&&(l.push(n.value),!t||l.length!==t);c=!0);}catch(e){i=!0,r=e}finally{try{c||null==a.return||a.return()}finally{if(i)throw r}}return l}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Fa(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Fa(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fa(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var Ma=[{title:"序列号",dataIndex:"name",key:"name",render:function(e){return c.a.createElement("a",null,e)}},{title:"topic数据内容",dataIndex:"age",key:"age"},{title:"物理地址",dataIndex:"address",key:"address"},{title:"DID",dataIndex:"DID",key:"DID"}];function Ra(e,t){e.nextStep;var a=e.productId,r=x.a.TabPane;var i=Ta(Object(l.useState)([]),2),o=i[0],u=(i[1],Ta(Object(l.useState)(""),2)),s=u[0],m=u[1],p=Ta(Object(l.useState)(""),2),d=p[0],f=p[1],y=Ta(Object(l.useState)(!1),2),b=y[0],E=y[1],g=function(){E(!0)};return Object(l.useImperativeHandle)(t,(function(){return{showRelease:g}})),c.a.createElement("div",{id:"product-edit-validation"},c.a.createElement("div",{className:"validation-top"},"在调试工具的【添加调试设备】步骤，添加设备物理地址后，既默认此设备在clife平台注册，不受通信安全校验机制（如一机一码）的影响"),c.a.createElement("div",{className:"validation-tab"},c.a.createElement(x.a,{defaultActiveKey:"1",onChange:function(e){console.log(e)}},c.a.createElement(r,{tab:"真实设备调试",key:"1"},c.a.createElement("div",{className:"tab-one-title"},c.a.createElement("div",{className:"tab-one-title-left"},c.a.createElement("div",{className:"btn-label"},"配置调试信息：",c.a.createElement(St.a,{tip:"产品标签是您给产品自定义的标识，您可以使用标签功能实现产品的分类统一管理。"})),c.a.createElement(N.a,{value:s,onChange:function(e){return m(e.target.value)},placeholder:"请输入数联智能App登录账号"}),c.a.createElement(N.a,{value:d,onChange:function(e){return f(e.target.value)},placeholder:"输入设备物理地址"}),c.a.createElement(n.a,{type:"primary"},"确定调试"),c.a.createElement(n.a,null,"重置")),c.a.createElement("a",null,"历史调试信息")),c.a.createElement("div",{className:"tab-one-content"},c.a.createElement("div",{className:"left-content"},c.a.createElement("div",{className:"left-content-title"},c.a.createElement("h3",null,"标准功能"),c.a.createElement("div",null,c.a.createElement(n.a,{type:"primary",ghost:!0},"清空当前信息"),c.a.createElement(n.a,{type:"primary",ghost:!0},"导出数据"))),c.a.createElement("div",null,c.a.createElement(ee.a,{columns:Ma,dataSource:o}))),c.a.createElement("div",{className:"right-content"},c.a.createElement("h3",null,"解析数据"),c.a.createElement("div",null)))),c.a.createElement(r,{tab:"虚拟设备调试",key:"2"},c.a.createElement(pt.a,{style:{marginBottom:8,width:"100%"},desc:["WiFi蓝牙设备需先登录数联智能App，并搜索绑定需要调试的设备，蜂窝设备不需要。"]})))),c.a.createElement(ja,null),b&&c.a.createElement(Pa,{productId:a,releaseVisible:b,cancelHandle:function(){E(!1)}}))}var Da=Ra=Object(l.forwardRef)(Ra);a("pDQq"),a("yq1k"),a("Z6NE");function Va(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function La(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Ba(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,l=[],c=!0,i=!1;try{for(a=a.call(e);!(c=(n=a.next()).done)&&(l.push(n.value),!t||l.length!==t);c=!0);}catch(e){i=!0,r=e}finally{try{c||null==a.return||a.return()}finally{if(i)throw r}}return l}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ka(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Ka(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ka(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var Ua=j.a.Option,qa=a("HILT"),za=a("96C7");var Qa=function(e){var t=e.networkModalVisible,a=e.productId,r=e.isGateWayDevice,i=(e.isedited,e.cancelHandle),o=Ba(A.a.useForm(),1)[0],u=Object(l.useRef)(),s=Object(l.useRef)(),m=Ba(Object(l.useState)(""),2),p=m[0],d=m[1],f=Ba(Object(l.useState)(""),2),y=f[0],b=f[1],E=Ba(Object(l.useState)({}),2),g=E[0],v=E[1];Object(l.useEffect)((function(){Object(T.c)(T.a.getNetDataByProductId,{productId:a}).then((function(e){v(e.data),u.current.setFieldsValue({baseTypeId:e.data.baseTypeId,guidePage:e.data.guidePage.guidePage,bindFailPage:e.data.guidePage.bindFailPage,imageUrlList:e.data.helpPage.imageUrls,radiocastName:e.data.radiocastName||"",ssid:e.data.ssid||""}),d(e.data.guidePage.guidePage),b(e.data.guidePage.bindFailPage),s.current.setFileList(e.data.helpPage.imageUrls.filter((function(e){return e})).map((function(e){return{url:e,status:"done"}})))}))}),[]);var h=function(e){"guidePage"===e&&d(""),"bindFailPage"===e&&b("")},O=function(e,t){var a=t.target.files[0];if("image/png"!==a.type&&"image/jpeg"!==a.type&&"image/gif"!==a.type)return Object(De.a)({description:"请上传gif、jpeg、jpg、png格式图片!",type:"warn"}),t.target.value="",void h(e);if(a.size>512e3)return Object(De.a)({description:"文件大小不能超过500KB",type:"warn"}),t.target.value="",void h(e);var n={appId:31438,domainType:4,file:a};Object(T.c)(T.a.upFileUrl,n,{needFormData:!0,loading:!0},{timeout:3e4}).then((function(t){0===t.code&&("guidePage"===e&&d(t.data.url),"bindFailPage"===e&&b(t.data.url),u.current.setFieldsValue(La({},e,t.data.url)))}))};return c.a.createElement($.a,{title:"配网信息",visible:t,width:875,onOk:function(){o.submit()},onCancel:i,maskClosable:!1,wrapClassName:"replace-module-modal"},c.a.createElement("div",{className:"network-info-modal"},c.a.createElement(A.a,{ref:u,form:o,onFinish:function(e){var t=e.imageUrlList&&e.imageUrlList.filter((function(e){return e})).map((function(e){return e.url||e}));e.productId=a,e.imageUrlList=t||[],e.isGateWayDevice=r||"",e.guidePage=e.guidePage||"",e.bindFailPage=e.bindFailPage||"",console.log("提交的数据****",e),Object(T.c)(T.a.saveNetworkConfig,function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Va(Object(a),!0).forEach((function(t){La(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Va(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e),{loading:!0}).then((function(e){Object(De.a)({description:"操作成功！",type:"success"}),i()}))},labelCol:{span:5},wrapperCol:{span:19},initialValues:{}},c.a.createElement("div",{className:"network-info-modal-title"},"配网方式"),c.a.createElement(A.a.Item,{label:"已选通信协议"},c.a.createElement("span",null,g.bindTypeName)),c.a.createElement(A.a.Item,{label:"配网方式",name:"baseTypeId",rules:[{required:!0,message:"请选择配网方式！"}]},c.a.createElement(j.a,{style:{width:380}},g.bindTypeList&&g.bindTypeList.map((function(e){return c.a.createElement(Ua,{key:e.baseTypeId,value:e.baseTypeId},e.baseTypeName)})))),1===g.bindTypeId&&c.a.createElement(A.a.Item,{label:"AP-SSID",name:"ssid",rules:[{required:!0,message:"请输入AP-SSID！"}]},c.a.createElement(N.a,{maxLength:50,style:{width:380}})),(1===g.bindTypeId||2===g.bindTypeId)&&c.a.createElement(A.a.Item,{label:"广播名",name:"radiocastName",rules:[{required:!0,message:"请输入广播名！"}]},c.a.createElement(N.a,{maxLength:50,style:{width:380}})),(1===g.bindTypeId||2===g.bindTypeId)&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"network-info-modal-title"},"配网图片引导",c.a.createElement("span",{className:"tip"},"（需产品支持WiFi或蓝牙配置能力）")),c.a.createElement("div",{className:"flex"},c.a.createElement(A.a.Item,{label:"默认联网指引",name:"guidePage",labelCol:{span:10},wrapperCol:{span:10},className:"upload-img"},c.a.createElement("div",{className:"native-upload"},c.a.createElement("div",{className:"img-wrap"},c.a.createElement("img",{src:p||qa,alt:""})),c.a.createElement("label",{htmlFor:"upLoadImg"},c.a.createElement(n.a,{type:"primary",className:"upload-btn"},"上传图片",c.a.createElement("input",{type:"file",accept:"image/*",id:"upLoadImg",name:"guideImg",className:"hidden",onInput:function(e){return O("guidePage",e)}}))),c.a.createElement("div",{className:"tip-text"},"支持gif、jpeg、jpg、png格式，大小不超过500k，推荐尺寸110*154px，150*267px"))),c.a.createElement(A.a.Item,{label:"默认联网失败提示",name:"bindFailPage",labelCol:{span:10},wrapperCol:{span:10},className:"upload-img"},c.a.createElement("div",{className:"native-upload"},c.a.createElement("div",{className:"img-wrap"},c.a.createElement("img",{src:y||za,alt:""})),c.a.createElement("label",{htmlFor:"upLoadImg"},c.a.createElement(n.a,{type:"primary",className:"upload-btn"},"上传图片",c.a.createElement("input",{type:"file",accept:"image/*",id:"upLoadImg",name:"guideImg",className:"hidden",onInput:function(e){return O("bindFailPage",e)}}))),c.a.createElement("div",{className:"tip-text"},"支持gif、jpeg、jpg、png格式，大小不超过500k，推荐尺寸110*154px，150*267px")))),c.a.createElement(A.a.Item,{label:"图片轮播帮助信息",name:"imageUrlList",className:"upload-img",labelCol:{span:5},wrapperCol:{span:20}},c.a.createElement($e.b,{ref:s,maxCount:5,preferSize:"150*267",format:".gif,.jpeg,.jpg,.png",maxSize:.5}))))))},Ha=(a("qePV"),a("zueq"));a("ggmS");function Ja(){return(Ja=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Ga(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,l=[],c=!0,i=!1;try{for(a=a.call(e);!(c=(n=a.next()).done)&&(l.push(n.value),!t||l.length!==t);c=!0);}catch(e){i=!0,r=e}finally{try{c||null==a.return||a.return()}finally{if(i)throw r}}return l}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Za(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Za(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Za(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var Wa=function(e){var t=e.securityVisible,a=e.productId,n=e.cancelHandle,r=e.isGateWayDevice,i=e.isConfigedFunc,o=e.productExtend,u=Ga(A.a.useForm(),1)[0],s=Ga(Object(l.useState)("0"),2),m=s[0],p=s[1];return c.a.createElement($.a,{title:"通信安全机制",visible:t,width:740,onOk:function(){u.submit()},onCancel:n,maskClosable:!1,wrapClassName:"replace-module-modal"},c.a.createElement("div",{className:"communication-security-modal"},c.a.createElement("div",{className:"tip-desc"},c.a.createElement(Ha.a,null),c.a.createElement("span",{className:"tip-text"},"数据在产品发布后可在设备注册模块查看")),c.a.createElement(A.a,Ja({form:u},{labelCol:{span:5},wrapperCol:{span:14}},{onFinish:function(e){Object(T.c)(T.a.saveProductSecurityConfig,{productId:a,authorityType:Number(m),isGateWayDevice:r||""}).then((function(e){Object(De.a)({description:"操作成功！",type:"success"}),i()}))},initialValues:{authorityType:o+""}}),c.a.createElement(A.a.Item,{name:"authorityType",label:"验证方式",rules:[{required:!0,message:"请选择验证方式！"}]},c.a.createElement(I.a.Group,{onChange:function(e){return p(e.target.value)}},c.a.createElement(I.a,{value:"0"},c.a.createElement(Jt.a,{title:"设备通信时，仅校验烧录的产品密钥，设备安全性较低。",placement:"bottom"}," 一型一密 ")),c.a.createElement(I.a,{value:"1"},c.a.createElement(Jt.a,{title:"设备通信时，需校验烧录的产品密钥以及Clife平台设备注册的设备ID，较为安全。",placement:"bottom"},"一型一密pro")),c.a.createElement(I.a,{value:"2"},c.a.createElement(Jt.a,{title:"设备通信时，需校验烧录的设备密钥和设备ID，安全性最高。",placement:"bottom"},"一机一密")))))))},Ya=a("/MfK"),Xa=(a("jXZW"),["key","name","fieldKey"]);function _a(){return(_a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function $a(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function en(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,l=[],c=!0,i=!1;try{for(a=a.call(e);!(c=(n=a.next()).done)&&(l.push(n.value),!t||l.length!==t);c=!0);}catch(e){i=!0,r=e}finally{try{c||null==a.return||a.return()}finally{if(i)throw r}}return l}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return tn(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return tn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tn(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var an=function(e){var t=e.productId,a=e.firmwareVisible,n=e.cancelHandle,r=e.type,i=e.editData,o=e.confirmHandle,u=en(A.a.useForm(),1)[0];return Object(l.useEffect)((function(){"edit"===r&&u.setFieldsValue({firmwareTypeMark:i.firmwareTypeMark,firmwareTypeName:i.firmwareTypeName})}),[]),c.a.createElement($.a,{title:"edit"===r?"编辑产品固件模块":"配置产品固件模块",visible:a,width:555,onOk:function(){u.submit()},onCancel:n,maskClosable:!1,wrapClassName:"replace-module-modal"},c.a.createElement("div",{className:"config-firmware-modal"},c.a.createElement(A.a,{form:u,name:"config-firmware-form",onFinish:function(e){if(console.log("Received values of form: ",e,r,"type"),"edit"===r)Object(T.c)(T.a.updateFirmwareModule,{id:i.id,firmwareTypeName:e.firmwareTypeName,firmwareTypeMark:e.firmwareTypeMark}).then((function(e){Object(De.a)({description:"操作成功！",type:"success"}),o()}));else{var a=[{deviceVersionType:5,productId:t,firmwareTypeMark:e.firmwareTypeMark,firmwareTypeName:e.firmwareTypeName}];e.list&&e.list.length&&e.list.forEach((function(e){a.push({deviceVersionType:5,productId:t,firmwareTypeMark:e.firmwareTypeMark,firmwareTypeName:e.firmwareTypeName})})),Object(T.c)(T.a.addFirmwareModule,a).then((function(e){Object(De.a)({description:"操作成功！",type:"success"}),o()}))}},autoComplete:"off"},c.a.createElement("div",{className:"form-item-block"},c.a.createElement(A.a.Item,{label:"配置固件模块标识",name:"firmwareTypeMark",rules:[{required:!0,message:"请输入英文字符"},{pattern:new RegExp(/^[a-zA-Z]+$/,"g"),message:"请输入英文字符"}]},c.a.createElement(N.a,{maxLength:50,placeholder:"请输入英文字符"})),c.a.createElement(A.a.Item,{label:"配置固件模块名称",name:"firmwareTypeName",rules:[{required:!0,message:"请输入中文名称"},{pattern:new RegExp(/^[\u2E80-\u9FFF]+$/,"g"),message:"请输入中文产品名称"}]},c.a.createElement(N.a,{maxLength:50,placeholder:"请输入中文名称"}))),"add"===r&&c.a.createElement(A.a.List,{name:"list"},(function(e,t){var a=t.add,n=t.remove;return c.a.createElement(c.a.Fragment,null,e.map((function(e){var t=e.key,a=e.name,r=e.fieldKey,l=$a(e,Xa);return c.a.createElement("div",{className:"form-item-block",key:t},c.a.createElement(A.a.Item,_a({label:"配置固件模块标识"},l,{name:[a,"firmwareTypeMark"],fieldKey:[r,"firmwareTypeMark"],rules:[{required:!0,message:"请输入英文字符"},{pattern:new RegExp(/^[a-zA-Z]+$/,"g"),message:"请输入英文字符"}]}),c.a.createElement(N.a,{maxLength:50,placeholder:"请输入英文字符"})),c.a.createElement(A.a.Item,_a({label:"配置固件模块名称"},l,{name:[a,"firmwareTypeName"],fieldKey:[r,"firmwareTypeName"],rules:[{required:!0,message:"请输入中文名称"},{pattern:new RegExp(/^[\u2E80-\u9FFF]+$/,"g"),message:"请输入中文产品名称"}]}),c.a.createElement(N.a,{maxLength:50,placeholder:"请输入中文名称"})),c.a.createElement("div",{className:"delete-btn",onClick:function(){return n(a)}},c.a.createElement(Ya.a,null),"  删除"))})),c.a.createElement("div",{className:"add-btn",onClick:function(){return a()}},"新增"))})))))};a("sTEO");j.a.Option;a("qNb/");var nn=a("PArb");a("fAKH");var rn=function(e){var t=e.productId,a=e.firmwareDetailData,r=void 0===a?[]:a,l=e.firmwareDetailVisible,i=e.cancelHandle,o=e.showAddFirmware,u=e.showEditFirmware,s=e.getFirmwareList,m=[{title:"配置的固件模块标识",dataIndex:"firmwareTypeMark",key:"firmwareTypeMark"},{title:"配置的固件模块名称",dataIndex:"firmwareTypeName",key:"firmwareTypeName"},{title:"配置时间",dataIndex:"createTime",key:"createTime"},{title:"操作",render:function(e,t,a){return c.a.createElement("div",{className:"edit-ope"},c.a.createElement("span",{onClick:function(){return u(t)}},"编辑"),c.a.createElement(nn.a,{type:"vertical"}),c.a.createElement("span",{onClick:function(){return p(t)}},"删除"))}}],p=function(e){Object(T.c)(T.a.delFirmwareModule,{productId:t,id:e.id}).then((function(e){Object(De.a)({description:"操作成功！",type:"success"}),s()}))};return c.a.createElement($.a,{title:"配置产品固件模块",visible:l,width:857,onCancel:i,maskClosable:!1,wrapClassName:"replace-module-modal"},c.a.createElement("div",{className:"configfirmware-detail-modal"},c.a.createElement(n.a,{type:"primary",className:"mar22",onClick:function(){return o("add")}},"新增产品固件模块"),c.a.createElement(ee.a,{rowKey:"firmwareTypeNo",columns:m,dataSource:r,pagination:!1,size:"small"})))};a("8bdq");function ln(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,l=[],c=!0,i=!1;try{for(a=a.call(e);!(c=(n=a.next()).done)&&(l.push(n.value),!t||l.length!==t);c=!0);}catch(e){i=!0,r=e}finally{try{c||null==a.return||a.return()}finally{if(i)throw r}}return l}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return cn(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return cn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cn(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var on=JSON.parse(sessionStorage.getItem("productItem"))||{};function un(e,t){var n=e.productId,r=e.nextStep,o=ln(Object(l.useState)([{title:"配网信息",desc:"选择设备联网方式，设置配网引导图，相关指引等",isConfiged:!1,type:"network",url:a("2mZb")},{title:"通信安全机制",desc:"配置设备通信的安全机制，兼顾客户的便利以及安全需求",isConfiged:!1,type:"security",url:a("sfQM")}]),2),u=o[0],s=o[1],m=ln(Object(l.useState)([{title:"配置产品固件模块",desc:"支持配置OTA升级模块，比如区分控制板、驱动板、显示板等不同模块",isConfiged:!1,type:"addFirmware",url:a("sxCh")},{title:"固件升级",desc:"MCU固件或SDK估计配置远程升级，无需烧录。需控制板支持。",isConfiged:!1,type:"firmwareUpdate",routePath:"/open/product/otaUpdate",url:a("YKHW")},{title:"场景联动配置",desc:"配置自动化联动的条件动作，以便加入场景，跟其他设备联动控制。",isConfiged:!1,type:"scene",routePath:"/open/product/ruleEngine",url:a("JGhx")},{title:"云端定时",desc:"云端设定开关时间及周循环，无需硬件嵌入式开发",isConfiged:!1,type:"cloud",routePath:"/open/product/cloudTimer",url:a("hGad")},{title:"设备告警",desc:"可定义配置设备预警消息推送，方便随时随地的设备监控",isConfiged:!1,type:"deviceWarning",routePath:"/open/device/devMsg",url:a("mBzF")}]),2),d=m[0],f=m[1],y=ln(Object(l.useState)(""),2),b=(y[0],y[1]),E=ln(Object(l.useState)(""),2),g=E[0],v=E[1],h=ln(Object(l.useState)(!1),2),O=h[0],w=h[1],I=ln(Object(l.useState)(!1),2),S=I[0],j=I[1],N=ln(Object(l.useState)(!1),2),A=N[0],C=N[1],x=ln(Object(l.useState)(!1),2),k=(x[0],x[1]),P=ln(Object(l.useState)(!1),2),F=P[0],M=P[1],R=ln(Object(l.useState)(""),2),D=R[0],V=R[1],L=ln(Object(l.useState)([]),2),B=L[0],K=L[1],U=ln(Object(l.useState)("add"),2),q=U[0],z=U[1],Q=ln(Object(l.useState)({}),2),H=Q[0],J=Q[1],G=function(){r()};Object(l.useImperativeHandle)(t,(function(){return{onFinish:G}}));var Z=function(){j(!1),Object(T.c)(T.a.getSecurityConfigStatus,{productId:n},{loading:!0}).then((function(e){var t=p()(u);e.data.gatewayConfigflag&&(t[0].isConfiged=!0,s(t),b(e.data.productConfig)),e.data.securityConfigflag&&(t[1].isConfiged=!0,s(t),v(e.data.productExtend.authorityType))}))},W=function(){Object(T.c)(T.a.getProductExtendInfo,{productId:n},{loading:!0}).then((function(e){V(e.data.productClassId)}))},Y=function(){Object(T.c)(T.a.getFirmwareList,{productId:n},{loading:!0}).then((function(e){if(e.data&&e.data.length>0){K(e.data);var t=p()(d);t[0].isConfiged=!0,f(t)}}))};Object(l.useEffect)((function(){Z(),W(),function(){if(on.schemeType)if(1==on.schemeType){var e=p()(d);e.splice(0,1),f(e)}else Y()}()}),[]);var X=function(e){switch(e){case"network":w(!0);break;case"security":j(!0);break;case"addFirmware":C(!0);break;case"gateway":k(!0)}};return c.a.createElement("div",{className:"service-config-page"},c.a.createElement("div",{className:"desc"},function(){if(!on.schemeType)return"";switch(on.schemeType){case 1:return"免开发方案，只需选择推荐模组以及配置固件信息，快速实现硬件智能化。";case 2:return"独立MCU方案，需选择下载MCU开发资料包等，进行相应开发。";case 3:return"SoC方案，不提供通用固件程序，需自行开发模组固件。"}}()),c.a.createElement("div",{className:"service-config-title"},"必选配置"),c.a.createElement("div",{className:"service-config-cont"},u&&u.map((function(e,t){return c.a.createElement("div",{className:"config-card",key:t},c.a.createElement("div",{className:"config-card-left"},c.a.createElement("img",{src:e.url,alt:"图片"})),c.a.createElement("div",{className:"config-card-right"},c.a.createElement("div",{className:"config-card-right-title"},e.title),c.a.createElement("div",{className:"config-card-right-desc"},e.desc),c.a.createElement("div",{className:"config-card-right-btn",onClick:function(){X(e.type)}},e.isConfiged?"修改":"配置")),e.isConfiged&&c.a.createElement("div",{className:"configured-logo"},"已配置"))}))),c.a.createElement("div",{className:"service-config-title"},"可选配置"),c.a.createElement("div",{className:"service-config-cont"},d.map((function(e,t){return c.a.createElement("div",{className:"config-card",key:t},c.a.createElement("div",{className:"config-card-left"},c.a.createElement("img",{src:e.url,alt:"图片"})),c.a.createElement("div",{className:"config-card-right"},c.a.createElement("div",{className:"config-card-right-title"},e.title),c.a.createElement("div",{className:"config-card-right-desc"},e.desc),c.a.createElement("div",{className:"flex-start"},e.isConfiged?"":["firmwareUpdate","cloud","deviceWarning","scene"].includes(e.type)?c.a.createElement("div",{className:"config-card-right-btn"},c.a.createElement(i.Link,{to:e.routePath,target:"_blank"},"配置")):c.a.createElement("div",{className:"config-card-right-btn",onClick:function(){X(e.type)}},"配置"),e.isConfiged?"addFirmware"===e.type?c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"config-card-right-btn",onClick:function(){X(e.type),z("add")}},"配置"),c.a.createElement("div",{className:"config-card-right-btn mar6",onClick:function(){M(!0)}},"详情")):c.a.createElement("div",{className:"config-card-right-btn",onClick:function(){X(e.type)}},"修改"):"")),e.isConfiged&&c.a.createElement("div",{className:"configured-logo"},"已配置"))}))),O&&c.a.createElement(Qa,{networkModalVisible:O,productId:n,isGateWayDevice:D,isedited:u[0].isConfiged,cancelHandle:function(){w(!1),Z(),W()}}),S&&c.a.createElement(Wa,{securityVisible:S,productId:n,isGateWayDevice:D,productExtend:g,isConfigedFunc:Z,cancelHandle:function(){j(!1)}}),A&&c.a.createElement(an,{productId:n,type:q,editData:H,firmwareVisible:A,confirmHandle:function(){C(!1),Y()},cancelHandle:function(){C(!1)}}),F&&c.a.createElement(rn,{productId:n,firmwareDetailVisible:F,firmwareDetailData:B,getFirmwareList:Y,cancelHandle:function(){M(!1)},showAddFirmware:function(e){C(!0),z(e)},showEditFirmware:function(e){C(!0),z("edit"),J(e)}}))}var sn=Object(l.forwardRef)(un);a("T8Ho");function mn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,l=[],c=!0,i=!1;try{for(a=a.call(e);!(c=(n=a.next()).done)&&(l.push(n.value),!t||l.length!==t);c=!0);}catch(e){i=!0,r=e}finally{try{c||null==a.return||a.return()}finally{if(i)throw r}}return l}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return pn(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return pn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pn(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function dn(e){var t=e.titleVisible,a=e.onCloseTitle,r=e.onOkClose,i={};sessionStorage.getItem("productItem")&&(i=JSON.parse(sessionStorage.getItem("productItem")));var o=mn(A.a.useForm(),1)[0],u=Object(l.useRef)(),s=mn(Object(l.useState)([]),2),m=s[0],p=s[1];Object(l.useEffect)((function(){Object(T.c)(T.a.getProductBrand).then((function(e){p(e.data)}))}),[]);return c.a.createElement(C.a,{title:"产品信息",placement:"right",closable:!1,onClose:a,visible:t,destroyOnClose:!0,width:393,footer:c.a.createElement("div",{style:{textAlign:"right"}},c.a.createElement(n.a,{onClick:a,style:{marginRight:8}},"取消"),c.a.createElement(n.a,{onClick:function(){o.validateFields().then((function(e){var t={productId:i.productId,productName:e.productName,brandId:e.brandId,productIcon:e.productIcon[0].url,productCode:e.productCode};Object(T.c)(T.a.editProductInfo,t).then((function(e){r()}))}))},type:"primary"},"确定"))},c.a.createElement("div",{className:"edit-left-protocol-wrap"},c.a.createElement(A.a,{labelCol:{span:8},wrapperCol:{span:16},form:o,initialValues:{productIcon:[{url:i.productIcon}],productName:i.productName}},c.a.createElement(A.a.Item,{label:"产品名称",name:"productName",rules:[{required:!0}]},c.a.createElement(N.a,null)),c.a.createElement(A.a.Item,{label:"产品ID"},c.a.createElement("span",null,i.productId)),c.a.createElement(A.a.Item,{label:"品类"},c.a.createElement("span",null,i.deviceType)),c.a.createElement(A.a.Item,{label:"品牌",name:"brandId",rules:[{required:!0}]},c.a.createElement(j.a,null,m.map((function(e){return c.a.createElement(j.a.Option,{value:e.brandId,key:e.brandId},e.fullName)})))),c.a.createElement(A.a.Item,{label:"产品型号",name:"username",rules:[{required:!0}]},c.a.createElement(N.a,null)),c.a.createElement(A.a.Item,{label:"通信协议"},c.a.createElement("span",null,i.bindTypeStr)),c.a.createElement(A.a.Item,{label:"智能化方案"},c.a.createElement("span",null,i.schemeName)),c.a.createElement(A.a.Item,{label:"产品编码"},c.a.createElement("span",null,i.productCode)),c.a.createElement(A.a.Item,{label:"产品密钥"},c.a.createElement("span",null,i.deviceKey)),c.a.createElement(A.a.Item,{label:"产品图片",name:"productIcon"},c.a.createElement($e.b,{ref:u,maxSize:10,format:".gif,.jpeg,.jpg,.png"})),c.a.createElement(A.a.Item,{label:"创建时间"},c.a.createElement("span",null,"枚举型")),c.a.createElement(A.a.Item,{label:"更新时间"},c.a.createElement("span",null,"枚举型")))))}function fn(){return(fn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function yn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,l=[],c=!0,i=!1;try{for(a=a.call(e);!(c=(n=a.next()).done)&&(l.push(n.value),!t||l.length!==t);c=!0);}catch(e){i=!0,r=e}finally{try{c||null==a.return||a.return()}finally{if(i)throw r}}return l}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return bn(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return bn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bn(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}t.default=Object(o.connect)((function(e){return{productBaseInfo:e.getIn(["product","productBaseInfo"]).toJS()}}),(function(e){return{getProductBaseInfo:function(t){return e(Object(u.getProductBaseInfo)(t))}}}))((function(e){var t=e.productBaseInfo,a=e.getProductBaseInfo,o=e.match,u=e.location,m={},p=Object(i.useHistory)();if(!sessionStorage.getItem("productItem"))return c.a.createElement(s.a,{tipText:"没有传入产品ID哦"});m=JSON.parse(sessionStorage.getItem("productItem"));var d=o.path,f=function(e){return+e.params.id}(o),y=0===t.mode,b=r.a.Step,E=[{title:"定义功能",content:"protocols"},{title:"确定面板",content:"firmpanel"},{title:"开发硬件",content:"projectSelect"},{title:"配置服务",content:"configService"},{title:"调试验证",content:"validation"}],g=0;E.forEach((function(e,t){e.content==u.pathname.split("/")[6]&&(g=t)}));var v=yn(Object(l.useState)(g),2),h=v[0],O=v[1],w={active_0:Object(l.useRef)(),active_1:Object(l.useRef)(),active_2:Object(l.useRef)(),active_3:Object(l.useRef)(),active_4:Object(l.useRef)()},I=yn(Object(l.useState)(!1),2),S=I[0],j=(I[1],Object(l.useCallback)((function(){O(h+1)})));if(Object(l.useEffect)((function(){u.pathname.split("/")[6]!=E[h].content&&p.push(o.url+"/"+E[h].content)}),[h]),!f)return c.a.createElement(s.a,{tipText:"没有传入产品ID哦"});var N=yn(Object(l.useState)(!1),2),A=N[0],C=N[1],x=c.a.createElement("div",{className:"product_title_baseinfo_list"},c.a.createElement("div",null,c.a.createElement("div",null,"品类："),c.a.createElement("div",null,m.deviceType)),c.a.createElement("div",null,c.a.createElement("div",null,"产品ID："),c.a.createElement("div",null,m.productId)),c.a.createElement("div",null,c.a.createElement("div",null,"通讯协议："),c.a.createElement("div",null,m.bindTypeStr)),c.a.createElement("div",null,c.a.createElement("div",null,"产品编码："),c.a.createElement("div",null,m.productCode)),c.a.createElement("div",null,c.a.createElement("div",null,"产品密钥："),c.a.createElement("div",null,m.deviceKey)));return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"eidt-wrapper"},c.a.createElement(Ht.a,{title:m.productName,titleTag:m.schemeName,btnTxt:"编辑",backTitle:"开发流程",btnClickHandle:function(){C(!0)}},x),c.a.createElement("div",{className:"product-main-wrap comm-shadowbox"},c.a.createElement("div",{className:"product-main-wrap_step"},c.a.createElement(r.a,{current:h},E.map((function(e){return c.a.createElement(b,{key:e.title,title:e.title})})))),c.a.createElement(Ve.Provider,{value:{productIdInRoutePath:f}},c.a.createElement(i.Switch,null,c.a.createElement(i.Route,{path:"".concat(d,"/protocols"),render:function(e){return c.a.createElement(We,fn({ref:w.active_0,isContinue:S},e,{nextStep:j,canOperate:y,productId:f}))}}),c.a.createElement(i.Route,{path:"".concat(d,"/firmpanel"),render:function(e){return c.a.createElement(Sa.a,fn({ref:w.active_1,isContinue:S},e,{nextStep:j,canOperate:y,getProductBaseInfo:a,productId:f}))}}),c.a.createElement(i.Route,{path:"".concat(d,"/projectSelect"),render:function(e){return c.a.createElement(Ia,fn({ref:function(e){return w.active_2=e},isContinue:S},e,{nextStep:j,canOperate:y,productId:f}))}}),c.a.createElement(i.Route,{path:"".concat(d,"/configService"),render:function(e){return c.a.createElement(sn,fn({ref:w.active_3,isContinue:S},e,{nextStep:j,canOperate:y,productId:f}))}}),c.a.createElement(i.Route,{path:"".concat(d,"/validation"),render:function(e){return c.a.createElement(Da,fn({ref:w.active_4,isContinue:S},e,{nextStep:j,canOperate:y,productId:f}))}}),c.a.createElement(i.Redirect,{to:"".concat(d,"/protocols")})))),c.a.createElement("div",{className:"product-main-footer"},h>0&&c.a.createElement(n.a,{style:{margin:"0 8px"},onClick:function(){O(h-1)},type:"primary",ghost:!0},"上一步"),h<E.length-1&&c.a.createElement(n.a,{type:"primary",onClick:function(){2===h?w["active_"+h].onFinish():w["active_"+h].current.onFinish()}},"下一步"),h===E.length-1&&c.a.createElement(n.a,{type:"primary",onClick:function(){w["active_"+h].current.showRelease()}},"发布产品"))),A&&c.a.createElement(dn,{titleVisible:A,onCloseTitle:function(){C(!1)},onOkClose:function(){Object(De.a)({type:"success",description:"更新成功！"}),C(!1),p.push("/open/product/proManage/list")}}))}))},bWgW:function(e,t){e.exports="data:image/png;base64,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"},fAKH:function(e,t,a){},ggmS:function(e,t,a){},j2VY:function(e,t,a){},jXZW:function(e,t,a){},nXTq:function(e,t){e.exports="data:image/png;base64,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"},sTEO:function(e,t,a){},tATc:function(e,t,a){},wkzE:function(e,t,a){},zhBQ:function(e,t,a){}}]);
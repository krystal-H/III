(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"VS/T":function(e,t,n){},hplX:function(e,t,n){},iPVe:function(e,t,n){},qG2J:function(e,t,n){"use strict";n.r(t);n("pNMO"),n("4Brf"),n("0oug"),n("4mDm"),n("PKPk"),n("3bBZ"),n("+2oP"),n("sMBO"),n("pjDv"),n("tkto"),n("TeQF"),n("5DmW"),n("27RR"),n("mbEz");var a=n("wCAj"),r=(n("L/Qf"),n("2/Rp")),l=(n("qNb/"),n("PArb")),i=(n("tULf"),n("Vl3Y")),o=(n("1vPl"),n("5rEg")),c=(n("RKNx"),n("L41K")),u=(n("8QGh"),n("2fM7")),s=n("BkRI"),d=n.n(s),m=(n("pDQq"),n("2B1R"),n("FZtP"),n("07d7"),n("5s+n"),n("p532"),n("q1tI")),p=n.n(m),f=n("Nlzp"),y=n("DgvE"),b=n("MeRu"),v=n("wmP4"),g=n.n(v),h=n("TL2v"),E=n("FC04"),O=(n("k3Gp"),n("kLXV")),I=n("P2RN"),w=(n("QCje"),n("fyUT"));n("yq1k"),n("rB9j"),n("EnZy"),n("JTJg"),n("SYor");function A(e){return function(e){if(Array.isArray(e))return N(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||C(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){k(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,l=[],i=!0,o=!1;try{for(n=n.call(e);!(i=(a=n.next()).done)&&(l.push(a.value),!t||l.length!==t);i=!0);}catch(e){o=!0,r=e}finally{try{i||null==n.return||n.return()}finally{if(o)throw r}}return l}(e,t)||C(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){if(e){if("string"==typeof e)return N(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?N(e,t):void 0}}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var x=u.a.Option,P=[{arrayDefVOList:null,command:null,content:null,dataType:5,dataTypeId:5,dataTypeName:"配置数据",dataTypeNameEn:"Config Data",developerId:null,deviceSubtypeId:null,deviceTypeId:null,mode:0,moduleType:null,productId:139,productVersion:null,protocolFormat:1,protocolId:68726,protocolStatus:1,protocolType:1,structDefVOList:null,list:[{actionType:null,bitDefList:null,commonName:"基础功能_一(序号)_数值配置",defaultPropertyValue:null,functionDataType:2,gap:1,ignore:!1,isSigned:0,isTemplateField:1,javaType:"LONG",length:1,loop:null,mulriple:1,property:"Base_1_ValueCfg_Null",propertyFrom:null,propertyName:"心率",propertyValueDesc:"0~255",propertyValueType:"RANGE",remark:null,standard:null,thingLabel:null,thingLabelId:null,thingLabelName:null,unit:null},{actionType:null,bitDefList:null,commonName:"基础功能_二(序号)_数值配置",defaultPropertyValue:null,functionDataType:2,gap:1,ignore:!1,isSigned:0,isTemplateField:1,javaType:"LONG",length:1,loop:null,mulriple:1,property:"Base_2_ValueCfg_Null",propertyFrom:null,propertyName:"呼吸率",propertyValueDesc:"0~255",propertyValueType:"RANGE",remark:null,standard:null,thingLabel:null,thingLabelId:null,thingLabelName:null,unit:null},{actionType:null,bitDefList:null,commonName:"基础功能_数值配置_定时时间",defaultPropertyValue:null,functionDataType:2,gap:1,ignore:!1,isSigned:0,isTemplateField:1,javaType:"LONG",length:1,loop:null,mulriple:1,property:"Base_Null_ValueCfg_TimingTime",propertyFrom:null,propertyName:"上传实时波形",propertyValueDesc:"0~255",propertyValueType:"RANGE",remark:"上传实时波形的剩余持续时间，以10s为单位",standard:null,thingLabel:null,thingLabelId:null,thingLabelName:null,unit:null},{actionType:null,bitDefList:null,commonName:"基础功能_开关配置",defaultPropertyValue:null,functionDataType:3,gap:null,ignore:!1,isSigned:0,isTemplateField:1,javaType:"LONG",length:1,loop:null,mulriple:null,property:"Base_Null_OnOffCfg_Null",propertyFrom:null,propertyName:"在离床标志",propertyValueDesc:"0-离床|1-在床",propertyValueType:"ENUM",remark:null,standard:null,thingLabel:null,thingLabelId:null,thingLabelName:null,unit:null},{actionType:null,bitDefList:null,commonName:"基础功能_字符串配置_处理过的传感器信号",defaultPropertyValue:null,functionDataType:1,gap:null,ignore:!1,isSigned:0,isTemplateField:1,javaType:"STRING",length:108,loop:null,mulriple:null,property:"Base_Null_StringCfg_TreatedBeltSignal",propertyFrom:null,propertyName:"原始波形",propertyValueDesc:null,propertyValueType:null,remark:null,standard:null,thingLabel:null,thingLabelId:null,thingLabelName:null,unit:null}]}];function L(e,t){var n=e.nextStep,r=T(Object(m.useState)([]),2),l=r[0],i=r[1],c=T(Object(m.useState)([]),2),s=c[0],d=c[1],f=T(Object(m.useState)([]),2),b=f[0],v=f[1],g=T(Object(m.useState)(b.map((function(e){return e.defaultPropertyValue||""}))),2),h=g[0],E=g[1],O=T(Object(m.useState)(0),2),S=O[0],k=O[1],C=function(){console.log(n,t);var e=[];if(1!==S){if(l.length<1)return Object(I.a)({description:"请至少选择一条配置协议"});l.forEach((function(t){[""," ",null,void 0].includes(h[t])&&e.push(t)}))}else h.forEach((function(t,n){[""," ",null,void 0].includes(t)&&e.push(n)}));if(e.length>0)return Object(I.a)({description:"请为配置协议添加参数"}),void d(e);n()};Object(m.useImperativeHandle)(t,(function(){return{onFinish:C}})),Object(m.useEffect)((function(){var e=P.filter((function(e){return 5===e.dataType})),t=e[0]&&e[0].list||[],n=e[0]&&e[0].protocolFormat||0;t=(t=t.filter((function(e){return"Base_Null_Reserved_Null"!==e.property}))).map((function(e,t){var n=e.propertyValueDesc,a=null;if(n&&n.indexOf("|")>-1&&(a=n.split("|").map((function(e){var t=e.split("-");return t.length>1?{name:t[1],value:t[0]}:{}}))),n&&n.indexOf("~")>-1){var r=T(n.split("~"),2);a={min:+r[0],max:+r[1]}}return j(j({},e),{},{_type:Object(y.k)(e),_params:a,_index:t,key:t})})),v(t),k(n)}),[]);var N=function(e,t){var n=A(h),a=s.filter((function(e){return e!==t}));n[t]=e,E(n),d(a)},L={selectedRowKeys:l,onChange:function(e){i(e)}},D=[{title:"数据名称",dataIndex:"propertyName",key:"propertyName",width:160},{title:"数据标识",dataIndex:"property",width:240,key:"property"},{title:"数据类型",dataIndex:"_type",key:"_type"},{title:"数据属性",dataIndex:"propertyValueDesc",key:"propertyValueDesc"},{title:"下发数据",dataIndex:"execTime",key:"execTime",width:180,render:function(e,t){var n=t._type,a=t._params,r=t._index,i=t.key,c=null,d=1!==S&&!l.includes(i);switch(n){case"数值型":c=p.a.createElement(w.a,{value:h[r],min:a.min,max:a.max,disabled:d,onChange:function(e){return N(e,r)},placeholder:"请输入参数"});break;case"字符型":c=p.a.createElement(o.a,{value:h[r],maxLength:30,disabled:d,onChange:function(e){return N(e.target.value.trim(),r)},placeholder:"请输入参数"});break;default:c=p.a.createElement(u.a,{disabled:d,value:h[r]||"",onChange:function(e){return N(e,r)}},p.a.createElement(x,{key:-1,value:""},"请选择参数"),a&&a.map((function(e,t){return p.a.createElement(x,{key:t+n,value:e.value},e.name)})))}return p.a.createElement("span",{className:"config-send-data ".concat(s.includes(r)?"warn":"")},c)}}];return p.a.createElement(a.a,{columns:D,className:"config-data-table",rowSelection:1!==S?L:null,dataSource:b,scroll:{y:300},pagination:!1})}var D=Object(m.forwardRef)(L),V=(n("AUBz"),n("ZTPi")),R=(n("x0AG"),n("ma9I"),n("wlus"));n("iPVe");function q(e){return function(e){if(Array.isArray(e))return J(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||K(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function B(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,l=[],i=!0,o=!1;try{for(n=n.call(e);!(i=(a=n.next()).done)&&(l.push(a.value),!t||l.length!==t);i=!0);}catch(e){o=!0,r=e}finally{try{i||null==n.return||n.return()}finally{if(o)throw r}}return l}(e,t)||K(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K(e,t){if(e){if("string"==typeof e)return J(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?J(e,t):void 0}}function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}u.a.Option;var M=o.a.Search,Q=V.a.TabPane;var G=function(){var e=B(Object(m.useState)("2"),2),t=e[0],n=(e[1],B(Object(m.useState)(!1),2)),r=n[0],l=n[1],i=B(Object(m.useState)([]),2),o=(i[0],i[1],B(Object(m.useState)({curDeviceInfoList:[],allDeviceInfoList:[],allDeviceInfoPager:{pageIndex:1,currPageRows:7}}),2)),c=o[0],u=o[1],s=B(Object(m.useState)([]),2),b=s[0],v=s[1],g=B(Object(m.useState)({rightAllList:[],rightTempList:[]}),2),h=g[0],E=g[1],O=Object(m.useRef)(null),I=c.curDeviceInfoList,w=c.allDeviceInfoList,A=c.allDeviceInfoPager,S=h.rightAllList,j=h.rightTempList,k=[{title:"设备ID",dataIndex:"deviceUniqueId",key:"deviceUniqueId"},{title:"物理地址",dataIndex:"macAddress",key:"macAddress"},{title:"操作",key:"action",render:function(e,t){return p.a.createElement("span",{onClick:function(){return C(t)},className:"remove-single"},"移除")}}],T=function(e,t){var n=d()(e),a=n.findIndex((function(e){return e.deviceUniqueId===t.deviceUniqueId}));return n.splice(a,1),n},C=function(e){E(F(F({},h),{},{rightAllList:T(S,e),rightTempList:T(j,e)}));var t=d()(b),n=t.findIndex((function(t){return t===e.deviceUniqueId}));t.splice(n,1),v(t)},N={selectedRowKeys:b,onChange:function(e){console.log(e,"左侧list选中的数据"),v(e)}},x=function(e){var t,n={},a=n.list,r=void 0===a?[]:a,l=n.pager;t={currPageRows:8,defaultPageRows:20,hasNextPage:!0,hasPrevPage:!1,pageEndRow:7,pageIndex:1,pageRows:8,pageStartRow:0,paged:!1,totalPages:64,totalRows:512},r=[{deviceId:64912,deviceUniqueId:"0CCCCCCC0000",macAddress:"0CCCCCCC0000"},{deviceId:139557,deviceUniqueId:"123123123120",macAddress:"123123123120"},{deviceId:139559,deviceUniqueId:"123123123121",macAddress:"123123123121"},{deviceId:153557,deviceUniqueId:"123123123130",macAddress:"123123123130"},{deviceId:52594,deviceUniqueId:"405EE1100001",macAddress:"405EE1100001"}];var i=[].concat(q(w),q(r));r.forEach((function(e){e.key=e.deviceUniqueId})),u({curDeviceInfoList:r,allDeviceInfoPager:t,allDeviceInfoList:i})};Object(m.useEffect)((function(){x()}),[]);var P=I;return p.a.createElement("div",{className:"choose-update-device"},p.a.createElement("div",{className:"device-block"},p.a.createElement("p",{className:"device-block-tip"},"选择配置更新的设备"),p.a.createElement("div",{className:"device-block-item padtop0"},p.a.createElement(V.a,{activeKey:t,defaultActiveKey:"1",onChange:function(e){console.log(e)}},p.a.createElement(Q,{tab:"设备列表",key:"1"},p.a.createElement(M,{enterButton:"查 找",allowClear:!0,loading:r,onSearch:function(e){l(!0),Object(f.b)(f.a.getDeviceInfoByIdOrMacAddress,{productId:"",query:e}).then((function(e){var t=e.data;t.key=t.deviceUniqueId,e.data})).finally((function(){l(!1)}))},maxLength:50,className:"search-box",placeholder:"请输入设备ID/物理地址查找"}),p.a.createElement(a.a,{columns:[{title:"设备ID",dataIndex:"deviceUniqueId",key:"deviceUniqueId",width:140},{title:"物理地址",dataIndex:"macAddress",width:140,key:"macAddress"}],dataSource:P,rowSelection:N,pagination:{total:A.totalRows,defaultCurrent:1,defaultPageSize:A.currPageRows,showQuickJumper:!1,hideOnSinglePage:!0,size:"small",onChange:function(e){return x()},showTotal:function(e){return p.a.createElement("span",null,"共 ",p.a.createElement("a",null,e)," 条")}}})),p.a.createElement(Q,{tab:"本地导入",key:"2"},"Content of Tab Pane 2")))),p.a.createElement("div",{className:"transfer-icon",onClick:function(){var e=w.filter((function(e){return b.includes(e.deviceUniqueId)})),t=Object(y.m)([].concat(q(S),q(e)),"deviceUniqueId");O&&(O.current.input.value=""),E({rightAllList:t,rightTempList:t})}}),p.a.createElement("div",{className:"device-block"},p.a.createElement("p",{className:"device-block-tip"},"已选中：",b.length||0,"条"),p.a.createElement("div",{className:"device-block-item"},p.a.createElement(M,{enterButton:"查 找",ref:O,onSearch:function(e){var t=q(S);if(e&&e.trim()){var n=e.trim();t=S.filter((function(e){var t=e.deviceUniqueId,a=e.macAddress;return t.indexOf(n)>-1||a.indexOf(n)>-1}))}E(F(F({},h),{},{rightTempList:t}))},maxLength:50,placeholder:"请输入设备ID/物理地址查找"}),p.a.createElement("div",{className:"remove-all"},p.a.createElement("a",{className:j.length>0?"":"disable",onClick:function(){E({rightAllList:[],rightTempList:[]}),v([])}},p.a.createElement(R.a,null)," 一键移除")),p.a.createElement(a.a,{columns:k,dataSource:j,pagination:{total:j.length,defaultCurrent:1,defaultPageSize:7,showQuickJumper:!1,hideOnSinglePage:!0,size:"small",showTotal:function(e){return p.a.createElement("span",null,"共 ",p.a.createElement("a",null,e)," 条")}}}))))};n("hplX");function z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,l=[],i=!0,o=!1;try{for(n=n.call(e);!(i=(a=n.next()).done)&&(l.push(a.value),!t||l.length!==t);i=!0);}catch(e){o=!0,r=e}finally{try{i||null==n.return||n.return()}finally{if(o)throw r}}return l}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Z(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var W=o.a.TextArea,Y=u.a.Option,X=c.a.Step,H=[{title:"填写任务说明"},{title:"添加配置数据"},{title:"选择配置更新的设备"}];var $=function(e){var t=e.visible,n=e.onCancel,a=Object(m.useRef)(),l=z(i.a.useForm(),1)[0],s=z(Object(m.useState)(2),2),f=s[0],y=s[1],b=function(){0===f?l.submit():1===f&&(console.log(a,"refConfig"),a.current.onFinish())};return p.a.createElement(O.a,{title:"创建任务",centered:!0,destroyOnClose:!0,maskClosable:!1,visible:t,width:900,onCancel:n,wrapClassName:"remote-config-modal",footer:[0!==f&&p.a.createElement(r.a,{key:"previous",onClick:function(){y(f-1)}},"上一步"),p.a.createElement(r.a,{type:"primary",key:"next",onClick:function(){return b()}},2===f?"确认创建":"下一步")]},p.a.createElement("div",{className:"remote-config"},p.a.createElement("div",{className:"step-box"},p.a.createElement(c.a,{current:f},H.map((function(e,t){return p.a.createElement(X,{key:e.title,title:e.title})})))),0===f&&p.a.createElement(i.a,{form:l,name:"filTask",labelCol:{span:4},wrapperCol:{span:18},initialValues:{},onFinish:function(e){console.log("Received values of form: ",e);var t=d()(f);y(++t)},onFinishFailed:function(e){console.log("Failed:",e)}},p.a.createElement(i.a.Item,{label:"归属产品",name:"brandId",rules:[{required:!0,message:"请选择归属产品"}]},p.a.createElement(u.a,{style:{width:"100%"},placeholder:"请选择归属产品"},p.a.createElement(Y,{value:"option1"},"option1"),p.a.createElement(Y,{value:"option2"},"option2"))),p.a.createElement(i.a.Item,{label:"任务名称",name:"productName",rules:[{required:!0,message:"请输入任务名称"},{max:20,message:"最大输入长度为20"}]},p.a.createElement(o.a,{style:{width:"100%"},placeholder:"请输入任务名称，不能超过20个字符"})),p.a.createElement(i.a.Item,{label:"任务说明",name:"productParam",rules:[{required:!0,message:"请输入任务说明"}]},p.a.createElement(W,{showCount:!0,maxLength:100,placeholder:"请输入任务说明",autoSize:{minRows:4}}))),1===f&&p.a.createElement(D,{ref:a,nextStep:function(){y(f+1)}}),2===f&&p.a.createElement(G,null)))};n("VS/T");function ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(n),!0).forEach((function(t){ne(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ae(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,l=[],i=!0,o=!1;try{for(n=n.call(e);!(i=(a=n.next()).done)&&(l.push(a.value),!t||l.length!==t);i=!0);}catch(e){o=!0,r=e}finally{try{i||null==n.return||n.return()}finally{if(o)throw r}}return l}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return re(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return re(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function re(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var le=u.a.Option,ie=c.a.Step,oe=o.a.Search,ce=["平台支持远程更新设备的配置数据，您可以提交远程配置任务，实时对设备的系统参数等数据进行远程更新，并且获取设备配置的更新状态；详细说明可参考文档"],ue=[{title:"创建远程配置任务"},{title:"添加配置数据"},{title:"选择设备"},{title:"执行任务"}],se=["草稿","待执行","执行中","已执行"];t.default=function(){var e=ae(i.a.useForm(),1)[0],t=ae(Object(m.useState)("inline"),1)[0],n=ae(Object(m.useState)([]),2),o=n[0],s=(n[1],ae(Object(m.useState)(!1),2)),v=s[0],O=s[1],I=ae(Object(m.useState)(null),2),w=I[0],A=I[1],S=ae(Object(m.useState)({pageIndex:1}),2),j=S[0],k=(S[1],ae(Object(m.useState)({deletevisible:!1,deleteItem:null,deleteLoading:!1}),2)),T=k[0],C=k[1],N=ae(Object(m.useState)([{taskId:"1",taskExplain:"任务说明哈哈1任务说明哈哈1任务说明哈哈1任务说明哈哈1任务说明哈哈1任务说明哈哈1任务说明哈哈1",deviceTotal:"20",status:"1",execTime:null},{taskId:"2",taskExplain:"任务说明哈哈2",deviceTotal:"60",status:"2",execTime:null},{taskId:"3",taskExplain:"哈哈2",deviceTotal:"60",status:"3",execTime:null},{taskId:"0",taskExplain:"aaaaa",deviceTotal:"100",status:"0",execTime:null}]),2),x=N[0],P=(N[1],j.totalRows),L=j.pageIndex,D=j.pageRows,V=T.deletevisible,R=T.deleteItem,q=T.deleteLoading;d()(ue);var U=se,F=function(e){return alert("敬请期待！")},_=[{title:"任务ID",dataIndex:"taskId",key:"taskId"},{title:"任务名称",dataIndex:"taskName",key:"taskName"},{title:"任务说明",dataIndex:"taskExplain",key:"taskExplain",width:400},{title:"更新设备数量",dataIndex:"deviceTotal",key:"deviceTotal"},{title:"任务状态",dataIndex:"status",key:"status",render:function(e,t){var n=t.status;return p.a.createElement("span",{className:"h5-statu-".concat(n+1)},U[n])}},{title:"执行时间",dataIndex:"execTime",key:"execTime",render:function(e,t){var n=t.execTime;return p.a.createElement("span",null,n?y.a.utcToDev(n):"--")}},{title:"操作",key:"action",render:function(e,t){var n=t.status;t.taskId;return p.a.createElement("span",null,""+n=="1"?p.a.createElement(p.a.Fragment,null,p.a.createElement("a",{onClick:function(){return F()}},"编辑"),p.a.createElement(l.a,{type:"vertical"}),p.a.createElement("a",{onClick:function(){return C({deletevisible:!0,deleteItem:t})}},"删除")):p.a.createElement("a",{onClick:function(){}},"查看"))}}];Object(m.useEffect)((function(){B()}),[]);var B=function(e){};return p.a.createElement("div",{id:"remote-config"},p.a.createElement(b.a,{title:"远程配置"},p.a.createElement("div",{className:"top-select"},p.a.createElement(u.a,{defaultValue:"all",style:{width:200},allowClear:!0},p.a.createElement(le,{value:"all"},"全部产品")))),p.a.createElement("div",{className:"comm-shadowbox setp-tip"},p.a.createElement("div",{className:"step-title"},p.a.createElement("img",{src:g.a,alt:""}),p.a.createElement("span",null,"远程配置步骤")),p.a.createElement(h.a,{desc:ce,style:{marginBottom:22}}),p.a.createElement(c.a,{current:-1,initial:0},p.a.createElement(ie,{title:"创建远程配置任务",description:"创建远程配置任务，填写任务的目的或备注信息。"}),p.a.createElement(ie,{title:"添加配置数据",description:"添加要更新的产品配置数据字段和更新的数值。"}),p.a.createElement(ie,{title:"选择设备",description:"可通过设备ID/物理地址，设备标签，本地导入确定要配置的设备。"}),p.a.createElement(ie,{title:"执行任务",description:"提交执行远程配置任务，设备更新结果实时可见。"}))),p.a.createElement("div",{className:"comm-shadowbox device-content"},p.a.createElement("div",{className:"content-top"},p.a.createElement("div",{className:"content-top-left"},p.a.createElement(i.a,{form:e,layout:t,name:"remote-config-search",onFinish:function(e){console.log("Received values of form: ",e)},labelCol:{span:7},wrapperCol:{span:17},initialValues:{}},p.a.createElement(i.a.Item,{label:"任务状态",name:"status"},p.a.createElement(u.a,{allowClear:!0,style:{width:150,marginRight:40}},se.map((function(e,t){return p.a.createElement(le,{key:e,value:t},e)})))),p.a.createElement(i.a.Item,{label:"任务名称",name:"taskName"},p.a.createElement(oe,{placeholder:"请输入任务名称",onSearch:function(){e.submit()},enterButton:!0,style:{width:465}})))),p.a.createElement(r.a,{type:"primary",onClick:function(){return F()}},"创建任务")),p.a.createElement(a.a,{columns:_,className:"ant-table-fixed",rowKey:"taskId",dataSource:x,pagination:{total:P,current:L,defaultCurrent:1,defaultPageSize:10,showQuickJumper:!0,hideOnSinglePage:!0,onChange:function(e){return function(e){B(e)}(e)},showTotal:function(e){return p.a.createElement("span",null,"共 ",p.a.createElement("a",null,e)," 条")}}})),v&&p.a.createElement($,{visible:v,onCancel:function(){O(!1),A(null)},editData:w,configProtoclList:o,isDeviceRomote:!1}),V&&p.a.createElement(E.a,{visible:V,modalOKHandle:function(){var e=R.taskId;C(te(te({},T),{},{deleteLoading:!0})),Object(f.b)(f.a.deleteRomoteConfig,{taskId:e}).then((function(e){B(D>1?L:L-1>0?L-1:1)})).finally((function(){C({deletevisible:!1,deleteItem:null,deleteLoading:!1})}))},modalCancelHandle:function(){return C({deletevisible:!1,deleteItem:null,deleteLoading:!1})},targetName:R.taskId,confirmLoading:q,title:"删除任务",needWarnIcon:!0,descText:"即将删除的任务",tipText:"任务的所有信息将完全被删除，无法找回，请谨慎操作"}))}},wmP4:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAOCAYAAAAmL5yKAAAACXBIWXMAAA7EAAAOxAGVKw4bAAABsklEQVQokWWRvW4TQRSFv5nMLE4U8IJEEaFFUUJhCQpA4idNKFJQUiU0eYM8QOqUCCSQeAXShJISCQch4QYqQEHhV3LjmCoKyEnsvZdixrtr+xazO3N3vnPuWfP2c2dPoYEqqqBhQeMehucCwz78vH97fhHAqdIoLkHlcgRU9qGtqOoCsVzRjAAVjapaKI4ARIlSJaC0L1WVEUjhhGKMccCk7XJ+ZTKbIUCqI4zaRpVTgVY3Ze9wlt7AceFMn8a5I1Z3dPrlmumZ1x/bClrOVgH0BbZ/zNE5rpFY8AZ8fCZTtPoJK05VylmJTiS8v++mHBzXSAxs3IEshSe7YBS8YWkmZ9OGVKKqKCLKEPr18CzewMZd+NKBm5fg+lzpwhvWgwMpE64G1csd3sLlFB5cDaFldfh2ECCJJXMKzxQWwGCQmHr4eNbJ8kCm0se7QTmrw8MbkOfw4Td4S9swVs3mr9o/398W1bz15+Kt73/Pz1fDu7cIy1fg+Rtwlq0JwKt3+59U5JqiDMTQ7GYcDWZG/4AFZ2md5KxMAMZrdUen6zmb3rCeWDJvaTvDi5OcR0/XTO8/FFxXqP9J8G8AAAAASUVORK5CYII="}}]);